<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"> <!-- begin SEO --><title>Chat Bot with Node.JS, Express and RabbitMQ Part 1 - Dhananjay Ghanwat</title><meta property="og:locale" content="en-US"><meta property="og:site_name" content="Dhananjay Ghanwat"><meta property="og:title" content="Chat Bot with Node.JS, Express and RabbitMQ Part 1"><link rel="canonical" href="https://dghanwat.github.io/posts/2018/12/chatbot-with-nodejs-express-rabbitmq-part-1/"><meta property="og:url" content="https://dghanwat.github.io/posts/2018/12/chatbot-with-nodejs-express-rabbitmq-part-1/"><meta property="og:description" content="Lets build a highly scalable, distributed chatbot service with Node.JS, Express and RabbitMQ"><meta property="og:type" content="article"><meta property="article:published_time" content="2018-12-15T00:00:00-08:00"> <script type="application/ld+json"> { "@context" : "http://schema.org", "@type" : "Person", "name" : "Dhananjay Ghanwat", "url" : "https://dghanwat.github.io", "sameAs" : null } </script> <!-- end SEO --><link href="https://dghanwat.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Dhananjay Ghanwat Feed"> <!-- http://t.co/dKP3o1e --><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1.0"> <script> document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js '; </script> <!-- For all browsers --><link rel="stylesheet" href="https://dghanwat.github.io/assets/css/main.css"><meta http-equiv="cleartype" content="on"> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-116336905-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> <!-- start custom head snippets --><link rel="apple-touch-icon" sizes="57x57" href="https://dghanwat.github.io/images/apple-touch-icon-57x57.png?v=M44lzPylqQ"><link rel="apple-touch-icon" sizes="60x60" href="https://dghanwat.github.io/images/apple-touch-icon-60x60.png?v=M44lzPylqQ"><link rel="apple-touch-icon" sizes="72x72" href="https://dghanwat.github.io/images/apple-touch-icon-72x72.png?v=M44lzPylqQ"><link rel="apple-touch-icon" sizes="76x76" href="https://dghanwat.github.io/images/apple-touch-icon-76x76.png?v=M44lzPylqQ"><link rel="apple-touch-icon" sizes="114x114" href="https://dghanwat.github.io/images/apple-touch-icon-114x114.png?v=M44lzPylqQ"><link rel="apple-touch-icon" sizes="120x120" href="https://dghanwat.github.io/images/apple-touch-icon-120x120.png?v=M44lzPylqQ"><link rel="apple-touch-icon" sizes="144x144" href="https://dghanwat.github.io/images/apple-touch-icon-144x144.png?v=M44lzPylqQ"><link rel="apple-touch-icon" sizes="152x152" href="https://dghanwat.github.io/images/apple-touch-icon-152x152.png?v=M44lzPylqQ"><link rel="apple-touch-icon" sizes="180x180" href="https://dghanwat.github.io/images/apple-touch-icon-180x180.png?v=M44lzPylqQ"><link rel="icon" type="image/png" href="https://dghanwat.github.io/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32"><link rel="icon" type="image/png" href="https://dghanwat.github.io/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192"><link rel="icon" type="image/png" href="https://dghanwat.github.io/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96"><link rel="icon" type="image/png" href="https://dghanwat.github.io/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16"><link rel="manifest" href="https://dghanwat.github.io/images/manifest.json?v=M44lzPylqQ"><link rel="mask-icon" href="https://dghanwat.github.io/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000"><link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ"><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-TileImage" content="https://dghanwat.github.io/images/mstile-144x144.png?v=M44lzPylqQ"><meta name="msapplication-config" content="https://dghanwat.github.io/images/browserconfig.xml?v=M44lzPylqQ"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="https://dghanwat.github.io/assets/css/academicons.css"/><link rel="stylesheet" href="https://dghanwat.github.io/assets/css/compiled-css-core-1412801242.css"/><link rel="stylesheet" href="https://dghanwat.github.io/assets/css/compiled-css-sections-1412801242.css"/> <!-- end custom head snippets --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-8794586046438347", enable_page_level_ads: true }); </script></head><body> <!--[if lt IE 9]><div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]--><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu pl-section span12 offset0 pl-bg-cover section-iheader"><nav id="site-nav" class="greedy-nav nav-wrap fix classic "> <button><div class="navicon"></div></button><ul class="visible-links inline-list pl-nav sf-menu respond dd-theme-dark dd-toggle-hover sf-js-enabled sf-arrows"><li class="masthead__menu-item masthead__menu-item--lg homebutton"><a href="https://dghanwat.github.io/"><i class="icon icon-home"></i></a></li><li class="masthead__menu-item"><a href="https://dghanwat.github.io/year-archive/">Blog Posts</a></li><li class="masthead__menu-item"><a href="https://dghanwat.github.io/talks/">Ignite Sessions</a></li><li class="masthead__menu-item"><a href="https://dghanwat.github.io/teaching/">Trainings</a></li><li class="masthead__menu-item"><a href="https://dghanwat.github.io/cv/">CV</a></li></ul><ul class="hidden-links hidden"></ul></nav></div></div></div><!--<div class="masthead"><div class="masthead__inner-wrap"><div class="pl-section span12 offset0 pl-section-pad fix "></div><div class="pl-section span12 offset0 pl-bg-cover section-iheader"><nav id="site-nav" class="nav-wrap fix classic greedy-nav"><ul class="homebutton"><li> <a href="/" title="Dhananjay Ghanwat"> <i class="icon icon-home"></i> </a></li></ul><ul id="menu-main-1" class="visible-links inline-list pl-nav sf-menu respond dd-theme-dark dd-toggle-hover sf-js-enabled sf-arrows"><li class="masthead__menu-item megamenu menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children sf-with-ul menu-item-1603 mega-col-2"> <a href="https://dghanwat.github.io/year-archive/">Blog Posts</a></li><li class="masthead__menu-item megamenu menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children sf-with-ul menu-item-1603 mega-col-2"> <a href="https://dghanwat.github.io/talks/">Ignite Sessions</a></li><li class="masthead__menu-item megamenu menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children sf-with-ul menu-item-1603 mega-col-2"> <a href="https://dghanwat.github.io/teaching/">Trainings</a></li><li class="masthead__menu-item megamenu menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children sf-with-ul menu-item-1603 mega-col-2"> <a href="https://dghanwat.github.io/cv/">CV</a></li><li class="popup-nav"> <a class="menu-toggle mm-toggle respond"> <i class="icon icon-reorder"></i> </a></li></ul><ul class="hidden-links hidden"></ul></nav></div></div></div>--><div id="main" role="main"><div class="sidebar sticky"><div itemscope itemtype="http://schema.org/Person"><div class="author__avatar"> <img src="https://dghanwat.github.io/images/profile.png" class="author__avatar" alt="Dhananjay Ghanwat"></div><div class="author__content"><h3 class="author__name">Dhananjay Ghanwat</h3><p class="author__bio">Software Enthusiast</p></div><div class="author__urls-wrapper"> <button class="btn btn--inverse">Follow</button><ul class="author__urls social-icons"><li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Pune</li><li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Atos</li><li><a href="mailto:dhananjay.ghanwat@gmail.com"><i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li><li><a href="https://plus.google.com/+dhananjay.ghanwat"><i class="fa fa-fw fa-google-plus-square" aria-hidden="true"></i> Google+</a></li><li><a href="https://www.linkedin.com/in/dhananjay-ghanwat-3321b6ab"><i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn</a></li><li><a href="https://github.com/dghanwat"><i class="fa fa-fw fa-github" aria-hidden="true"></i> Github</a></li></ul></div></div></div><!--<div>Hello From Advertisements</div>--><article class="page" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="headline" content="Chat Bot with Node.JS, Express and RabbitMQ Part 1"><meta itemprop="description" content="Lets build a highly scalable, distributed chatbot service with Node.JS, Express and RabbitMQ"><meta itemprop="datePublished" content="December 15, 2018"><div class="page__inner-wrap"><header><h1 class="page__title" itemprop="headline">Chat Bot with Node.JS, Express and RabbitMQ Part 1</h1><p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 6 minute read</p><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2018-12-15T00:00:00-08:00">December 15, 2018</time></p></header><section class="page__content" itemprop="text"><p>This is the first part of building a distributed, scalable and event driven chatbot service using Node.JS, Express and RabbitMQ. The application will implement the below design where we expose a chat bot microservice, which will forward the request to a RabbitMQ queue and answer the user’s query using our bot developed using <a href="https://chatterbot.readthedocs.io/en/stable/">ChatterBot</a></p><p>Details of ChatterBot is outside the scope of this write up, but you can have a look at it at their site to learn more.</p><p><img src="/images/bot-design.png" alt="Distributed Chatbot" title="Distributed Chatbot" /></p><p>Its a good example of how we can combine HTTP world, which is of type Request - Response with Event Driven world, which is of the type Fire and Forget world. Its not very often that we need this integration, but there could be some use cases like the one we are building or to be more general, any use case where you have a long running process, but still need to response the user.</p><p>It shouldn’t be a long series. Let’s see what we can build.</p><p>In this part we will start with Express part and integration with RabbitMQ.</p><p>Let’s get our environment working. First, we’ll need to install the libraries that we’ll use.</p><p>Create a dir and initialize the nodejs application inside it (<code class="highlighter-rouge">npm init</code>) and then let’s install the deps.</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">save</span> <span class="nx">express</span> <span class="nx">http</span> <span class="nx">body</span><span class="o">-</span><span class="nx">parser</span> <span class="nx">http</span><span class="o">-</span><span class="nx">errors</span> <span class="nx">cookie</span><span class="o">-</span><span class="nx">parser</span> <span class="nx">normalize</span><span class="o">-</span><span class="nx">port</span> <span class="nx">rabbot</span>
</code></pre></div></div><p>Now let’s write the entry points for our service, we’ll have one entry point. The path /chat that will handle the request and produce a message for our RabbitMQ service</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"express"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">createError</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'http-errors'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">cookieParser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'cookie-parser'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">bodyParser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"body-parser"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">log</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'morgan'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'http'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">normalizePort</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'normalize-port'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">urlencoded</span><span class="p">({</span> <span class="na">extended</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}));</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">log</span><span class="p">(</span><span class="s1">'dev'</span><span class="p">));</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">cookieParser</span><span class="p">());</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">express</span><span class="p">.</span><span class="kr">static</span><span class="p">(</span><span class="s1">'public'</span><span class="p">))</span>

<span class="kd">var</span> <span class="nx">port</span> <span class="o">=</span> <span class="nx">normalizePort</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span> <span class="o">||</span> <span class="s1">'3000'</span><span class="p">);</span>

<span class="nx">app</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s1">'/hello'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'Hello From Chat Bot service'</span><span class="p">));</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/chat'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">response</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'Not ready yet'</span><span class="p">);</span>
<span class="p">});</span>


<span class="c1">// error handler</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// set locals, only providing error in development</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">locals</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">;</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">locals</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s1">'env'</span><span class="p">)</span> <span class="o">===</span> <span class="s1">'development'</span> <span class="p">?</span> <span class="nx">err</span> <span class="p">:</span> <span class="p">{};</span>
    <span class="c1">// render the error page</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">status</span> <span class="o">||</span> <span class="mi">500</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span>
        <span class="s1">'error'</span><span class="p">:</span> <span class="nx">err</span><span class="p">.</span><span class="nx">message</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"app running on port."</span><span class="p">,</span> <span class="nx">server</span><span class="p">.</span><span class="nx">address</span><span class="p">().</span><span class="nx">port</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">server</span>
</code></pre></div></div><p>Let’s check if it works, run the service with node.</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">node</span> <span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
<span class="nx">app</span> <span class="nx">running</span> <span class="nx">on</span> <span class="nx">port</span> <span class="mi">3000</span><span class="o">!</span>
</code></pre></div></div><p>Open the browser and check if it prints our hello message when accessing localhost:4000/hello. Works? Great.</p><p>Now lets try to integrate with RabbitMQ. For that first we need to define some configuration for RabbitMQ. Create a folder rabbitmq and lets create some RabbitMQ configuration.</p><p>Create a file <code class="highlighter-rouge">config.js</code></p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">rabbitConfig</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">connection</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="s2">"rabbitmqcon"</span><span class="p">,</span>
    <span class="na">user</span><span class="p">:</span> <span class="s2">"guest"</span><span class="p">,</span>
    <span class="na">pass</span><span class="p">:</span> <span class="s2">"guest"</span><span class="p">,</span>
    <span class="na">server</span><span class="p">:</span> <span class="s2">"192.168.99.100"</span><span class="p">,</span>
    <span class="na">vhost</span><span class="p">:</span> <span class="s2">"/"</span><span class="p">,</span>
    <span class="na">port</span><span class="p">:</span> <span class="s2">"5672"</span><span class="p">,</span>
    <span class="na">heartbeat</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="na">replyQueue</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">exchanges</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="s2">"chat_request_exchange"</span><span class="p">,</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"fanout"</span><span class="p">,</span>
      <span class="na">durable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="s2">"chat_response_exchange"</span><span class="p">,</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"fanout"</span><span class="p">,</span>
      <span class="na">durable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">};</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">rabbitConfig</span>
</code></pre></div></div><p>Create a file <code class="highlighter-rouge">queues.js</code></p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span>  <span class="nx">queues</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="s2">"chat_request_queue"</span><span class="p">,</span>
    <span class="na">vhost</span><span class="p">:</span> <span class="s2">"/"</span><span class="p">,</span>
    <span class="na">durable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">autoDelete</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">arguments</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"x-message-ttl"</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">subscribe</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">unique</span><span class="p">:</span> <span class="s2">"id"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="s2">"chat_response_queue"</span><span class="p">,</span>
    <span class="na">vhost</span><span class="p">:</span> <span class="s2">"/"</span><span class="p">,</span>
    <span class="na">durable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">autoDelete</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">arguments</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"x-message-ttl"</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">subscribe</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">unique</span><span class="p">:</span> <span class="s2">"id"</span><span class="p">,</span>
  <span class="p">}</span>

<span class="p">];</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">queues</span>

</code></pre></div></div><p>Create file <code class="highlighter-rouge">bindings.js</code></p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">bindings</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">exchange</span><span class="p">:</span> <span class="s2">"chat_request_exchange"</span><span class="p">,</span>
      <span class="na">target</span><span class="p">:</span> <span class="s2">"chat_request_queue"</span><span class="p">,</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="na">exchange</span><span class="p">:</span> <span class="s2">"chat_response_exchange"</span><span class="p">,</span>
      <span class="na">target</span><span class="p">:</span> <span class="s2">"chat_response_queue"</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">];</span>

  
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">bindings</span>
</code></pre></div></div><p>The above files are simple configuration files, which basically define two exchanges and two queues and then binds the exchanges to queues. Our Express service will write the incoming message to <code class="highlighter-rouge">chat_request_exchange</code> and listen to <code class="highlighter-rouge">chat_response_queue</code> for the Response from ChatterBot Service</p><p>Now that we have definitions of our RabbitMQ environment, lets update our <code class="highlighter-rouge">index.js</code> to apply these configurations</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">queues</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"./rabbitmq/queues"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">bindings</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"./rabbitmq/bindings"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">rabbitConfig</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"./rabbitmq/config"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">rabbit</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"rabbot"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">INCOMING_QUEUE</span> <span class="o">=</span> <span class="s1">'chat_response_queue'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">REQUEST_EXCHANGE</span> <span class="o">=</span> <span class="s2">"chat_request_exchange"</span><span class="p">;</span>
<span class="nx">rabbit</span><span class="p">.</span><span class="nx">handle</span><span class="p">({},</span> <span class="nx">handleMessage</span><span class="p">);</span> <span class="c1">// Handle the incoming message</span>
<span class="nx">rabbit</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="nx">rabbitConfig</span><span class="p">);</span>

<span class="nx">rabbit</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">".connection.opened"</span><span class="p">,</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RabbitMq: Connection "</span> <span class="o">+</span> <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">" opened"</span><span class="p">);</span>
    <span class="nx">queues</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">q</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">rabbit</span><span class="p">.</span><span class="nx">getQueue</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">rabbit</span><span class="p">.</span><span class="nx">addQueue</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">q</span><span class="p">,</span> <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">s</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">rabbit</span><span class="p">.</span><span class="nx">bindQueue</span><span class="p">(</span><span class="nx">bindings</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">exchange</span><span class="p">,</span> <span class="nx">bindings</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">target</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span>
                    <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
                    
            <span class="p">});</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RabbitMq: Connection Queue already exists"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="nx">rabbit</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">".connection.closed"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RabbitMq: Connection "</span> <span class="o">+</span> <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">" closed"</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">rabbit</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">".connection.failed"</span><span class="p">,</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RabbitMq: Connection "</span> <span class="o">+</span> <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">" failed"</span><span class="p">);</span>
    <span class="nx">queues</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">q</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">rabbit</span><span class="p">.</span><span class="nx">getQueue</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">rabbit</span><span class="p">.</span><span class="nx">stopSubscription</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
            <span class="nx">rabbit</span><span class="p">.</span><span class="nx">deleteQueue</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="nx">rabbit</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">".connection.configured"</span><span class="p">,</span> <span class="p">(</span><span class="nx">connection</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">entries</span><span class="p">(</span><span class="nx">connection</span><span class="p">.</span><span class="nx">definitions</span><span class="p">.</span><span class="nx">bindings</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(([</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`RabbitMq: Queue </span><span class="p">${</span><span class="nx">value</span><span class="p">.</span><span class="nx">target</span><span class="p">}</span><span class="s2"> bound to exchange </span><span class="p">${</span><span class="nx">value</span><span class="p">.</span><span class="nx">source</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="nx">rabbit</span><span class="p">.</span><span class="nx">startSubscription</span><span class="p">(</span><span class="nx">INCOMING_QUEUE</span><span class="p">,</span> <span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">});</span>

</code></pre></div></div><p>Update our endpoint code with the following lines</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/chat'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">rabbit</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="nx">REQUEST_EXCHANGE</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">contentType</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
        <span class="na">body</span><span class="p">:</span><span class="nx">input</span>
    <span class="p">},</span><span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>

     <span class="nx">response</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'Not ready yet'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div><p>Use some REST client like Postman to test the request. To see if it will work, make a request to http://localhost:3000/chat with JSON Body as</p><div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="s2">"Hello"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><p>If everything has setup fine, you should see a message on the Rabbit MQ queue <code class="highlighter-rouge">chat_request_queue</code></p><p>So we have achieved the first of the processing, where we have succesfully published the message on the RabbitMQ.</p><p>Now lets write the part of the code, where we will handle the response from the RabbitMQ. For doing that we will use the <code class="highlighter-rouge">co-relationid</code> property of RabbitMQ message and <code class="highlighter-rouge">EventEmitter</code> object from Node.JS</p><p>Update your index.js file with following lines</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">events</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"events"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">eventEmitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">events</span><span class="p">.</span><span class="nx">EventEmitter</span><span class="p">();</span>


<span class="c1">//Random id generator</span>
<span class="kd">function</span> <span class="nx">randomid</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">().</span><span class="nx">toString</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/chat'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span>
    <span class="nx">response</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="s1">'application/json'</span><span class="p">);</span>
    <span class="nx">input</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"message"</span> <span class="p">:</span> <span class="s2">"Hello"</span>
    <span class="p">}</span>

    <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">randomid</span><span class="p">();</span>

    <span class="c1">//Define an event listener such that it will fire exactly once, when we get a message with same correlation Id.</span>
    <span class="nx">eventEmitter</span><span class="p">.</span><span class="nx">once</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">msg</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">send</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span>
    <span class="p">});</span>

    <span class="nx">rabbit</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="nx">REQUEST_EXCHANGE</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">correlationId</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span> <span class="c1">// Set a unique Correlation Id for each request.</span>
        <span class="na">contentType</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
        <span class="na">body</span><span class="p">:</span><span class="nx">input</span>
    <span class="p">},</span><span class="nx">rabbitConfig</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>

<span class="p">});</span>

<span class="c1">// Handle message is invoked every time a </span>
<span class="c1">// message is received on the RabbitMQ queue</span>
<span class="kd">function</span> <span class="nx">handleMessage</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Emit a new event with Correlation Id as received from the incoming message.</span>
    <span class="c1">// Note we have already defined an event handler which will handle the response when the correlation id matches</span>
    <span class="nx">eventEmitter</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">correlationId</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div><p>That’s it for today, in the next post we will see how to write a chatter Bot Service which will listen to the <code class="highlighter-rouge">chat_request_queue</code> and write the message to <code class="highlighter-rouge">chat_response_exchange</code> for which we have already defined the handler</p></section><footer class="page__meta"></footer><section class="page__share"><h4 class="page__share-title">Share on</h4><a href="https://twitter.com/intent/tweet?text=https://dghanwat.github.io/posts/2018/12/chatbot-with-nodejs-express-rabbitmq-part-1/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://dghanwat.github.io/posts/2018/12/chatbot-with-nodejs-express-rabbitmq-part-1/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://plus.google.com/share?url=https://dghanwat.github.io/posts/2018/12/chatbot-with-nodejs-express-rabbitmq-part-1/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://dghanwat.github.io/posts/2018/12/chatbot-with-nodejs-express-rabbitmq-part-1/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a></section><nav class="pagination"> <a href="https://dghanwat.github.io/posts/2018/12/great-challenges/" class="pagination--pager" title="Great Challenges allows us great expansion ">Previous</a> <a href="https://dghanwat.github.io/posts/2018/12/importance-of-failures/" class="pagination--pager" title="Should we write about our Failures in Resume? ">Next</a></nav></div><div class="page__comments"><section id="comments"> <!-- Start static comments --><div class="js-comments"></div><!-- End static comments --> <!-- Start new comment form --><h4 class="page__comments-title">Leave a Comment</h4><p class="small">Your email address will not be published. Required fields are marked <span class="required">*</span></p><form id="new_comment" class="page__comments-form js-form form" method="post" action="https://api.staticman.net/v1/entry/dghanwat/dghanwat.github.io/gh-pages"><div class="form__spinner"> <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i> <span class="sr-only">Loading...</span></div><fieldset> <label for="comment-form-message">Comment <small class="required">*</small></label> <textarea type="text" rows="3" id="comment-form-message" name="fields[message]" tabindex="1"></textarea><div class="small help-block"><a href="https://daringfireball.net/projects/markdown/">Markdown is supported.</a></div></fieldset> <fieldset> <label for="comment-form-name">Name <small class="required">*</small></label> <input type="text" id="comment-form-name" name="fields[name]" tabindex="2" /> </fieldset> <fieldset> <label for="comment-form-email">Email address <small class="required">*</small></label> <input type="email" id="comment-form-email" name="fields[email]" tabindex="3" /> </fieldset> <fieldset> <label for="comment-form-url">Website (optional)</label> <input type="url" id="comment-form-url" name="fields[url]" tabindex="4"/> </fieldset> <fieldset class="hidden"> <input type="hidden" name="options[slug]" value="microservices-with-nodejs-express-rabbitmq"> <input type="hidden" name="fields[hidden]"/> </fieldset> <!-- Start comment form alert messaging --><p class="hidden js-notice"> <strong class="js-notice-text"></strong></p><!-- End comment form alert messaging --> <fieldset> <button type="submit" id="comment-form-submit" tabindex="5" class="btn btn--large">Submit Comment</button> </fieldset> </form> <!-- End new comment form --></section></div></article><div class="page__related"><h4 class="page__related-title">You May Also Enjoy</h4><div class="grid__wrapper"><div class="grid__item"><article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="https://dghanwat.github.io/posts/2019/02/train-your-brain-to-calm-down/" rel="permalink">Train yourself to be calm before all the important performance </a></h2><p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 3 minute read</p><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2019-02-03T00:00:00-08:00">February 03, 2019</time></p><p class="archive__item-excerpt" itemprop="description"><p>The big day has arrived. In a few hours, you’ll be on the stage for the big presentation, pitching your product in front of people you’ve never seen before. You’re so nervous you could explode? <strong><a href="https://dghanwat.github.io/posts/2019/02/train-your-brain-to-calm-down/" rel="permalink"> Read more</a></strong></p></p></article></div><div class="grid__item"><article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="https://dghanwat.github.io/posts/2018/12/initiative/" rel="permalink">Taking Initiative at work </a></h2><p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 3 minute read</p><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2018-12-20T00:00:00-08:00">December 20, 2018</time></p><p class="archive__item-excerpt" itemprop="description"><p>People who have initiative and make things happen are highly valued in the workplace. But, what is it? And how can you develop it? <strong><a href="https://dghanwat.github.io/posts/2018/12/initiative/" rel="permalink"> Read more</a></strong></p></p></article></div><div class="grid__item"><article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="https://dghanwat.github.io/posts/2018/12/importance-of-failures/" rel="permalink">Should we write about our Failures in Resume? </a></h2><p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 2 minute read</p><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2018-12-16T00:00:00-08:00">December 16, 2018</time></p><p class="archive__item-excerpt" itemprop="description"><p>Failures are a blow to our self esteem. Who wants a resume filled with failure <strong><a href="https://dghanwat.github.io/posts/2018/12/importance-of-failures/" rel="permalink"> Read more</a></strong></p></p></article></div><div class="grid__item"><article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="https://dghanwat.github.io/posts/2018/12/great-challenges/" rel="permalink">Great Challenges allows us great expansion </a></h2><p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 1 minute read</p><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2018-12-13T00:00:00-08:00">December 13, 2018</time></p><p class="archive__item-excerpt" itemprop="description"><p>Would we even seek for a path breaking solution, if we did not have the challenge <strong><a href="https://dghanwat.github.io/posts/2018/12/great-challenges/" rel="permalink"> Read more</a></strong></p></p></article></div></div></div></div></script><div class="page__footer"><footer> <!-- start custom footer snippets --> <a href="/sitemap/">Sitemap</a> <!-- end custom footer snippets --><div class="page__footer-follow"><ul class="social-icons"><li><strong>Follow:</strong></li><li><a href="http://github.com/dghanwat"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li><li><a href="https://dghanwat.github.io/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li><li>Subscribe <form action="https://formspree.io/dhananjay.ghanwat@gmail.com" method="POST"> <input type="text" name="name" placeholder="Your Name"> <input type="email" name="_replyto" placeholder="Email"> <input type="submit" value="Send"> </form></li></ul></div><div class="page__footer-copyright">&copy; 2019 Dhananjay Ghanwat. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div></footer></div><script src="https://dghanwat.github.io/assets/js/main.min.js"></script> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-116336905-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> <script> (function ($) { var $comments = $('.js-comments'); $('#new_comment').submit(function () { var form = this; $(form).addClass('disabled'); $('#comment-form-submit').html('<i class="fa fa-spinner fa-spin fa-fw"></i> Loading...'); $.ajax({ type: $(this).attr('method'), url: $(this).attr('action'), data: $(this).serialize(), contentType: 'application/x-www-form-urlencoded', success: function (data) { $('#comment-form-submit').html('Submitted'); $('.page__comments-form .js-notice').removeClass('notice--danger'); $('.page__comments-form .js-notice').addClass('notice--success'); showAlert('Thanks for your comment! It will show on the site once it has been approved.'); }, error: function (err) { console.log(err); $('#comment-form-submit').html('Submit Comment'); $('.page__comments-form .js-notice').removeClass('notice--success'); $('.page__comments-form .js-notice').addClass('notice--danger'); showAlert('Sorry, there was an error with your submission. Please make sure all required fields have been completed and try again.'); $(form).removeClass('disabled'); } }); return false; }); function showAlert(message) { $('.page__comments-form .js-notice').removeClass('hidden'); $('.page__comments-form .js-notice-text').html(message); } })(jQuery); </script> <script type="text/javascript"> var infolinks_pid = 3149314; var infolinks_wsid = 0; </script> <script type="text/javascript" src="//resources.infolinks.com/js/infolinks_main.js"></script></body></html>
