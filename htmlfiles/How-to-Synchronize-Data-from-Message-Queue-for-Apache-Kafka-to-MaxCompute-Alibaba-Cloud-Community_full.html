
<!DOCTYPE html>
<html lang="en" class="sub-site-nav alicloud-header alicloud-footer">
<head>
  <meta charset="UTF-8">
  <title>How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute? - Alibaba Cloud Community</title>
  <link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1ugg7M9zqK1RjSZPxXXc4tVXa-32-32.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="MaxCompute,Big Data,DataWorks,Data Synchronization,Message Queue,Apache Kafka" />
  <meta name="description" content="This article discusses how to synchronize Message Queue for Apache Kafka to MaxCompute to improve operational efficiency.">
  <meta name="csrf-param" content="yunqi_csrf"/>
  <meta name="csrf-token" content="EIM2JAGXYJ"/>
  <meta name="data-spm" content="a2c65">
    <meta name="aplus-rhost-v" content="sg.mmstat.com">
  <meta name="aplus-rhost-g" content="sg.mmstat.com">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
 <link rel="stylesheet" type="text/css" href="//g.alicdn.com/??alicloud-components/alicloud-ui3/0.0.7/acUI.css,alicloud-components/acApp/0.0.3/app.css,alicloud-components/i18n/0.0.29/css/en-us/index.css,alicloud-components/iconfont/0.0.7/product-icon.css">
  <link rel="stylesheet" type="text/css" href="//g.alicdn.com/aliyun-international/blog-assert/0.0.23/css/detail.css">
  <link rel="stylesheet" type="text/css" href="//g.alicdn.com/aliyun-international/blog-assert/0.0.23/css/nav.css">
      <link rel="stylesheet" type="text/css" href="//g.alicdn.com/aliyun-international/blog-assert/0.0.23/fonts/iconfont.css">
  <link rel="stylesheet"  type="text/css" href="https://g.alicdn.com/ali-mod/b-alicloud-v3-bottom/0.0.19/index.css">
      <link rel="stylesheet" type="text/css" href="//g.alicdn.com/aliyun-international/blog-assert/0.0.23/fonts/iconfont.css">
    <meta property="og:url" content="https://www.alibabacloud.com/blog/how-to-synchronize-data-from-message-queue-for-apache-kafka-to-maxcompute_596166">
    <meta property="og:site_name" content="Alibaba Cloud Community">
    <meta property="og:title" content="How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?">
    <meta property="og:description" content="This article discusses how to synchronize Message Queue for Apache Kafka to MaxCompute to improve operational efficiency.">
    <meta property="og:image" content="https://yqintl.alicdn.com/9ac5ddef69e4ab2d7796578eb3b33d9f4dccb4da.jpeg">    <meta property="og:image:type" content="image/png">
    <meta property="twitter:creator" content="Alibaba Cloud Community">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?">
    <meta property="twitter:description" content="This article discusses how to synchronize Message Queue for Apache Kafka to MaxCompute to improve operational efficiency.">
    <meta property="twitter:image:src" content="https://yqintl.alicdn.com/9ac5ddef69e4ab2d7796578eb3b33d9f4dccb4da.jpeg">  <script src="//g.alicdn.com/??alicloud-components/kloud/0.0.31/vendor/requirejs/require.js,alicloud-components/kloud/0.0.1/scripts/vendor/jquery/jquery.min.js,alicloud-components/common/scripts/layout.js,alicloud-components/alicloud-ui3/0.0.7/acUI.js"></script>
  <script src="//g.alicdn.com/aliyun-international/blog-assert/0.0.23/js/layout.js"></script>
</head>

<body data-spm="11461447"><script type="text/javascript">
(function (d) {
var t=d.createElement("script");t.type="text/javascript";t.async=true;t.id="tb-beacon-aplus";
t.setAttribute("exparams","category=&userid=&aplus&yunid=&yunpk=&channel=&cps=");
t.src="//g.alicdn.com/alilog/mlog/aplus_v2.js";
d.getElementsByTagName("head")[0].appendChild(t);
})(document);
</script>

    <div class="blog-nav">
    <div class="container">
      <div class="row">
        <h1>
          Community
        </h1>
        <main class="blog-nav-center">
          <a href="https://www.alibabacloud.com/blog/" class="bg">
             Blog
          </a>
          
          <a href="https://resource.alibabacloud.com/event/index">
             Events
          </a>
          <a href="https://resource.alibabacloud.com/webinar/index.htm">
             Webinars
          </a>
          
          <a href="https://community.alibabacloud.com/tags/type_blog-tagid_28404/">
              Tutorials
          </a>
          <a href="https://www.alibabacloud.com/forum">
              Forum
          </a>
        </main>
       
        <ul class="blog-nav-right">
          <li class="search"><input type="text" placeholder="Search" id="search">
          <i class="search-btn k-iconfont icon-sousuo1"></i>
           <div class="close-box"><img data-original="https://img.alicdn.com/tfs/TB1BIBBsbPpK1RjSZFFXXa5PpXa-24-24.png"
                                data-toggle="lazy-loading" class="off" /><img data-original="https://img.alicdn.com/tfs/TB1vrJ2shnaK1RjSZFBXXcW7VXa-24-24.png"
                                data-toggle="lazy-loading" class="on" /></div>         
                        
                        </li>
                       </ul>
       
        <div class="blog-nav-right-m">
          <i class="k-iconfont icon-sousuo1 show-search"></i>
          <i class="show-more"></i>
        </div>
      </div>
      <div class="blog-nav-main-m">
        <ol>
          <li><a href="https://community.alibabacloud.com">Blog</a></li>
           <li>
            <a href="https://resource.alibabacloud.com/event/index">
             Events
            </a>
           </li>
           <li>
             <a href="https://resource.alibabacloud.com/webinar/index.htm">
              Webinars
             </a>
           </li>
           <li>
             <a href="https://www.alibabacloud.com/getting-started/projects">
               Tutorials
             </a>
           </li>
           <li>
              <a href="https://www.alibabacloud.com/forum">
                Forum
              </a>
           </li>
                  </ol>
        <div class="btn-box">
                    <a href="https://account.alibabacloud.com/register/register.htm?from_type=yqclub&amp;oauth_callback=https%3A%2F%2Fwww.alibabacloud.com%2Fblog%2Fhow-to-synchronize-data-from-message-queue-for-apache-kafka-to-maxcompute_596166%3Fdo%3Dlogin" class="free" style="display: block;">
             Create Account
          </a>
          <a href="https://account.alibabacloud.com/login/login.htm?from_type=yqclub&amp;oauth_callback=https%3A%2F%2Fwww.alibabacloud.com%2Fblog%2Fhow-to-synchronize-data-from-message-queue-for-apache-kafka-to-maxcompute_596166%3Fdo%3Dlogin" class="login" style="display: block;">
             Log In
          </a>
                  </div>
      </div>
      <div class="container blog-nav-search-m">
        <div class="blog-nav-search-m-top">
          <input type="text" placeholder="Search" class="int-search">
          <button>
            <i class="k-iconfont icon-sousuo1"></i>
          </button>
          <span>
             ×
          </span>
        </div>
       
      </div>
    </div>
  </div>
      <div class="wrap container">
        <div class="wrap-top">
            <a href="https://community.alibabacloud.com">Community</a>
            <i class="icon icon-more"></i>
            <a href="https://www.alibabacloud.com/blog/">Blog</a>
            <i class="icon icon-more"></i>
            How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?
        </div>
        <div class="wrap-main">
            <div class="col-md-8">
                <div class="wrap-main-left">
                    <h1>
                                                How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?
                                            </h1>
                    <aside>
                        <main>
                            <a href="https://community.alibabacloud.com/users/5973336550740304">Alibaba Cloud MaxCompute</a>
                            <span>April 26, 2020</span>
                            <span>
                                <img src="https://img.alicdn.com/tfs/TB19L9AbXuWBuNjSspnXXX1NVXa-40-26.png" alt=""> 5,226
                            </span>
                            <a href="#comment">
                                <i class="icon icon-pinglun"></i><b class="comments-num">0</b>
                            </a>
                        </main>
                        <div>
                                                                                                                                </div>
                    </aside>
                    <div class="wrap-main-left-abstract">
                        This article discusses how to synchronize Message Queue for Apache Kafka to MaxCompute to improve operational efficiency.
                    </div>
                    <div class="wrap-main-left-article markdown-body">
                        
<p><em>By Geng Jiangtao, an Engineer in the Intelligent Customer Services Team at Alibaba Cloud</em></p>
<p>The following content is based on the video by Geng Jiangtao and the accompanying PowerPoint slides.</p>
<h2>1) Background</h2>
<h3>1.1 Objective</h3>
<p>For daily operations, many enterprises use Message Queue for Apache Kafka to collect the behavior logs and business data generated by apps or websites and then process them offline or in real-time. Generally, the logs and data are delivered to <a href="https://www.alibabacloud.com/product/maxcompute" target="_blank">MaxCompute</a> for modeling and business processing to obtain user features, sales rankings, and regional order distributions, and the data is displayed in data reports.</p>
<h3>1.2 Solutions</h3>
<p>There are two ways to synchronize data from Message Queue for Apache Kafka to <a href="https://www.alibabacloud.com/product/ide" target="_blank">DataWorks</a>. In one process, business data and behavior logs are uploaded to Datahub through Message Queue for Apache Kafka and Flume, then transferred to MaxCompute, and finally displayed in Quick BI. In the second process, business data and action logs are transferred through Message Queue for Apache Kafka, DataWorks, and MaxCompute, and finally displayed in Quick BI.</p>
<p>In the following description, I will use the second process. Synchronize data from DataWorks to MaxCompute using one of two solutions: custom resource groups or exclusive resource groups. Custom resource groups are used to migrate data to the cloud on complex networks. Exclusive resource groups are used when integrated resources are insufficient.</p>
<p><img src="https://yqintl.alicdn.com/15b1d853aaed520b0511108dc96a05a011a503b2.png" alt="1" title="1"></p>
<h2>2) Operations</h2>
<h3>2.1 How Message Queue for Apache Kafka Works</h3>
<ul><li>
<strong>Overview:</strong> Message Queue for Apache Kafka is a distributed, high-throughput, and scalable message queue service provided by Alibaba Cloud. It is generally used in big data fields, such as log collection, monitoring data aggregation, streaming data processing, and online and offline analysis. Message Queue for Apache Kafka provides a fully managed service for open-source Apache Kafka, solving the long-standing pain points of the open-source product. Message Queue for Apache Kafka is cost-effective, elastic, and reliable. When using it, you only need to focus on business development, without worrying about deployment or O&amp;M.</li></ul>
<p><img src="https://yqintl.alicdn.com/398e2b436d38211658b52cc2315211113ccf3b97.png" alt="2" title="2"></p>
<ul><li>
<strong>Architecture:</strong> As shown in the following figure, a typical Message Queue for Apache Kafka cluster is divided into four parts. A producer generates data and sends messages to the Message Queue for Apache Kafka broker in push mode. The messages sent can be page visits (PVs), server logs, and information related to system resources such as CPU utilization and memory usage. A Message Queue for Apache Kafka broker is a server that stores messages. You can add Message Queue for Apache Kafka brokers as needed. The more Message Queue for Apache Kafka brokers, the higher the throughput of the Message Queue for Apache Kafka cluster. The Message Queue for Apache Kafka broker uses partitions for topics, and partitions are assigned the leader and follower roles. A consumer group subscribes to and consumes the information about a leader from the Message Queue for Apache Kafka broker in pull mode. Each partition contains consumer offsets. ZooKeeper manages cluster configurations, elects the leader partition, and manages the load balancing of <code>partition_leader</code> when the consumer group changes.</li></ul>
<p><img src="https://yqintl.alicdn.com/cb89ddf63e2cfd221df9d6bd98f7add9dc60d3d1.png" alt="3" title="3"></p>
<ul><li>
<strong>Purchase and deploy Message Queue for Apache Kafka:</strong> Log on to the Message Queue for Apache Kafka console, set Consumption Mode, Region, Instance Type, Disk, Traffic, and Message Storage Period, and purchase Message Queue for Apache Kafka, as shown in the following figure. It is important to select the correct region. If the region of your MaxCompute is China (Qingdao), China (Beijing), China (Zhangjiakou-Beijing Winter Olympics), or China (Hohhot), select one of these regions for Message Queue for Apache Kafka if possible. You need to deploy the product after activating it. Select a proper Virtual Private Cloud (VPC) and a VSwitch and click Deploy.</li></ul>
<p><img src="https://yqintl.alicdn.com/31a7669603a71a557ad8e862576f26460b75b717.png" alt="4" title="4"></p>
<p>Click Topics in the left-side navigation pane. On the page that appears, click Create Topic. On the Create Topic page, enter your topic information and click OK. There are three notes below the topic name. Set a topic name in line with your business. For example, you should try to separate financial businesses and commercial businesses. Click Consumer Groups in the left-side navigation pane. On the page that appears, click Create Consumer Group to create a required consumer group. Set the consumer group name as appropriate for your topic. For example, financial businesses and commercial businesses should have their own topics.</p>
<p><img src="https://yqintl.alicdn.com/25f3daa7ed6464691229a159e3ba684ac2c219c7.png" alt="5" title="5"></p>
<ul><li>
<strong>Configure the whitelist:</strong> After installing and deploying Message Queue for Apache Kafka, determine a whitelist of IP addresses able to access the Message Queue for Apache Kafka brokers or products. The default endpoint in the following figure is the access interface.</li></ul>
<p><img src="https://yqintl.alicdn.com/cffde18b6235d1ebbf2375fb06b804e730aa7c61.png" alt="6" title="6"></p>
<h3>2.2 Introduction and Configuration of Resource Groups</h3>
<ul><li>
<strong>Background of custom resource groups:</strong> Custom resource groups are used to address network issues between IDCs. Local networks are different from cloud networks. For example, DataWorks can migrate massive data to the cloud, free of charge (with the default job resource group). However, the default resource group does not support high transmission speeds or synchronous cloud migration of data sources in complex environments. In this case, use custom resource groups to enable the connection between DataWorks default resource groups and your data sources or to achieve a higher transmission speed. However, custom resource groups are mainly used to implement cloud migration in complex network environments and enable data transmission and synchronization between any network environments.</li></ul>
<p><img src="https://yqintl.alicdn.com/e0f742795d13aa6cf744758ef64774162855b995.png" alt="7" title="7"></p>
<ul><li>
<strong>Configure a custom resource group:</strong> To configure a custom resource group, perform the following steps:</li></ul>
<p><strong>1)</strong> Log on to the DataWorks console, click Workspace List, select the required project, and click Data Integration to determine the project where data is to be integrated.<br><strong>2)</strong> Go to the data source page and click Create Custom Resource Group to create a custom resource group. Only the project administrator can add a custom resource group in the upper-right corner of the page.</p>
<p><img src="https://yqintl.alicdn.com/4cef390198cba0a400dcd6d7cfb03139e4aaffb9.png" alt="8" title="8"></p>
<p><strong>3)</strong> Check whether Message Queue for Apache Kafka and the custom resource group to be added are in the same VPC. In this experiment, an Elastic Compute Service (ECS) instance sends messages to Message Queue for Apache Kafka, and they are in the same VPC. <br><strong>4)</strong> Log on to the ECS console to configure the custom resource group. Run the <code>dmidecode|grep</code> UUID command to obtain the UUID of the ECS instance.</p>
<p><img src="https://yqintl.alicdn.com/51f0f44a6472903a173d70c91d79aac51aeee45f.png" alt="9" title="9"></p>
<p><strong>5)</strong> Enter the UUID of the instance, the IP address of the custom resource group, and the CPU and memory of the machine.<br><strong>6)</strong> Run the relevant commands on the ECS instance. The agent is installed in five steps. After the fourth step, click Refresh and check whether the service is available. Run a connectivity test to check whether the resource group has been added.</p>
<p><img src="https://yqintl.alicdn.com/e585352540f774151e4ff65d389758bc62401618.png" alt="10" title="10"></p>
<ul><li>
<strong>Background of exclusive resource groups:</strong> Some customers reported a problem with insufficient resources when synchronizing data from Message Queue for Apache Kafka to MaxCompute. In this case, add an exclusive resource group for data synchronization. Physical resources, such as the network, disk, CPU, and memory of the ECS instances of an exclusive resource group are completely exclusive to users. This helps to isolate the resources of different users or different workspaces. In addition, exclusive resources can be flexibly scaled in or out, which meets the requirements of resource exclusiveness and flexible configuration.</li></ul>
<p>An exclusive resource group accesses data sources in VPCs in the same region and public endpoints of Relational Database Service (RDS) instances in other regions.</p>
<p><img src="https://yqintl.alicdn.com/5ce62176c1b8b8647345cf70ebb5745278bd70e1.png" alt="11" title="11"></p>
<ul><li>
<strong>Configure an exclusive resource group:</strong> To configure an exclusive resource group, you need to perform the following steps:</li></ul>
<p><strong>1)</strong> Log on to the DataWorks console, click Resource List, and click Create Exclusive Resource Groups to create an exclusive resource group for integration or scheduling. Here, we will add an exclusive resource group for integration. Before clicking Purchase, set the Purchase Mode, Region, Resources, Memory, Validity Period, and Quantity.</p>
<p><img src="https://yqintl.alicdn.com/48b2a952edc585a40a2030c616f4ef4694924531.png" alt="12" title="12"></p>
<p><strong>2)</strong> Bind the purchased exclusive resource group to the VPC corresponding to Message Queue for Apache Kafka. Click Bind VPC, and select the VSwitch (note the zone) and security group corresponding to Message Queue for Apache Kafka.</p>
<p><img src="https://yqintl.alicdn.com/c3c86ca8705a33ff0fe38aa3d1132aceebc5f24b.png" alt="13" title="13"></p>
<h3>2.3 Synchronization Process and Precautions</h3>
<p>Note the following when configuring parameters for synchronizing data from Message Queue for Apache Kafka to MaxCompute:</p>
<ul><li>
<strong>Integrate data in DataWorks:</strong> Log on to the DataWorks console, click Create Workflow to create a workflow, add a data synchronization node to the created workflow, and name the node.</li></ul>
<p><img src="https://yqintl.alicdn.com/e8bc7b76afac9485b017865a89be7b3cd59f5253.png" alt="14" title="14"></p>
<p>Access the data synchronization node on the Reader and Writer and choose Message Queue for Apache Kafka Reader and MaxCompute Writer as the data sources, as shown in the following figure. Switch to script mode. The help document is displayed in the upper-right corner of the following figure. Click some synchronization parameters in the Reader and Writer dialog boxes to facilitate reading, operation, and understanding.</p>
<p><img src="https://yqintl.alicdn.com/84fef7369b60ce996625d980787014544e6ecd83.png" alt="15" title="15"></p>
<ul><li>
<strong>Main parameters of Message Queue for Apache Kafka Reader:</strong> The main parameter of Message Queue for Apache Kafka Reader is a server, which is in the format <code>ip:port</code>. The default endpoint of Message Queue for Apache Kafka is a server. The server parameter is required. The topic parameter indicates the topic of the Message Queue for Apache Kafka data source after the deployment of Message Queue for Apache Kafka. This parameter is also required. The column parameter can be a constant column, a data column, or an attribute column. Constant columns and data columns are less important. Completely synchronized messages are stored in <strong>value</strong> in the attribute column. If you need other information, such as the partition, offset, or timestamp, filter it in the attribute column. The column parameter is required.</li></ul>
<p><img src="https://yqintl.alicdn.com/0196031e58dbd9e508836337c1e90919b8fc14cc.png" alt="16" title="16"></p>
<p>There are six values for keyType and valueType. Select the appropriate value based on the synchronized data to synchronize data of the type. Note whether the data is synchronized by message time or consumer offset. Data synchronization by consumer offset involves beginDateTime, endDateTime, beginOffset, and endOffset. Select either beginDateTime or beginOffset as the start point for data consumption. Select either endDateTime or endOffset. When using beginDateTime and endDateTime, note that only Message Queue for Apache Kafka V0.10.2 or later supports data synchronization by consumer offset. In addition, beginOffset has three special forms: seekToBeginning indicates that data is consumed from the start point. seekToLast indicates that data is consumed from the last consumer offset. Based on beginOffset, data can be consumed only once from the last consumer offset. If beginDateTime is used, data can be consumed multiple times, depending on the message storage time. seekToEnd indicates that data is consumed from the last consumer offset and empty data is read.</p>
<p><img src="https://yqintl.alicdn.com/a443c70d10629d3d8a14741f369d531778b010f6.png" alt="17" title="17"></p>
<p>The skipExceeedRecord parameter is optional. The partition parameter is optional as the data in multiple partitions of a topic is read and consumed. The kafkaConfig parameter is optional. Other relevant parameters can be extended from this parameter.</p>
<p><img src="https://yqintl.alicdn.com/aafae39ae2d02583ccee772f73ed0e3a4cd3349e.png" alt="18" title="18"></p>
<ul><li>
<strong>Main parameters of the MaxCompute writer:</strong> The dataSource parameter specifies the name of a MaxCompute data source. The tables parameter specifies the name of the table to be created, or the table to which data will be synchronized from Message Queue for Apache Kafka.</li></ul>
<p>If the table is a partition table, the partition parameter must be set to the last-level partition to determine the synchronization point. If the table is a non-partition table, the partition parameter is optional. The column parameter needs to be consistent with the relevant fields in Message Queue for Apache Kafka columns. Information is synchronized only when the relevant fields are consistent. The truncate parameter specifies whether to write data in append mode or overwrite mode. If possible, prevent multiple Data Definition Language (DDL) operations on one partition at the same time, or create partitions before starting multiple concurrent jobs.</p>
<p><img src="https://yqintl.alicdn.com/1130b1e32192a144476fa3b599fd30058e7dee65.png" alt="19" title="19"></p>
<ul><li>
<strong>Synchronize data from Message Queue for Apache Kafka to MaxCompute:</strong> The following figure is divided into three parts: Message Queue for Apache Kafka Reader, MaxCompute Writer, and restriction parameters. The Reader includes the fields, such as server, endOffset, kafkaConfig, <code>group.id</code>, valueType, ByteArray, column, topic, beginOffset, and seekToLast. MaxCompute Writer includes the truncate, compress, and datasource fields, which must be consistent with those of Message Queue for Apache Kafka Reader. The value data must be synchronized. Restriction parameters are as follows: errorlimit specifies the number of data errors before an error is reported, and speed restricts the traffic rate and concurrency.</li></ul>
<p><img src="https://yqintl.alicdn.com/185cc3691094aa7103cb8373aa116201c925e996.png" alt="20" title="20"></p>
<ul><li>
<strong>Write data according to the instructions provided in the Message Queue for Apache Kafka producer SDK:</strong> The produced data is sent to Message Queue for Apache Kafka and can be viewed by using appropriate code. The following code provides an example of the configured reading, protocol, and serialization modes, the request wait time, topic to be sent, and the type of messages to be sent. After the data is sent, a message is returned. For more information about the code, see <a href="https://www.alibabacloud.com/help/doc-detail/99957.htm" target="_blank">the configuration file, message source, and producer and consumer code template</a>.</li></ul>
<p><img src="https://yqintl.alicdn.com/6a45b34e19ea3a118c6be639694a148e8ea2ba8f.png" alt="21" title="21"></p>
<ul><li>
<strong>Package and run code on the ECS instance (in the same zone as Message Queue for Apache Kafka):</strong> As shown in the following figure, the crontab-e command is run at 17:00 every day. The following figure shows the message record after the log is sent.</li></ul>
<p><img src="https://yqintl.alicdn.com/5b64ee33fb695cb573be7cdfa4cba90fb72b2078.png" alt="22" title="22"></p>
<ul><li>
<strong>Create a table in MaxCompute:</strong> Log on to the DataWorks console, access the workflow page, create a target table, and run a DDL statement to create a synchronization table, or create different table fields based on individual businesses.</li></ul>
<p><img src="https://yqintl.alicdn.com/8be5a26c16e09c51a05f99a802cfd0297f168f31.png" alt="23" title="23"></p>
<h3>2.4 Development Testing and Production Deployment</h3>
<ul><li>
<strong>Select a custom resource group (or an exclusive resource group for integration) for synchronization:</strong> As shown in the following figure, click Configure Task Resource Group in the upper-right corner, select the needed resource group, and click Run. A success message is displayed, including the data synchronization record and result. With this, the synchronization process is complete.</li></ul>
<p><img src="https://yqintl.alicdn.com/f99d85cd1bf6d0cb36920f894e2b2c012efc8665.png" alt="24" title="24"></p>
<ul><li>
<strong>Query the synchronization result:</strong> View the synchronization result on a temporary DataWorks page. Run the <code>select * from testkafka3</code> command on a temporary node to view the data synchronization result. If the data is synchronized, the test is successful.</li></ul>
<p><img src="https://yqintl.alicdn.com/9f66b298197a0ee6a8596b511edfbcd8e0da6789.png" alt="25" title="25"></p>
<ul><li>
<strong>Set scheduling parameters:</strong> After the data synchronization function is developed for the workflow, relevant models are processed, and some SQL nodes and synchronization nodes are designed and deployed. As shown in the following figure, click Scheduling Configuration on the right and enter the scheduling time. For more information, see the DataWorks documentation.</li></ul>
<p><img src="https://yqintl.alicdn.com/d0138dc9480888e53be26ceb60102a383513ed51.png" alt="26" title="26"></p>
<ul><li>
<strong>Submit, package, and release a workflow node:</strong> Click Workflow, select a node to submit, and click Submit. Some submitted workflow nodes do not need to be placed in the production environment. Then, go to the job release page and add the nodes to the list of nodes to be released to perform job deployment.</li></ul>
<p><img src="https://yqintl.alicdn.com/7169f1a12d0b79678dbe2e373a05886f55417b1d.png" alt="27" title="27"></p>
<ul><li>
<strong>Verify whether the workflow was released:</strong> On the O&amp;M center page, verify that the released nodes are in the production environment. This completes the process of synchronizing data from Message Queue for Apache Kafka to MaxCompute. At the scheduling time, a node log is displayed on each node or in the upper-right corner. Check the log to see if the node is running properly and whether subsequent operations, deployment data or relevant commands are required.</li></ul>
<p><img src="https://yqintl.alicdn.com/c6b6a6ac12b0da61794ba8bfd3779054102370f9.png" alt="28" title="28"></p>
<h2>Conclusion</h2>
<p>In this article, you gained an overall understanding of Message Queue for Apache Kafka and learned how to synchronize Message Queue for Apache Kafka to MaxCompute on Alibaba Cloud. Additionally, we covered various configuration methods and deployment operations involved right from development to production.</p>

                    </div>
                                        <div class="wrap-main-left-bar">
                                                <span><a href="https://community.alibabacloud.com/tags/type_blog-tagid_10127/">MaxCompute</a></span>
                                            <span><a href="https://community.alibabacloud.com/tags/type_blog-tagid_16070/">Big Data</a></span>
                                            <span><a href="https://community.alibabacloud.com/tags/type_blog-tagid_19581/">DataWorks</a></span>
                                            <span><a href="https://community.alibabacloud.com/tags/type_blog-tagid_23712/">Data Synchronization</a></span>
                                            <span><a href="https://community.alibabacloud.com/tags/type_blog-tagid_28451/">Message Queue</a></span>
                                            <span><a href="https://community.alibabacloud.com/tags/type_blog-tagid_30904/">Apache Kafka</a></span>
                                        </div>
                                        <div class="wrap-main-left-action">
                        <main>
                            <a href="#comment">
                                <i class="icon icon-pinglun"></i>
                                0
                            </a>
                            <span class="action-zan" data-islogin="false" data-id="596166" data-already="false" rel="nofollow">
                                <i class="icon icon-zan"></i>
                                <b>0</b>
                            </span>
                            <span class="action-love" data-islogin="false" data-id="596166" data-already="false" rel="nofollow">
                                <i class="icon icon-love"></i>
                                <b>0</b>
                            </span>
                        </main>
                        <div>
                            <b>Share on</b>
                            <a href="javascript:;" class="sharer" data-sharer="linkedin" data-url="" title="How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?">
                                <i class="icon icon-linkedin1"></i>
                            </a>
                            <a href="javascript:;" class="sharer" data-sharer="facebook" data-url="" title="How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?">
                                <i class="icon icon-lianshu1"></i>
                            </a>
                            <a href="javascript:;" class="sharer" data-sharer="twitter" data-url="" title="How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?">
                                <i class="icon icon-twitter1"></i>
                            </a>
                                                                                                                </div>
                    </div>
                    <div class="wrap-main-left-read">
                                                <main>
                            <h2>
                                Read previous post:
                            </h2>
                            <p>
                                <a href="/blog/how-to-synchronize-data-from-hive-to-maxcompute_596165">
                                    How to Synchronize Data from Hive to MaxCompute?
                                </a>
                            </p>
                        </main>
                                                                        <main>
                            <h2>
                                Read next post:
                            </h2>
                            <p>
                                <a href="/blog/whats-new-with-mars---alibabas-distributed-scientific-computing-engine_596332">
                                    What&#039;s New with Mars - Alibaba&#039;s Distributed Scientific Computing Engine
                                </a>
                            </p>
                        </main>
                                            </div>
                    <div class="wrap-main-right-user wrap-main-right-user-mobile">
                        <dl>
                            <dt>
                                <a href="https://community.alibabacloud.com/users/5973336550740304">
                                <img src="https://yqintl.alicdn.com/img_d133b5f6dec2011e91463e72195049d7.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="">
                                </a>
                            </dt>
                            <dd>
                                <h1>
                                <a href="https://community.alibabacloud.com/users/5973336550740304">
                                    Alibaba Cloud MaxCompute
                                </a>
                                </h1>
                                <p>
                                    108 posts | 16 followers
                                </p>
                                                                                                        <a href="#" class="follow-btn" data-islogin="false" data-uid="5973336550740304" data-isfollowed="false" id="follow-btn" rel="nofollow">Follow</a>
                                                                                                </dd>
                        </dl>
                    </div>
                                        <h3>
                        You may also like
                    </h3>
                    <ul class="wrap-main-left-list">
                                                <li>
                            <span></span>
                            <a href="/blog/data-migration-from-hive-to-maxcompute-%26-kafka-database-synchronization_597548">
                                Data migration from Hive to MaxCompute &amp; Kafka Database Synchronization
                            </a>
                            <p>
                                Alibaba Clouder - March 31, 2021
                            </p>
                        </li>
                                                <li>
                            <span></span>
                            <a href="/blog/wanwudezhi-gives-top-priority-to-efficiency-and-builds-a-big-data-platform-based-on-dataworks-%2B-maxcompute-%2B-hologres_597331">
                                Wanwudezhi Gives Top Priority to Efficiency and Builds a Big Data Platform Based on DataWorks + MaxCompute + Hologres
                            </a>
                            <p>
                                Alibaba Cloud MaxCompute - February 17, 2021
                            </p>
                        </li>
                                                <li>
                            <span></span>
                            <a href="/blog/alibaba-cloud-massage-queue-for-rocketmq-rabbitmq-mqtt-kafka-%EB%B9%84%EA%B5%90-%EC%A0%95%EB%A6%AC_598450">
                                Alibaba Cloud Massage Queue for RocketMQ, RabbitMQ, MQTT, Kafka 비교 정리
                            </a>
                            <p>
                                JJ Lim - January 11, 2022
                            </p>
                        </li>
                                                <li>
                            <span></span>
                            <a href="/blog/real-time-data-synchronization-based-on-flink-sql-cdc_597750">
                                Real-Time Data Synchronization Based on Flink SQL CDC
                            </a>
                            <p>
                                Apache Flink Community China - May 13, 2021
                            </p>
                        </li>
                                                <li>
                            <span></span>
                            <a href="/blog/meituan-dianpings-use-of-flink-based-real-time-data-warehouse-platforms_596677">
                                Meituan-Dianping&#039;s Use of Flink-based Real-time Data Warehouse Platforms
                            </a>
                            <p>
                                Apache Flink Community China - September 27, 2020
                            </p>
                        </li>
                                                <li>
                            <span></span>
                            <a href="/blog/the-practice-of-real-time-data-processing-based-on-maxcompute_598241">
                                The Practice of Real-Time Data Processing Based on MaxCompute
                            </a>
                            <p>
                                Alibaba Cloud MaxCompute - November 15, 2021
                            </p>
                        </li>
                                            </ul>
                                                            <h3 id="comment">
                        Comments
                    </h3>
                                                            <div class="wrap-main-left-comments">
                        
<span class="hidden" id="pageCount" data-pageCount="0"></span>

                    </div>
                    <div class="page parent-page"></div>
                    <div class="write-comments">
                        <textarea name="" id="" cols="30" rows="10" placeholder="Write your comment..."></textarea>
                        <div class="write-comments-btn">
                            <button class="btn btn-primary add-parent-comment">Post</button>
                        </div>
                    </div>
                                    </div>
                <div class="wrap-main-iconBox">
                    <a href="javascript:;" class="bg sharer" data-sharer="linkedin" data-url="https://www.alibabacloud.com/blog/how-to-synchronize-data-from-message-queue-for-apache-kafka-to-maxcompute_596166" title="How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?">
                        <i class="icon icon-linkedin1"></i>
                    </a>
                    <a href="javascript:;" class="sharer" data-sharer="facebook" data-url="https://www.alibabacloud.com/blog/how-to-synchronize-data-from-message-queue-for-apache-kafka-to-maxcompute_596166" title="How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?">
                        <i class="icon icon-lianshu1"></i>
                    </a>
                    <a href="javascript:;" class="sharer" data-sharer="twitter" data-url="https://www.alibabacloud.com/blog/how-to-synchronize-data-from-message-queue-for-apache-kafka-to-maxcompute_596166" title="How to Synchronize Data from Message Queue for Apache Kafka to MaxCompute?">
                        <i class="icon icon-twitter1"></i>
                    </a>
                                                                                </div>
            </div>
            <div class="wrap-main-right col-md-4">
                <div class="wrap-main-right-user wrap-main-right-user-pc">
                    <dl>
                        <dt>
                            <a href="https://community.alibabacloud.com/users/5973336550740304">
                            <img src="https://yqintl.alicdn.com/img_d133b5f6dec2011e91463e72195049d7.png?x-oss-process=image/resize,m_fixed,h_64,w_64" alt="">
                            </a>
                        </dt>
                        <dd>
                            <h1>
                            <a href="https://community.alibabacloud.com/users/5973336550740304">
                                Alibaba Cloud MaxCompute
                            </a>
                            </h1>
                            <p>
                            108 posts | <span class="followers-num">16</span> followers
                            </p>
                                                                                            <a href="#" class="follow-btn" data-islogin="false" data-uid="5973336550740304" data-isfollowed="false" id="follow-btn" rel="nofollow">Follow</a>
                                                                                    </dd>
                    </dl>
                </div>
                                <div class="wrap-main-right-box">
                    <h1>
                         Related Products
                    </h1>
                    <ul>
                                            <li>
                            <h2>
                                                                <a href="https://community.alibabacloud.com/go/1/376">
                                                                    <img src="https://yqintl.alicdn.com/img_4b78d17b7bfe36b7b2fb8597c208f693.png" alt="">
                                    Big Data Consulting for Data Technology Solution
                                </a>
                            </h2>
                            <p>
                            Alibaba Cloud provides big data consulting services to help enterprises leverage advanced data technology.
                            </p>
                                                        <a href="https://community.alibabacloud.com/go/1/376" class="btn btn-default">
                                                             Learn More
                            </a>
                        </li>
                                            <li>
                            <h2>
                                                                <a href="https://community.alibabacloud.com/go/1/377">
                                                                    <img src="https://yqintl.alicdn.com/img_15ee15cb81c6563bc7321d2fcfeb1e2c.png" alt="">
                                    Big Data Consulting Services for Retail Solution
                                </a>
                            </h2>
                            <p>
                            Alibaba Cloud experts provide retailers with a lightweight and customized big data consulting service to help you assess your big data maturity and plan your big data journey.
                            </p>
                                                        <a href="https://community.alibabacloud.com/go/1/377" class="btn btn-default">
                                                             Learn More
                            </a>
                        </li>
                                            <li>
                            <h2>
                                                                <a href="https://community.alibabacloud.com/go/1/353">
                                                                    <img src="https://yqintl.alicdn.com/img_a75f9780d8526a2a736045bc5fb2560b.png" alt="">
                                    Omnichannel Data Mid-End Solution
                                </a>
                            </h2>
                            <p>
                            This all-in-one omnichannel data solution helps brand merchants formulate brand strategies, monitor brand operation, and increase customer base.
                            </p>
                                                        <a href="https://community.alibabacloud.com/go/1/353" class="btn btn-default">
                                                             Learn More
                            </a>
                        </li>
                                            <li>
                            <h2>
                                                                <a href="https://community.alibabacloud.com/go/1/345">
                                                                    <img src="https://yqintl.alicdn.com/img_9f69a6dbe6b2ab9bbceb4ad2af238b47.png" alt="">
                                    Quick Starts
                                </a>
                            </h2>
                            <p>
                            Deploy custom Alibaba Cloud solutions for business-critical scenarios with Quick Start templates.
                            </p>
                                                        <a href="https://community.alibabacloud.com/go/1/345" class="btn btn-default">
                                                             Learn More
                            </a>
                        </li>
                                        </ul>
                </div>
                                                <div class="wrap-main-right-list">
                    <div>
                        <p>
                            <b>
                                 More Posts
                            </b>
                            <span>
                                by Alibaba Cloud MaxCompute
                            </span>
                        </p>
                        <main>
                            <span>
                                 <a href="https://community.alibabacloud.com/users/5973336550740304/article">See All</a>
                            </span>
                            <i class="icon icon-more"></i>
                        </main>
                    </div>
                    <ul>
                                                <li>
                            <a href="/blog/the-evolution-of-the-wanli-niu-real-time-data-warehouse_598505">The Evolution of the Wanli Niu Real-Time Data Warehouse</a>
                        </li>
                                                <li>
                            <a href="/blog/data-warehouse-and-lake-house-continuous-evolution-of-the-cloud-native-big-data-platform_598504">Data Warehouse and Lake House: Continuous Evolution of the Cloud-Native Big Data Platform</a>
                        </li>
                                                <li>
                            <a href="/blog/cloud-native-upgrade-practices-for-big-data-platforms-in-the-digital-marketing-industry_598426">Cloud-Native Upgrade Practices for Big Data Platforms in the Digital Marketing Industry</a>
                        </li>
                                                <li>
                            <a href="/blog/a-guide-to-migration-from-redshift-to-maxcompute_598425">A Guide to Migration from Redshift to MaxCompute</a>
                        </li>
                                                <li>
                            <a href="/blog/the-practice-of-lake-house-in-the-fintech-industry_598383">The Practice of Lake House in the FinTech Industry</a>
                        </li>
                                                <li>
                            <a href="/blog/the-best-practice-of-cloud-native-full-stack-data-warehouses-in-so-young_598382">The Best Practice of Cloud-Native Full-Stack Data Warehouses in So-Young</a>
                        </li>
                                                <li>
                            <a href="/blog/the-practice-of-semi-structured-data-processing-based-on-maxcompute-sql_598381">The Practice of Semi-Structured Data Processing Based on MaxCompute SQL</a>
                        </li>
                                                <li>
                            <a href="/blog/scientific-analysis-of-large-scale-data-based-on-the-distributed-python-capabilities-of-maxcompute_598320">Scientific Analysis of Large-Scale Data Based on the Distributed Python Capabilities of MaxCompute</a>
                        </li>
                                                <li>
                            <a href="/blog/crowd-selection-and-data-service-practices-based-on-maxcompute-%26-hologres_598319">Crowd Selection and Data Service Practices Based on MaxCompute &amp; Hologres</a>
                        </li>
                                                <li>
                            <a href="/blog/revealing-dag-maxcompute-execution-engine-core-technology_598263">Revealing DAG – MaxCompute Execution Engine Core Technology</a>
                        </li>
                                            </ul>
                </div>
                            </div>

        </div>

    </div>

      <script type="text/javascript"  nonce="">
    window.localconfigs = {
        'aid': 596166
    };
  </script>

  <script type="text/javascript"  nonce="">
  window.configs = {
      "csrf-param": "yunqi_csrf",
      "csrf-token": "EIM2JAGXYJ",
      "islogin": false,
      "registerurl": "https://account.alibabacloud.com/register/register.htm?from_type=yqclub&oauth_callback=https%3A%2F%2Fwww.alibabacloud.com%2Fblog%2Fhow-to-synchronize-data-from-message-queue-for-apache-kafka-to-maxcompute_596166%3Fdo%3Dlogin",
      "loginurl": "https://account.alibabacloud.com/login/login.htm?from_type=yqclub&oauth_callback=https%3A%2F%2Fwww.alibabacloud.com%2Fblog%2Fhow-to-synchronize-data-from-message-queue-for-apache-kafka-to-maxcompute_596166%3Fdo%3Dlogin",
      "isNeedNickname": false,
      "baseurl": "/blog"
  };
  </script>

  <script src="//g.alicdn.com/aliyun-international/blog-assert/0.0.23/js/detail.js"></script>
  <script src="//g.alicdn.com/aliyun-international/blog-assert/0.0.23/js/nav.js"></script>
  <script type="text/javascript"  nonce="">
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-86123020-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
