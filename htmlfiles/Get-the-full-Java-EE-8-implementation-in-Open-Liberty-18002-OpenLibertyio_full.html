<!DOCTYPE html>
<html lang="en">

  


<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Get the full Java EE 8 implementation in Open Liberty 18.0.0.2 - OpenLiberty.io</title>
  <meta name="description" content="Full Java EE 8 support, including JAX-RS 2.1 reactive client and server-sent events, CDI event-ordering and asynchonous events, HTTP/2 support in servlets, JSF 2.3, JPA 2.2, JWT cookies (yum!), security improvements,...oh, and you can now deploy Spring Boot applications to Liberty.">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link type="text/css" rel="stylesheet" href="/assets/openliberty-e8e9163d41fd2fc4ccf3a3e52a541fd6c4bc96db9969f77dc0251de0ea8cc300.css">
  <link type="text/css" rel="stylesheet" href="/assets/coderay-custom-f9c296c1a56c904162eb1579e9913976b3abd58e725751132bd91f0803ae11a1.css">

  
    <link type="text/css" rel="stylesheet" href="/assets/header-b2de60ba7010f2713f01cff1e2d35baad9a5144570c3243b63fb3ea300064454.css">
  
    <link type="text/css" rel="stylesheet" href="/assets/post-561f1b1958e734837d0c4b57c0872966d4ad9c111e0e007d747f0c76a0098c62.css">
  

  

  
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TKP3KJ7');</script>

  

  <link rel="canonical" href="https://openliberty.io/blog/2018/06/29/full_java_ee_8_liberty_18002.html">
  <link rel="alternate" type="application/rss+xml" title="Open Liberty" href="/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Asap:400,500" rel="stylesheet">
    
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@OpenLibertyIO" />
  <meta name="twitter:title" content="Get the full Java EE 8 implementation in Open Liberty 18.0.0.2 - OpenLiberty.io" />
  <meta name="twitter:description" content="Full Java EE 8 support, including JAX-RS 2.1 reactive client and server-sent events, CDI event-ordering and asynchonous events, HTTP/2 support in servlets, JSF 2.3, JPA 2.2, JWT cookies (yum!), security improvements,...oh, and you can now deploy Spring Boot applications to Liberty." />
  <meta name="twitter:image" content="https://openliberty.io/img/twitter_card.jpg" />

  <meta property='og:title' content="Get the full Java EE 8 implementation in Open Liberty 18.0.0.2 - OpenLiberty.io" />
  <meta property='og:image' content="https://openliberty.io/img/twitter_card.jpg" />
  <meta property='og:description' content="Full Java EE 8 support, including JAX-RS 2.1 reactive client and server-sent events, CDI event-ordering and asynchonous events, HTTP/2 support in servlets, JSF 2.3, JPA 2.2, JWT cookies (yum!), security improvements,...oh, and you can now deploy Spring Boot applications to Liberty." />
  <meta property='og:url' content="https://openliberty.io/blog/2018/06/29/full_java_ee_8_liberty_18002.html" />
  <meta property='og:type' content="website" />
  
  <meta name="google-site-verification" content="h2P030H9b66CyL1nEmWfrZB8Fr14h9LmVMG7Ur0caBs" />

  

  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>


  <body>
    
    
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKP3KJ7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


    <header>
    <nav id="nav_bar">
        <div id="nav_header">
            <a id="home_link" href="/" aria-label="Open Liberty Home">
                <img id="ol_logo" src="/img/docs_openliberty_logo.png" alt="Open Liberty Logo">
            </a>
            <button id="hamburger_toggle_button" onclick="$('#nav_bar').toggleClass('responsive');">
                <span id="hamburger_toggle_icon"></span>
            </button>
        </div>
        <div id="hamburger_menu">
            <ul class="nav_list">
                <li class="nav_link">
                    <a href="/start/">Get Started</a>
                </li>
                <li class="nav_link">
                    <a href="/guides/">Guides</a>
                </li>
                <li class="nav_link">
                    <a href="/docs/">Docs</a>
                </li>
                <li class="nav_link">
                    <a href="/support/">Support</a>
                </li>
                <li class="nav_link">
                    <a href="/blog/">Blog</a>
                </li>
            </ul>
            <div id="header_round_links_container"> 
                <a id="header_twitter_link" class="header_round_button" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="header_stackoverflow_link" class="header_round_button" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="header_groupsio_link" class="header_round_button" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="header_gitter_link" class="header_round_button" href="https://gitter.im/OpenLiberty/" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>
    </nav>
</header>


    <main aria-label="Content">

      <div id="article_container" class="container-fluid">
    <article class="post" aria-label="article">
        <header id="post_header">
            <div class="container">
                <a id="blog_link" href="/blog"><img class="arrow" src="/img/post_arrow.svg" alt="back to all blogs">See all blog posts</a>
                <div class="share_post_container">
                    
                    <a class="twitter_link" href="//twitter.com/intent" onclick="window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent('Get full Java EE 8 in Open Liberty 18.0.0.2') + '&amp;url=' + encodeURIComponent(window.location)); return false" aria-label="Twitter link"></a>
                    <a class="reddit_link" href="//www.reddit.com/submit" onclick="window.open('//www.reddit.com/submit?url=' + encodeURIComponent(window.location)); return false" aria-label="Reddit link"></a>
                </div>
                <h1 id="post_title">Get full Java EE 8 in Open Liberty 18.0.0.2</h1>
                <div id="post_information_container">
                    
                    
                    
                    <div class="author_images_container">
                        <img src="https://avatars3.githubusercontent.com/u/3322532" class="author_image" alt="image of author">
                        
                    </div>
                    <a class="author_name" href="https://github.com/lauracowen" target="_blank" rel="noopener noreferrer">Laura Cowen</a>
                    
                    
                    <span id="post_date">on Jun 29, 2018</span>
                </div>
                <div class="post_tags_container"></div>
            </div>
        </header>
        <div id="article_body" class="container">
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Yes, itâs here! Open Liberty is the first app server (to our knowledge) with full Java EE 8 support. What does that mean? Well, weâve got the goodness of JAX-RS 2.1 reactive client and server-sent events, CDI event-ordering and asynchonous events, HTTP/2 support in servlets, JSF 2.3 (for the JSF fans, you know who you are), JPA 2.2, JWT cookies (yum!), security improvements,â¦âoh, and you can now deploy Spring Boot applications to Liberty #justsayin'</p>
</div>
<div class="paragraph">
<p>What are you waiting for? Download Open Liberty 18.0.0.2:</p>
</div>
<div class="imageblock text-center download-ol-button">
<div class="content">
<a class="image" href="https://openliberty.io/downloads/"><img src="/img/blog/blog_btn_download-ol.svg" alt="Download Open Liberty"></a>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<a class="image" href="https://stackoverflow.com/tags/open-liberty" target="_blank" rel="noopener noreferrer"><img src="/img/blog/blog_btn_stack.svg" alt="Ask a question on Stack Overflow"></a>
</div>
</div>
<div class="paragraph">
<p>Alternatively, if youâre using <a href="https://www.openliberty.io/guides/maven-intro.html" target="_blank" rel="noopener noreferrer">Maven</a>, here are the coordinates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>io.openliberty<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>openliberty-runtime<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>18.0.0.2<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;type&gt;</span>zip<span class="tag">&lt;/type&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or for <a href="https://openliberty.io/guides/gradle-intro.html">Gradle</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="error">d</span><span class="error">e</span><span class="error">p</span><span class="error">e</span><span class="error">n</span><span class="error">d</span><span class="error">e</span><span class="error">n</span><span class="error">c</span><span class="error">i</span><span class="error">e</span><span class="error">s</span> {
    <span class="error">l</span><span class="error">i</span><span class="error">b</span><span class="error">e</span><span class="error">r</span><span class="error">t</span><span class="error">y</span><span class="error">R</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">i</span><span class="error">m</span><span class="error">e</span> <span class="error">g</span><span class="error">r</span><span class="error">o</span><span class="error">u</span><span class="error">p</span>: <span class="error">'</span><span class="error">i</span><span class="error">o</span><span class="error">.</span><span class="error">o</span><span class="error">p</span><span class="error">e</span><span class="error">n</span><span class="error">l</span><span class="error">i</span><span class="error">b</span><span class="error">e</span><span class="error">r</span><span class="error">t</span><span class="error">y</span><span class="error">'</span>, <span class="error">n</span><span class="error">a</span><span class="error">m</span><span class="error">e</span>: <span class="error">'</span><span class="error">o</span><span class="error">p</span><span class="error">e</span><span class="error">n</span><span class="error">l</span><span class="error">i</span><span class="error">b</span><span class="error">e</span><span class="error">r</span><span class="error">t</span><span class="error">y</span><span class="error">-</span><span class="error">r</span><span class="error">u</span><span class="error">n</span><span class="error">t</span><span class="error">i</span><span class="error">m</span><span class="error">e</span><span class="error">'</span>, <span class="error">v</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">i</span><span class="error">o</span><span class="error">n</span>: <span class="error">'</span>[<span class="float">18.0</span><span class="error">.</span><span class="float">0.2</span>,<span class="error">)</span><span class="error">'</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or if youâre using Docker:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>docker pull open-liberty</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Open Liberty 18.0.0.2, youâll find:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#javaee8">Full support for Java EE 8:</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#jaxrs">Reactive client and server-sent events with JAX-RS 2.1</a></p>
</li>
<li>
<p><a href="#cdi">Asynchronous events, event ordering, and more with CDI 2.0</a></p>
</li>
<li>
<p><a href="#servlet40">Write dynamic web applications with Servlet 4.0</a></p>
</li>
<li>
<p><a href="#http2">HTTP/2 protocol support</a></p>
</li>
<li>
<p><a href="#jsf">Build user interfaces for web applications with JavaServer Faces (JSF) 2.3</a></p>
</li>
<li>
<p><a href="#jpa">Interact with databases with Java Persistence API (JPA) 2.2</a></p>
</li>
<li>
<p><a href="#jwtsso">Emit and consume JWT cookies with JWT Single Sign-on 1.0</a></p>
</li>
<li>
<p><a href="#appsecurity">Secure your applications using Security API 1.0 specification</a></p>
</li>
<li>
<p><a href="#jsonb">Store JSON with JSON-B 1.0</a></p>
</li>
<li>
<p><a href="#beanval">Validate objects, parameters, and more with Bean Validation 2.0</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>And:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#spring">Deploy Spring Boot applications to Liberty</a></p>
</li>
<li>
<p><a href="#certmapper">Control how custom X.509 certificates map to users in Libertyâs LDAP and basic user registries</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>As we donât have a full set of documentation implemented for Open Liberty yet, the items below point to the <a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/as_ditamaps/was900_welcome_liberty.html" target="_blank" rel="noopener noreferrer">official documentation for WebSphere Liberty</a> so you can find out more about them (WebSphere Liberty is built on Open Liberty).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="javaee8">Full support for Java EE 8</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://openliberty.io/downloads/">Download Liberty</a> with either the Java EE 8 Web Profile runtime or the Java EE 8 Full Platform runtime.</p>
</div>
<div class="paragraph">
<p>You can enable all of the Java EE 8 features (or the more lightweight set of Web Profile features) with a single feature in your <code>server.xml</code>.</p>
</div>
<div class="sect2">
<h3 id="java-ee-8-web-profile">Java EE 8 Web Profile</h3>
<div class="paragraph">
<p>The features included when you enable the <code>webProfile-8.0</code> feature (Java EE 8 Web Profile) and are new in Java EE 8 are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>appSecurity-3.0</code></p>
</li>
<li>
<p><code>beanValidation-2.0</code></p>
</li>
<li>
<p><code>cdi-2.0</code></p>
</li>
<li>
<p><code>jaxrs-2.1</code></p>
</li>
<li>
<p><code>jaxrsClient-2.1</code></p>
</li>
<li>
<p><code>jpa-2.2</code></p>
</li>
<li>
<p><code>jpaContainer-2.2</code></p>
</li>
<li>
<p><code>jsf-2.3</code></p>
</li>
<li>
<p><code>jsonb-1.0</code></p>
</li>
<li>
<p><code>jsonp-1.1</code></p>
</li>
<li>
<p><code>servlet-4.0</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>webProfile-8.0</code> feature also contains the following features which are unchanged from Java EE 7: <code>distributedMap01.0</code>, <code>ejbLite-3.2</code>, <code>el-3.0</code>, <code>jaspic-1.1</code>, <code>jdbc-4.2</code>, <code>jndi-1.0</code>, <code>jsp-2.3</code>, <code>managedBeans-1.0</code>, <code>ssl-1.0</code>, <code>websocket-1.1</code>.</p>
</div>
<div class="paragraph">
<p>To enable the whole of the <code>webProfile-8.0</code> feature, add the feature definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>webProfile-8.0<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="java-ee-8-full-profile">Java EE 8 Full Profile</h3>
<div class="paragraph">
<p>The features included when you enable the <code>javaee-8.0</code> feature (Java EE 8 Full Platform) and are new in Java EE 8 are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>webProfile-8.0</code> (see above)</p>
</li>
<li>
<p><code>javaMail-1.6</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>javaee-8.0</code> feature also contains the following features which are unchanged from Java EE 7: <code>appClientSupport-1.0</code>, <code>batch-1.0</code>, <code>concurrent-1.0</code>, <code>ejb-3.2</code>, <code>ejbHome-3.2</code>, <code>ejbPersistentTimer-3.2</code>, <code>jacc-1.5</code>, <code>jaspic-1.1</code>, <code>jaxws-2.2</code>, <code>jca-1.7</code>, <code>jcaInboundSecurity-1.0</code>, <code>jms-2.0</code>, <code>mdb-3.2</code>, <code>wasJmsClient-2.0</code>, <code>wasJmsSecurity-1.0</code>, <code>wasJmsServer-1.0</code>.</p>
</div>
<div class="paragraph">
<p>To enable the whole of the <code>javaee-8.0</code>, add the feature definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>javaee-8.0<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javaee/tech/java-ee-8-3890673.html" target="_blank" rel="noopener noreferrer">Java EE 8 technologies list (Oracle)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jaxrs">Reactive client and server-sent events with JAX-RS 2.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JAX-RS 2.1 enables two exciting new technologies: reactive client and server-sent events.  The reactive client takes full advantage of Java 8 lambda expressions to enable highly scalable multi-threaded clients.  Server-sent events allow developers to send data asynchronously to multiple clients, either individually or by broadcasting to all in an efficient manner.</p>
</div>
<div class="paragraph">
<p>Coding an asynchronous JAX-RS client was possible in JAX-RS 2.0 but the reactive client in 2.1 enables much more parallelism with much less code.  Users can now kick off multiple client requests having each one react to the response from the server, potentially by making new asynchronous requests.</p>
</div>
<div class="paragraph">
<p>Server-sent events was not possible using JAX-RS APIs prior to 2.1.  Users wishing to send updates to remote clients using JAX-RS would need to rely on polling which is inefficient.  Otherwise, they would need to rely on third-party implementations to provide SSE or SSE-like functionality.  Now a JAX-RS resource can allow multiple clients to register for events - then send them on a schedule, randomly, at the request of other clients, with very little code.</p>
</div>
<div class="paragraph">
<p>To enable JAX-RS 2.1, add the definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>jaxrs-2.1<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.linkedin.com/pulse/my-favorite-part-jax-rs-21-implementers-view-j-andrew-mccright/" target="_blank" rel="noopener noreferrer">My favourite part of JAX-RS 2.1: An implementerâs view</a></p>
</li>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_dep_jaxrs21.html" target="_blank" rel="noopener noreferrer">JAX-RS 2.1 (Knowledge Center)</a></p>
</li>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/cwlp_jaxrs21_behavior.html" target="_blank" rel="noopener noreferrer">Changes between JAX-RS 2.0 and JAX-RS 2.1 (Knowledge Center)</a></p>
</li>
<li>
<p><a href="https://jcp.org/en/jsr/detail?id=370" target="_blank" rel="noopener noreferrer">JAX-RS 2.1 spec</a></p>
</li>
<li>
<p><a href="https://jax-rs.github.io/apidocs/2.1/" target="_blank" rel="noopener noreferrer">JAX-RS 2.1 Javadoc</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cdi">Asynchronous events, event ordering, and more with CDI 2.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CDI 2.0 provides the following support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Activate Request Context - Some third-party framework developers might want to have their own request lifecycle and have a tight control of it without creating a custom context. Previously, it was not possible for application developers to activate Request Context. CDI 2.0 added this support so that some unnecessary custom Request Scoped creation can be avoided.</p>
</li>
<li>
<p>Event ordering and asynchronous events - Prior to CDI 2.0, it was not possible to order the event notification. In CDI 2.0, use <code>@Priority</code> to order the synchronous event notifications. In CDI 2.0, you can fire and observe asynchronous events.</p>
</li>
<li>
<p>Add Interceptor support to produced beans - CDI 2.0 adds interceptor support on a producer using InterceptionFactory so that the produced beans have interceptors applied.</p>
</li>
<li>
<p>Provide a number of annotation literals - CDI uses annotation literals in various places. Previously, you needed to create annotation literal classes for some built-in scopes or qualifiers. In CDI 2.0, the APIs have the annotation literal provided so that the annotation literal for some useful scopes  or qualifiers are provided by the CDI APIs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, in order to find a Foo bean with the <code>Default</code> qualifier, before CDI 2.0 you needed to do the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span> Instance&lt;Foo&gt; foo;

<span class="directive">public</span> Foo getFoo() {

<span class="keyword">return</span> instance.select(DefaultLiteral.INSTANCE).get();

}

<span class="directive">public</span> <span class="type">class</span> <span class="class">DefaultLiteral</span> <span class="directive">extends</span> AnnotationLiteral&lt;Default&gt; <span class="directive">implements</span> Default {

    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> DefaultLiteral INSTANCE = <span class="keyword">new</span> DefaultLiteral();

    <span class="directive">private</span> DefaultLiteral() {}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In CDI 2.0, you can do the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Inject</span> Instance&lt;Foo&gt; foo;

<span class="directive">public</span> Foo getFoo() {

<span class="keyword">return</span> instance.select(Default.Literal.INSTANCE).get();

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, in CDI 2.0, you can use <code>Default.Literal.INSTANCE`</code> to get the annotation of <code>Default</code>, which is a lot simpler.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CDI SPI configurators - In CDI 1.x, using SPI is used to generate verbose and less elegant code. In CDI 2.0, the configurators solve this. These configurators are accessible in lifecycle container event when writing extensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To enable the CDI 2.0 feature, add the feature definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">           <span class="tag">&lt;featureManager&gt;</span>
                  <span class="tag">&lt;feature&gt;</span>cdi-2.0<span class="tag">&lt;/feature&gt;</span>
          <span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="servlet40">Write dynamic web applications with Servlet 4.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Servlet 4.0 is the latest Java EE 8 version of the Servlet specification.</p>
</div>
<div class="paragraph">
<p>The <code>servlet-4.0</code> feature includes the new Servlet 4.0 features and functions, for example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Support for HTTP/2 push/promise.</p>
</li>
<li>
<p>Support for HTTP trailers.</p>
</li>
<li>
<p><code>HttpServletRequest.getServletMapping()</code></p>
</li>
<li>
<p><code>ServletContext.getSessionTimeout() and setSessionTimeout()</code></p>
</li>
<li>
<p><code>ServletContext.addJspFile()</code></p>
</li>
<li>
<p>Support for new elements in <code>web.xml</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>default-context-path</code></p>
</li>
<li>
<p><code>request-character-encoding</code></p>
</li>
<li>
<p><code>response-character-encoding</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>To enable the Servlet 4.0 feature, add the feature definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>servlet-4.0<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/en/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_config_servlet40.html" target="_blank" rel="noopener noreferrer">Servlet 4.0 (Knowledge Center)</a></p>
</li>
<li>
<p><a href="https://javaee.github.io/servlet-spec/" target="_blank" rel="noopener noreferrer">Java Servlet spec</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="http2">HTTP/2 protocol support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>HTTP/2 is an optimization of the HTTP/1.1 protocol.  Use of the HTTP/2 protocol is initiated by the client and accepted by the server.  Web applications that involve numerous HTTP/1.1 sessions per webpage can see a significant performance improvement by opting into HTTP/2.  Much of the optimization is achieved by allowing multiple HTTP/1.1 sessions to be transacted in parallel over one initial upgraded HTTP/1.1 connection.</p>
</div>
<div class="paragraph">
<p>Secure HTTP/2 (h2) uses ALPN (Application-Layer Protocol Negotiation) to upgrade the protocol of an HTTP/1.1 session to HTTP/2.  Insecure HTTP/2 (h2c) can be negotiated via an HTTP/1.1 Upgrade header.  The HTTP/2 protocol then allows for full-duplex communication of HTTP/1.1 traffic between client and server over this one upgraded connection.  Both client and server have to opt into the HTTP/2 protocol with the ALPN handshake being initiated by the client.</p>
</div>
<div class="paragraph">
<p>Servlet 4.0 makes use of the HTTP/2 protocol to implement the Servlet 4.0 Server Push APIs, and HTTP/2 is enabled when the Servlet 4.0 Liberty feature is enabled.</p>
</div>
<div class="paragraph">
<p>If the Servlet 3.1 Liberty feature is enabled instead of Servlet 4.0, HTTP/2 is off by default but can be enabled by setting the <code>protocolVersion = "http/2"</code> attribute of the <code>httpEndpoint</code> element.</p>
</div>
<div class="paragraph">
<p>For more info, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/en/SSEQTP_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/cwlp_servlet40_http2.html" target="_blank" rel="noopener noreferrer">HTTP/2 in Servlet 4.0 (Knowledge Center)</a></p>
</li>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/en/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/cwlp_alpnsupport.html" target="_blank" rel="noopener noreferrer">ALPN support (Knowledge Center)</a></p>
</li>
<li>
<p><a href="https://tools.ietf.org/html/rfc7540" target="_blank" rel="noopener noreferrer">HTTP protocol specification</a></p>
</li>
<li>
<p><a href="https://jcp.org/en/jsr/detail?id=369" target="_blank" rel="noopener noreferrer">Servlet 4.0 specification</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jsf">Build user interfaces for web application with JavaServer Faces (JSF) 2.3</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Take advantage of the latest JSF features and enhancements. The <code>jsf-2.3</code> feature pulls in the Apache MyFaces implementation and integrates it into the Liberty runtime. The new JSF 2.3 capabilities include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;f:importConstants/&gt;</code></p>
</li>
<li>
<p>Enhanced component search facility</p>
</li>
<li>
<p>DataModel implementions can be registered</p>
</li>
<li>
<p>CDI replacement for <code>@ManagedProperty</code></p>
</li>
<li>
<p>UIData and <code>&lt;ui:repeat&gt;</code> support for Map and Iterable</p>
</li>
<li>
<p><code>&lt;ui:repeat&gt;</code> condition check</p>
</li>
<li>
<p>Java Time support</p>
</li>
<li>
<p>WebSocket integration using <code>&lt;f:websocket&gt;</code></p>
</li>
<li>
<p>Multi-field validation using <code>&lt;f:validateWholeBean&gt;</code></p>
</li>
<li>
<p>Use CDI for evaluation of JSF-specific Expression Language implicit objects</p>
</li>
<li>
<p>Support <code>@Inject</code> on JSF-specific artifacts</p>
</li>
<li>
<p>Ajax Method Invocation. See vdldoc for <code>&lt;h:commandScript&gt;</code></p>
</li>
<li>
<p>Add <code>PartialViewContext.getEvalScripts()</code> method which returns a mutable list of scripts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With the delivery of JSF 2.3 you can also use your own JSF 2.3 implementation using the <code>jsfContainer-2.3</code> feature.</p>
</div>
<div class="paragraph">
<p>To enable the JSF 2.3 feature, add the feature definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">           <span class="tag">&lt;featureManager&gt;</span>
                  <span class="tag">&lt;feature&gt;</span>jsf-2.3<span class="tag">&lt;/feature&gt;</span>
          <span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The CDI 2.0 feature is now available (<code>cdi-2.0</code>) and should be used with the <code>jsf-2.3</code> feature.</p>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/en/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_config_jsf23.html" target="_blank" rel="noopener noreferrer">JSF 2.3 (Knowledge Center)</a></p>
</li>
<li>
<p><a href="https://myfaces.apache.org/" target="_blank" rel="noopener noreferrer">Apache MyFaces</a></p>
</li>
<li>
<p><a href="https://javaee.github.io/javaserverfaces-spec/" target="_blank" rel="noopener noreferrer">JSF 2.3 spec</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jpa">Interact with databases with Java Persistence API (JPA) 2.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Java 8 introduced a new Date and Time API, which is more powerful than the old APIs part of java.util for years.  Collection streaming, introduced in Java 8, is now formally supported by the JPA 2.2 specification, enabling new ways to process query result sets.  Many JPA annotations are now repeatable, eliminating the need to use grouping annotations.</p>
</div>
<div class="paragraph">
<p>To enable the JPA 2.2 feature, add the feature definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">           <span class="tag">&lt;featureManager&gt;</span>
                  <span class="tag">&lt;feature&gt;</span>jpa-2.2<span class="tag">&lt;/feature&gt;</span>
          <span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This enables JPA 2.2 and the EclipseLink 2.7 JPA persistence provider that is bundled with the feature.  If you prefer to use your own EclipseLink 2.7 binaries, you can instead enable the <code>&lt;feature&gt;jpaContainer-2.2&lt;/feature&gt;</code> feature, which provides JPA 2.2 container integration but does not enable the provided EclipseLink JPA provider implementation.</p>
</div>
<div class="paragraph">
<p>Examples of JPA 2.2 Enhancements:</p>
</div>
<div class="sect2">
<h3 id="repeatable-annotations">@Repeatable Annotations</h3>
<div class="paragraph">
<p>Before JPA 2.2:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@PersistenceContexts</span>(
  <span class="annotation">@PersistenceContext</span>(name=<span class="error">â</span>foo<span class="error">â</span>, unitName=<span class="error">â</span>bar<span class="error">â</span>),
  <span class="annotation">@PersistenceContext</span>(name=<span class="error">â</span>cloud<span class="error">â</span>, unitName=<span class="error">â</span>sky<span class="error">â</span>))
<span class="annotation">@Stateless</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SomeEJB</span> {
<span class="error">â¦</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With JPA 2.2:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@PersistenceContext</span>(name=<span class="error">â</span>foo<span class="error">â</span>, unitName=<span class="error">â</span>bar<span class="error">â</span>),
<span class="annotation">@PersistenceContext</span>(name=<span class="error">â</span>cloud<span class="error">â</span>, unitName=<span class="error">â</span>sky<span class="error">â</span>)
<span class="annotation">@Stateless</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SomeEJB</span> {
<span class="error">â¦</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="jpa-2-2-supports-java-time-types">JPA 2.2 Supports java.time Types</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Entity</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyEntity</span> {
<span class="error">â¦</span>
  <span class="comment">// The following map to database time column types natively now</span>
  <span class="annotation">@Basic</span> <span class="directive">private</span> java.time.LocalDate localDate;
  <span class="annotation">@Basic</span> <span class="directive">private</span> java.time.LocalDateTime localDateTime;
  <span class="annotation">@Basic</span> <span class="directive">private</span> java.time.LocalTime localTime;
  <span class="annotation">@Basic</span> <span class="directive">private</span> java.time.OffsetTime offsetTime;
  <span class="annotation">@Basic</span> <span class="directive">private</span> java.time.OffsetDateTime offsetDateTime;
<span class="error">â¦</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="attribute-converter-classes-now-support-cdi-bean-injection">Attribute Converter classes now support CDI bean injection</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Converter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">B2IConverter</span> <span class="directive">implements</span> AttributeConverter&lt;<span class="predefined-type">Boolean</span>, <span class="predefined-type">Integer</span>&gt; {
    <span class="directive">final</span> <span class="directive">static</span> <span class="predefined-type">Integer</span> FALSE = <span class="keyword">new</span> <span class="predefined-type">Integer</span>(<span class="integer">0</span>);
    <span class="directive">final</span> <span class="directive">static</span> <span class="predefined-type">Integer</span> TRUE = <span class="keyword">new</span> <span class="predefined-type">Integer</span>(<span class="integer">1</span>);

    <span class="annotation">@Inject</span>
    <span class="directive">private</span> MyLogger logger;

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">Integer</span> convertToDatabaseColumn(<span class="predefined-type">Boolean</span> b) {
        <span class="predefined-type">Integer</span> i = b ? TRUE : FALSE;
        logger.log(<span class="string"><span class="delimiter">"</span><span class="content">Convert: </span><span class="delimiter">"</span></span> + b + <span class="string"><span class="delimiter">"</span><span class="content"> -&gt; </span><span class="delimiter">"</span></span> + i);
        <span class="keyword">return</span> i;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">Boolean</span> convertToEntityAttribute(<span class="predefined-type">Integer</span> i) {
        <span class="predefined-type">Boolean</span> b = TRUE.equals(s) ? <span class="predefined-type">Boolean</span>.TRUE : <span class="predefined-type">Boolean</span>.FALSE;
        logger.log(<span class="string"><span class="delimiter">"</span><span class="content">Convert: </span><span class="delimiter">"</span></span> + i + <span class="string"><span class="delimiter">"</span><span class="content"> -&gt; </span><span class="delimiter">"</span></span> + b);
        <span class="keyword">return</span> b;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="method-stream-getresultstream-added-to-query-and-typedquery-interfaces">Method Stream getResultStream() added to Query and TypedQuery interfaces</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Stateless</span> <span class="directive">public</span> <span class="type">class</span> <span class="class">SBean</span> {
   <span class="annotation">@PersistenceContext</span>(unitName=<span class="error">â</span>Personnel<span class="error">â</span>) EntityManager em;

   <span class="directive">public</span> <span class="type">int</span> getEmployeeSalaryBudget(<span class="type">int</span> deptId) {
      <span class="directive">final</span> <span class="predefined-type">AtomicInteger</span> salBudget = <span class="integer">0</span>;

      TypedQuery&lt;Employee&gt; q = em.createQuery(<span class="error">â</span>SELECT e FROM Employee e WHERE e.deptId = :deptId<span class="error">â</span>, Employee.class);
      q.setParameter(<span class="error">â</span>deptId<span class="error">â</span>, deptId);

      Stream&lt;Employee&gt; empStream = q.getResultStream();
      empStream.forEach( t -&gt; salBudget.set(salBudget.get() + t.getSalary()));

      <span class="keyword">return</span> salBudget.get();
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/javaee/jpa-spec/blob/master/jsr338-MR/JavaPersistence.pdf" target="_blank" rel="noopener noreferrer">JPA spec</a></p>
</li>
<li>
<p><a href="https://javadoc.io/doc/org.eclipse.persistence/javax.persistence/2.2.0-RC1" target="_blank" rel="noopener noreferrer">Javadoc</a></p>
</li>
<li>
<p><a href="https://www.eclipse.org/eclipselink/" target="_blank" rel="noopener noreferrer">EclipseLink</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jwtsso">Emit and consume JWT cookies with JWT Single Sign-on 1.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Java Web Tokens (JWT) single sign-on (SSO) cookies can replace proprietary LTPA cookies in many scenarios. They offer improved interoperability and simplified use compared to LTPA cookies in heterogenous and microservice environments.</p>
</div>
<div class="paragraph">
<p>In microservice environments, the self-contained nature of JWT means consuming services donât need to contact an LDAP server or other identity provider in order to complete authentication and authorization.  In heterogenous environments, the standards-based JWT is usable across multiple implementations where the proprietary WebSphere LTPA cookie is not. JSON Web Key (JWK) can be used for key retrieval to simplify key management.</p>
</div>
<div class="paragraph">
<p>To enable JWT SSO so that Liberty emits and consumes JWT cookies instead of LTPA cookies, add the definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>JwtSso-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/twlp_sec_config_jwt_sso.html" target="_blank" rel="noopener noreferrer">Configuring JWT SSO (Knowledge Center)</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appsecurity">Secure your applications using Security API 1.0 specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>appSecurity-3.0</code> feature provides support for the Java EE Security API 1.0 specification. The <a href="https://jcp.org/en/jsr/detail?id=375" target="_blank" rel="noopener noreferrer">Java Specification Request (JSR) 375</a> specifies the requirement.</p>
</div>
<div class="paragraph">
<p>The specification promotes self-contained application security portability across all Java EE servers, and makes use of modern programming concepts such as expression language and context dependency injection (CDI). It defines annotations specific to various authentication mechanisms, identity stores to handle user authentication, and common programming API to do programmatic Java EE security. It reduces the dependency on the deployment descriptors and application server based configuration for securing Java EE web resources.</p>
</div>
<div class="paragraph">
<p>Once you configure the <code>appSecurity-3.0</code> feature, your application can annotate the authentication mechanisms and the identity stores that are needed. The applications can provide their own implementations to replace the application server provided ones. For example, you can create a custom authentication mechanism that you can bundle in your web application without the need to configure the <code>login-config</code> element in the <code>web.xml</code> file with one of the predefined auth-method types. If you also include your own <code>IdentityStore</code> bean in your application, your IdentityStore can be used to verify the user credentials without the need to configure a user registry in the <code>server.xml</code>.</p>
</div>
<div class="paragraph">
<p>The applications can also use the SecurityContext API defined in the specification to perform programmatic security checks.</p>
</div>
<div class="paragraph">
<p>To enable the Security API 1.0 feature, add the feature definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>appSecurity-3.0<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/rwlp_sec_jee_api.html" target="_blank" rel="noopener noreferrer">Security API 1.0 (Knowledge Center)</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jsonb">Store JSON with JSON-B 1.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JSONB provides a structured format for storing JSON. The &lt;code&gt;jsonb-1.0&lt;/code&gt; feature provides a preview of the JSON Binding (JSON-B) 1.0 specification interfaces, as well as the reference implementation (Eclipse Yasson).</p>
</div>
<div class="paragraph">
<p>JSON technology has proven to be a powerful tool in modern Java EE applications, especially when using a microservices-oriented architecture. Traditionally applications had to provide their own JSON binding implementations and package them in a shared library or application. With the &lt;code&gt;jsonb-1.0&lt;/code&gt; feature, the specification interfaces and implementation are provided out of the box, ready to be used directly by applications.</p>
</div>
<div class="paragraph">
<p>To enable the JSON-B 1.0 feature, add the feature definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>jsonb-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://json-b.net/" target="_blank" rel="noopener noreferrer">JSON-B.net</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="beanval">Validate objects, parameters, and more with Bean Validation 2.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With the bean validation 2.0 feature, Liberty is using Hibernate Validator as its bean validation implementation.  Previously for bean validation 1.0 and 1.1 we used Apache Validator.</p>
</div>
<div class="paragraph">
<p>To enable the bean validation 2.0 feature, add the feature definition to your <code>server.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>beanValidation-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://hibernate.org/validator/" target="_blank" rel="noopener noreferrer">Hibernate website</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring">Deploy Spring Boot applications to Liberty</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Liberty now supports deploying Spring Boot application uber (or fat) JARs without requiring them to be repackaged as a WAR.  Additional tools are provided to manage and separate the embedded dependencies of a Spring Boot application in order to provide more efficient deployments using Docker. When a Spring Boot application is deployed the Liberty web container is used instead of the embedded server packaged with the Spring Boot application, for example Tomcat, Jetty or Undertow.</p>
</div>
<div class="paragraph">
<p>To give it a try, add <code>springBoot-1.5</code> or <code>springBoot-2.0</code> to the feature list in the <code>server.xml</code>. Most Spring Boot applications also require a Servlet feature to be enabled (either <code>servlet-3.1</code> or <code>servlet-4.0</code>).</p>
</div>
<div class="paragraph">
<p>You can also add features for WebSocket support (<code>websocket-1.0</code> or <code>websocket-1.1</code>), JSP support (<code>jsp-2.3</code>), and HTTPS support (<code>transportSecurity-1.0</code>).</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;featureManager&gt;</span>
    <span class="tag">&lt;feature&gt;</span>springBoot-2.0<span class="tag">&lt;/feature&gt;</span>
    <span class="tag">&lt;feature&gt;</span>servlet-4.0<span class="tag">&lt;/feature&gt;</span>
    <span class="tag">&lt;feature&gt;</span>websocket-1.1<span class="tag">&lt;/feature&gt;</span>
    <span class="tag">&lt;feature&gt;</span>jsp-2.3<span class="tag">&lt;/feature&gt;</span>
    <span class="tag">&lt;feature&gt;</span>transportSecurity-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="tag">&lt;/featureManager&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Deploy your Spring Boot applications to liberty in one of the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Place the Spring Boot application JAR in the serverâs <code>dropins/spring/</code> folder (e.g. <code>dropins/spring/myapp.jar</code>) or directly in the <code>dropins/</code> folder and using the <code>.spring</code> extension (e.g. <code>dropins/myapp.jar.spring</code>).</p>
</li>
<li>
<p>Place the Spring Boot application JAR in the serverâs <code>apps/</code> folder and add a <code>&lt;springBootApplication/&gt;</code> element to the <code>server.xml</code> (e.g. <code>&lt;springBootAppilication location="myapp.jar" /&gt;</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more info, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/en/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/rwlp_springboot.html" target="_blank" rel="noopener noreferrer">Spring Boot support (Knowledge Center)</a></p>
</li>
<li>
<p><a href="https://spring.io/projects/spring-boot" target="_blank" rel="noopener noreferrer">Spring Boot project</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="certmapper">Control how custom X.509 certificates map to users in Libertyâs LDAP and basic user registries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You now have complete control over how certificates are mapped to users in the user registry.</p>
</div>
<div class="paragraph">
<p>The out-of-the-box X.509 certificate mappers for the LDAP user registry did not handle custom OIDâs, parsing of certificate fields and included custom filtering of only a subset of the certificateâs fields. For example, there was no support for Subject Alternative Name (SAN). The out-of-the-box X.509 certificate mapper for the basic user registry only supported using the subjectâs <code>cn</code> RDN for the user name. With the X509CertificateMapper API, you can now map a X.509  certificate to a user in the user registry in any way that is required.</p>
</div>
<div class="sect2">
<h3 id="enabling-the-custom-mapping-using-the-bells-feature">Enabling the custom mapping using the BELLs feature</h3>
<div class="paragraph">
<p>Implement the <code>com.ibm.websphere.security.X509CertificateMapper</code> interface and include it in a JAR. Also include in the JAR a Java ServiceLoader provider configuration file (<code>META-INF/com.ibm.websphere.security.X509CertificateMapper</code>) that contains the fully-qualified class names of any X509CertificateMapper implementations to be used in the Liberty server. Each implementation must be preceded by a comment line containing a key-value pair containing the key <code>x509.certificate.mapper.id</code> and a unique ID as the value. Use this ID to reference the implementation from the <code>server.xml</code> configuration file. Load these implementations into Libertyâs classpath using the <code>bells-1.0</code> feature and a shared library.</p>
</div>
<div class="paragraph">
<p>Example configuration file entry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">           # x509.certificate.mapper.id=basicMapper
           com.mycompany.BasicMapper
           # x509.certificate.mapper.id=ldapMapper
           com.mycompany.LdapMapper</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example <code>server.xml</code> configuration for two separate X509CertificateMapper implementations to a basic and LDAP user registry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">          <span class="tag">&lt;server&gt;</span>
              <span class="tag">&lt;featureManager&gt;</span>
                  <span class="tag">&lt;feature&gt;</span>basicRegistry-1.0<span class="tag">&lt;/feature&gt;</span>
                  <span class="tag">&lt;feature&gt;</span>ldapRegistry-3.0<span class="tag">&lt;/feature&gt;</span>
                  <span class="tag">&lt;feature&gt;</span>bells-1.0<span class="tag">&lt;/feature&gt;</span>
              <span class="tag">&lt;/featureManager&gt;</span>

              <span class="comment">&lt;!--
                      The library contains any X509CertificateMapper implementations.
               --&gt;</span>
              <span class="tag">&lt;library</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">mylibrary</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
                  <span class="tag">&lt;file</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">${shared.resource.dir}/libs/myLibrary.jar</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
              <span class="tag">&lt;/library&gt;</span>

              <span class="comment">&lt;!--
                      Bundle the library using the BELLS feature.
               --&gt;</span>
              <span class="tag">&lt;bell</span> <span class="attribute-name">libraryRef</span>=<span class="string"><span class="delimiter">"</span><span class="content">mylibrary</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>

              <span class="comment">&lt;!--
                      Reference the X509CertificateMapper(s) from the user registries by configuring the
                      certificateMapMode attribute to "CUSTOM" and referencing the ID configured in the
                      provider configuration file in the certificateMapperId attribute.
               --&gt;</span>
              <span class="tag">&lt;basicRegistry</span> <span class="attribute-name">...</span> <span class="attribute-name">certificateMapMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">CUSTOM</span><span class="delimiter">"</span></span> <span class="attribute-name">certificateMapperId</span>=<span class="string"><span class="delimiter">"</span><span class="content">basicMapper</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
              <span class="tag">&lt;ldapRegistry</span> <span class="attribute-name">...</span> <span class="attribute-name">certificateMapMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">CUSTOM</span><span class="delimiter">"</span></span> <span class="attribute-name">certificateMapperId</span>=<span class="string"><span class="delimiter">"</span><span class="content">ldapMapper</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
          <span class="tag">&lt;/server&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enabling-the-custom-mapping-with-a-user-feature">Enabling the custom mapping with a user feature</h3>
<div class="paragraph">
<p>Implement the <code>com.ibm.websphere.security.X509CertificateMapper</code> interface and include it in the user feature bundle. Define the X509CertificateMapper implementations as Service Components. The Service Component must specify the <code>x509.certificate.mapper.id</code> property which defines a unique ID as the value. The property can either be specified manually in the Service Component XML file or using the property field of the Component annotation. Load these implementations into Libertyâs classpath with the user feature. Use this ID to reference the implementation from the <code>server.xml</code> configuration file.</p>
</div>
<div class="paragraph">
<p>Example <code>server.xml</code> configuration for configuring two separate X509CertificateMapper implementations to a basic and LDAP user registry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">          <span class="tag">&lt;server&gt;</span>
              <span class="tag">&lt;featureManager&gt;</span>
                  <span class="tag">&lt;feature&gt;</span>basicRegistry-1.0<span class="tag">&lt;/feature&gt;</span>
                  <span class="tag">&lt;feature&gt;</span>ldapRegistry-3.0<span class="tag">&lt;/feature&gt;</span>
                  <span class="tag">&lt;feature&gt;</span>usr:myFeature-1.0<span class="tag">&lt;/feature&gt;</span>
              <span class="tag">&lt;/featureManager&gt;</span>

              <span class="comment">&lt;!--
                      Reference the X509CertificateMapper(s) from the user registries by configuring the
                      certificateMapMode attribute to "CUSTOM" and referencing the ID configured in the
                      Service Component in the certificateMapperId attribute.
               --&gt;</span>
              <span class="tag">&lt;basicRegistry</span> <span class="attribute-name">...</span> <span class="attribute-name">certificateMapMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">CUSTOM</span><span class="delimiter">"</span></span> <span class="attribute-name">certificateMapperId</span>=<span class="string"><span class="delimiter">"</span><span class="content">basicMapper</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
              <span class="tag">&lt;ldapRegistry</span> <span class="attribute-name">...</span> <span class="attribute-name">certificateMapMode</span>=<span class="string"><span class="delimiter">"</span><span class="content">CUSTOM</span><span class="delimiter">"</span></span> <span class="attribute-name">certificateMapperId</span>=<span class="string"><span class="delimiter">"</span><span class="content">ldapMapper</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
          <span class="tag">&lt;/server&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For more info:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/rwlp_sec_basic_certmap.html" target="_blank" rel="noopener noreferrer">Basic registry mapping (Knowledge Center)</a></p>
</li>
<li>
<p><a href="https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/rwlp_sec_ldap_certmap.html" target="_blank" rel="noopener noreferrer">LDAP registry mapping (Knowledge Center)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ready-to-give-it-a-try">Ready to give it a try?</h2>
<div class="sectionbody">
<div class="imageblock text-center download-ol-button">
<div class="content">
<a class="image" href="https://openliberty.io/downloads/"><img src="/img/blog/blog_btn_download-ol.svg" alt="Download Open Liberty"></a>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<a class="image" href="https://stackoverflow.com/tags/open-liberty" target="_blank" rel="noopener noreferrer"><img src="/img/blog/blog_btn_stack.svg" alt="Ask a question on Stack Overflow"></a>
</div>
</div>
</div>
</div>
            <div class="share_post_container">
                
                <a class="twitter_link" href="//twitter.com/intent" onclick="window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent('Get full Java EE 8 in Open Liberty 18.0.0.2') + '&amp;url=' + encodeURIComponent(window.location)); return false" aria-label="Twitter link"></a>
                <a class="reddit_link" href="//www.reddit.com/submit" onclick="window.open('//www.reddit.com/submit?url=' + encodeURIComponent(window.location)); return false" aria-label="Reddit link"></a>
            </div>
            <div id="blog_link_container">
                <a id="blog_link_bottom" href="/blog"><img class="arrow" src="/img/post_arrow.svg" alt="back to all blogs">See all blog posts</a>
            </div>
        </div>
        <div class="tags_container_bottom">	
            <div class="container">	
                <p id="tags">Tags</p>	
                <div class="post_tags_container"></div>	
            </div>	
        </div>
    </article>
</div>

<div class="d-none">
    <img src="/img/twitter_link_hover.svg">
    <img src="/img/reddit_link_hover.svg">
</div>

    </main>

     <footer>
    <div id="footer_gray_background">
        <div id="footer_top_container" class="footer_container container-fluid">
            <div id="footer_project_container">
                <span id="footer_open_liberty"></span>
                <p id="footer_project">an IBM open source project</p>
            </div>
            <div id="footer_round_links_container">
                <a id="footer_github_link" class="footer_round_btn" href="https://github.com/OpenLiberty/" target="_blank" rel="noopener noreferrer" aria-label="Github"></a>
                <a id="footer_twitter_link" class="footer_round_btn" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="footer_stackoverflow_link" class="footer_round_btn" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="footer_groupsio_link" class="footer_round_btn" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="footer_gitter_link" class="footer_round_btn" href="https://gitter.im/OpenLiberty/" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>         
    </div>

    <div id="footer_bottom_container" class="footer_container container-fluid">
        <div id="footer_bottom_left_section">
            <p id="footer_copyright">Â© Copyright IBM Corp. 2017, 2021</p>
            <p class="vertical_bar">|</p>
            <a id="footer_privacy_policy_link" href="https://www.ibm.com/privacy/" target="_blank" rel="noopener noreferrer" class="left_footer_link">Privacy policy</a>
            <p class="vertical_bar">|</p>
            <a id="footer_license_link" href="https://github.com/OpenLiberty/open-liberty/blob/release/LICENSE" target="_blank" rel="noopener noreferrer" class="left_footer_link">License</a>
            <p class="vertical_bar">|</p>
            <a id="footer_logos_link" href="https://github.com/OpenLiberty/logos" target="_blank" rel="noopener noreferrer" class="left_footer_link">Logos</a>
        </div>
        <div id="footer_bottom_right_section">
            <a id="footer_docs_link" href="/docs" aria-label="Open Liberty Docs" class="right_footer_link blue_link_light_background">Docs</a>
            <a id="footer_blog_link" href="/blog" aria-label="Open Liberty Blog" class="right_footer_link blue_link_light_background">Blog</a>
            <a id="footer_support_link" href="/support" aria-label="Open Liberty Support" class="right_footer_link blue_link_light_background">Support</a>
        </div>
    </div>
</footer>

<!-- PRE-LOADED IMAGES FOR ON HOVER BEHAVIOR -->
<div class="d-none hidden">
    <img src="/img/Footer_GitCat_Hover.svg" alt="OpenLiberty Github link">
    <img src="/img/Footer_TwitterBird_Hover.svg" alt="OpenLibertyIO Twitter link">
    <img src="/img/Footer_StackO_Hover.svg" alt="Open-liberty Stack Overflow link">
    <img src="/img/Footer_GroupsIO_Hover.svg" alt="Openliberty Groups IO link">
    <img src="/img/footer_gitter_hover.svg" alt="Openliberty Gitter link">
</div>

    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


<script type="text/javascript" src="/assets/devEnvironment-33556b3dcd4a1dd5b02c276e40985b3c6b4f7fda5fff9342ed87f2e545421146.js"></script>




  <script type="text/javascript" src="/assets/post-ed643ad635de98f345bb9f9e6d8d3c4aa8aeb4b3ecbcea2eb73ccb3e804bd447.js"></script>


<script type="text/javascript" src="/assets/openliberty-f5758f1d5bb5ed1ece841e8d7e4130f8e079053943e58b1a6ad0658049cdfcfd.js"></script>

  </body>

</html>
