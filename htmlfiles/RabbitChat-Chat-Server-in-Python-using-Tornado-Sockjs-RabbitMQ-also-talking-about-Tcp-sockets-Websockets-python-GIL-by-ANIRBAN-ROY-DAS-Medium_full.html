<!doctype html><html lang="en"><head><title data-rh="true">RabbitChat - Chat Server in Python using Tornado, Sockjs &amp; RabbitMQ - also talking about Tcp sockets, Websockets &amp; python GIL | by ANIRBAN ROY DAS | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2017-04-17T10:02:34.721Z"/><meta data-rh="true" name="title" content="RabbitChat - Chat Server in Python using Tornado, Sockjs &amp; RabbitMQ - also talking about Tcp sockets, Websockets &amp; python GIL | by ANIRBAN ROY DAS | Medium"/><meta data-rh="true" property="og:title" content="RabbitChat - Chat Server in Python using Tornado, Sockjs &amp; RabbitMQ - also talking about Tcp…"/><meta data-rh="true" property="twitter:title" content="RabbitChat - Chat Server in Python using Tornado, Sockjs &amp; RabbitMQ - also talking about Tcp…"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/914a79bbcd2f"/><meta data-rh="true" property="al:android:url" content="medium://p/914a79bbcd2f"/><meta data-rh="true" property="al:ios:url" content="medium://p/914a79bbcd2f"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Chat is eating the world! If you are not convinced, then I am going to coin some names and try to lure you into believing me anyway. Have you heard of Whatsapp, Snapchat, Messenger, Wechat? They are…"/><meta data-rh="true" property="og:description" content="Chat is eating the world! If you are not convinced, then I am going to coin some names and try to lure you into believing me anyway."/><meta data-rh="true" property="twitter:description" content="Chat is eating the world! If you are not convinced, then I am going to coin some names and try to lure you into believing me anyway."/><meta data-rh="true" property="og:url" content="https://medium.com/@anirbanroydas/rabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f"/><meta data-rh="true" property="al:web:url" content="https://medium.com/@anirbanroydas/rabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1024/1*QLjretA4jJhip-h3PpRbGg.jpeg"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1024/1*QLjretA4jJhip-h3PpRbGg.jpeg"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@anirbanroydas"/><meta data-rh="true" name="twitter:creator" content="@anirbanroydas"/><meta data-rh="true" name="author" content="ANIRBAN ROY DAS"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="11 min read"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossOrigin=""/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@anirbanroydas"/><link data-rh="true" rel="canonical" href="https://medium.com/@anirbanroydas/rabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/914a79bbcd2f"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*QLjretA4jJhip-h3PpRbGg.jpeg"],"url":"https:\u002F\u002Fmedium.com\u002F@anirbanroydas\u002Frabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f","dateCreated":"2016-05-20T20:47:14.000Z","datePublished":"2016-05-20T20:47:14.000Z","dateModified":"2018-06-03T18:05:01.618Z","headline":"RabbitChat - Chat Server in Python using Tornado, Sockjs & RabbitMQ - also talking about Tcp sockets, Websockets & python GIL","name":"RabbitChat - Chat Server in Python using Tornado, Sockjs & RabbitMQ - also talking about Tcp sockets, Websockets & python GIL","description":"Chat is eating the world! If you are not convinced, then I am going to coin some names and try to lure you into believing me anyway. Have you heard of Whatsapp, Snapchat, Messenger, Wechat? They are…","identifier":"914a79bbcd2f","author":{"@type":"Person","name":"ANIRBAN ROY DAS","url":"https:\u002F\u002Fmedium.com\u002F@anirbanroydas"},"creator":["ANIRBAN ROY DAS"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002F@anirbanroydas\u002Frabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f"}</script><style type="text/css" data-fela-rehydration="514" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@-moz-keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{margin:auto}.n{max-width:1504px}.o{display:flex}.u{justify-content:space-between}.ag{height:100%}.al{padding:0 24px}.am{box-shadow:0px -2px 10px rgba(0, 0, 0, 0.15)}.an{height:56px}.ao{align-items:center}.ap{position:fixed}.aq{top:0}.ar{right:0}.as{left:0}.at{z-index:500}.au{color:inherit}.av{fill:inherit}.aw{font-size:inherit}.ax{border:inherit}.ay{font-family:inherit}.az{letter-spacing:inherit}.ba{font-weight:inherit}.bb{padding:0}.bc{margin:0}.bg:disabled{cursor:default}.bh:disabled{color:rgba(117, 117, 117, 1)}.bi:disabled{fill:rgba(117, 117, 117, 1)}.bj{height:25px}.bk{fill:rgba(41, 41, 41, 1)}.bl{padding-top:0px}.bm{text-align:center}.bn{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bo{font-size:14px}.bp{line-height:20px}.bq{color:rgba(242, 242, 242, 1)}.br{padding:7px 16px 9px}.bs{fill:rgba(242, 242, 242, 1)}.bt{background:rgba(242, 242, 242, 1)}.bu{border-color:rgba(242, 242, 242, 1)}.ca:disabled{cursor:inherit !important}.cb:disabled{opacity:0.1}.cc:disabled:hover{background:rgba(25, 25, 25, 1)}.cd:disabled:hover{border-color:rgba(25, 25, 25, 1)}.ce{border-radius:99em}.cf{width:100%}.cg{border-width:1px}.ch{border-style:solid}.ci{box-sizing:border-box}.cj{display:inline-block}.ck{text-decoration:none}.cl{margin-left:16px}.cm{display:none}.co{color:rgba(117, 117, 117, 1)}.cp{color:rgba(26, 137, 23, 1)}.cq{fill:rgba(26, 137, 23, 1)}.ct:disabled{color:rgba(163, 208, 162, 0.5)}.cu:disabled{fill:rgba(163, 208, 162, 0.5)}.da{height:100vh}.db{flex-direction:column}.dc{position:sticky}.dd{z-index:1}.de{height:23px}.df{padding-bottom:35px}.dg{fill:rgba(117, 117, 117, 1)}.dh{padding-left:28px}.di{transition:all 0.2s ease-in-out}.dm{margin-right:28px}.do{font-size:16px}.dp{line-height:24px}.dq{position:relative}.dr{margin:0px 0px 35px 28px }.ds{width:24px}.dt{border:0}.du{height:1px}.dv{background-color:rgba(230, 230, 230, 1)}.dw{padding:0 24px 24px}.dx{height:64px}.dy path{fill:rgba(168, 168, 168, 1)}.dz{justify-content:center}.ea{flex:1}.eb{border:none}.ec{background:transparent}.ed{box-shadow:0px 2px 10px rgba(0, 0, 0, 0.15)}.ee{z-index:600}.ef{bottom:0}.eg{justify-content:space-around}.eh{height:16px}.ei{background-color:rgba(237, 237, 237, 1)}.eo{min-width:0}.ep{flex:1 1 auto}.eq{padding:0 32px}.er{border-left:1px solid rgba(230, 230, 230, 1)}.es{min-height:100vh}.et{width:394px}.fo{margin-left:auto}.fp{margin-right:auto}.fq{max-width:728px}.gb{align-items:flex-start}.gc{margin-right:16px}.gd{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.ge{border-radius:50%}.gf{height:48px}.gg{width:48px}.gh{position:absolute}.gi{background-color:rgba(242, 242, 242, 1)}.gj{color:rgba(41, 41, 41, 1)}.gk{margin-bottom:4px}.gl{flex-direction:row}.gm{padding-left:12px}.gr{font-size:13px}.gs{color:rgba(255, 255, 255, 1)}.gt{padding:0px 8px 1px}.gu{fill:rgba(255, 255, 255, 1)}.gv{background:rgba(26, 137, 23, 1)}.gw{border-color:rgba(26, 137, 23, 1)}.gz:disabled{opacity:0.3}.ha:disabled:hover{background:rgba(26, 137, 23, 1)}.hb:disabled:hover{border-color:rgba(26, 137, 23, 1)}.hc{flex-wrap:wrap}.hd{padding:0 8px}.hh{padding-right:4px}.hi{flex:0 0 auto}.hj{padding:8px 2px}.hl{margin:0 4px 0 28px}.hm{display:inline-flex}.hn{padding-top:24px}.hq{padding-right:12px}.hr{background:rgba(255, 255, 255, 1)}.hs{border:1px solid rgba(230, 230, 230, 1)}.ht{border-radius:4px}.hu{box-shadow:0 1px 4px rgba(230, 230, 230, 1)}.hv{max-height:100vh}.hw{overflow-y:auto}.hx{top:calc(100vh + 100px)}.hy{bottom:calc(100vh + 100px)}.hz{width:10px}.ia{pointer-events:none}.ib{word-break:break-word}.ic{word-wrap:break-word}.id:after{display:block}.ie:after{content:""}.if:after{clear:both}.ig{line-height:1.23}.ih{letter-spacing:0}.ii{font-style:normal}.ij{font-weight:700}.je{margin-bottom:-0.27em}.jf{max-width:1024px}.jj{clear:both}.jl{cursor:zoom-in}.jm{z-index:auto}.jo{max-width:100%}.jp{height:auto}.jq{margin-top:10px}.jt{text-decoration:underline}.ju{line-height:1.58}.jv{letter-spacing:-0.004em}.jw{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.kr{margin-bottom:-0.46em}.ks{font-style:italic}.kt{max-width:759px}.ky{line-height:1.18}.kz{letter-spacing:-0.022em}.la{font-weight:600}.ls{margin-bottom:-0.31em}.ly{max-width:1280px}.lz{max-width:1014px}.ma{line-height:28px}.mb{letter-spacing:-0.003em}.mf{list-style-type:disc}.mg{margin-left:30px}.mh{padding-left:0px}.mi{font-size:18px}.mo{box-shadow:inset 3px 0 0 0 rgba(41, 41, 41, 1)}.mp{padding-left:23px}.mq{margin-left:-20px}.mu{max-width:893px}.mv{padding:2px 4px}.mw{font-size:75%}.mx> strong{font-family:inherit}.my{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.na{padding:16px 0 0}.nb{opacity:1}.nc{transition:opacity 300ms}.nd{bottom:16px}.ne{padding:0 14px 0 16px}.nf{border-radius:20px}.ng{box-shadow:0px 2px 10px 0px rgba(0, 0, 0, 0.1)}.nh{height:40px}.ni{margin-right:5px}.nl{-webkit-user-select:none}.nm{cursor:progress}.np{opacity:0.25}.nq{outline:0}.nr{user-select:none}.ns> svg{pointer-events:none}.ob{border-right:1px solid rgba(230, 230, 230, 1)}.oc{margin:0 16px}.od{height:12px}.oe{cursor:pointer}.of{padding:4px 0}.oi{border-top:none}.oj{height:52px}.ok{max-height:52px}.ol{box-sizing:content-box}.om{position:static}.on{flex:1 0 auto}.op{max-width:155px}.ou{margin-left:24px}.ov{margin-top:0px}.ow path{fill:rgba(117, 117, 117, 1)}.oy{margin:0 20px}.oz{background-color:rgba(250, 250, 250, 1)}.pa{padding-bottom:4px}.pb{padding-top:32px}.pc{font-weight:500}.pi{overflow:hidden}.pj{text-overflow:ellipsis}.pk{display:-webkit-box}.pl{-webkit-line-clamp:1}.pm{-webkit-box-orient:vertical}.pn{word-break:break-all}.pp{margin-left:8px}.pq{stroke:rgba(242, 242, 242, 1)}.pr{height:36px}.ps{width:36px}.pt{padding-top:5px}.pu{padding-top:25px}.pv{padding-bottom:96px}.pw{padding-left:16px}.px{padding-top:40px}.py{padding-right:16px}.qo{background:rgba(25, 25, 25, 1)}.qp{border-color:rgba(25, 25, 25, 1)}.qs{padding-bottom:80px}.qt{padding:30px 0}.qu{margin-bottom:0}.qv{min-width:100vw}.qw{background-color:rgba(0, 0, 0, 1)}.rb{max-width:1192px}.re:disabled{color:rgba(255, 255, 255, 0.6)}.rf:disabled{fill:rgba(255, 255, 255, 0.45)}.rg{height:22px}.rh{margin-top:20px}.ri{color:rgba(255, 255, 255, 0.95)}.rj{margin-right:20px}.rk{background-color:rgba(255, 255, 255, 0.4)}.rl{margin:28px 0 20px}.rm{padding:40px 0}.rn{width:inherit}.ro{outline:none}.rp{padding:8px 0 11px}.rq{background-color:transparent}.rr::placeholder{color:rgba(117, 117, 117, 1)}.rs{padding:7px 7px 6px 8px}.rt{margin-top:40px}.ru{height:88px}.rv{width:88px}.rw{margin-top:16px}.rx{margin-top:4px}.ry{margin-top:12px}.rz{margin-top:24px}.sa{margin-bottom:40px}.sb{width:auto}.sc{margin-top:32px}.sd{margin-bottom:24px}.se{margin-right:24px}.sf{flex:1 0 0%}.sg{margin-bottom:8px}.sh{margin-right:8px}.si{height:20px}.sj{width:20px}.sk{max-height:20px}.sl{max-height:60px}.sm{-webkit-line-clamp:3}.sn{width:56px}.so{padding-bottom:100%}.sp{height:0}.sq{border-radius:2px}.sr{padding:24px 0}.ss{margin-right:6px}.st{font-size:11px}.su{line-height:16px}.bd:hover{cursor:pointer}.be:hover{color:rgba(25, 25, 25, 1)}.bf:hover{fill:rgba(25, 25, 25, 1)}.bv:hover{background:rgba(242, 242, 242, 1)}.bw:hover{border-color:rgba(242, 242, 242, 1)}.bx:hover{cursor:wait}.by:hover{color:rgba(242, 242, 242, 1)}.bz:hover{fill:rgba(242, 242, 242, 1)}.cr:hover{color:rgba(15, 115, 12, 1)}.cs:hover{fill:rgba(15, 115, 12, 1)}.dj:hover{color:rgba(41, 41, 41, 1)}.dk:hover{fill:rgba(41, 41, 41, 1)}.gx:hover{background:rgba(15, 115, 12, 1)}.gy:hover{border-color:rgba(15, 115, 12, 1)}.hk:hover path{fill:rgba(8, 8, 8, 1)}.mz:hover{text-decoration:underline}.no:hover{fill:rgba(117, 117, 117, 1)}.og:hover{fill:rgba(8, 8, 8, 1)}.oh:hover p{color:rgba(8, 8, 8, 1)}.qq:hover{background:rgba(8, 8, 8, 1)}.qr:hover{border-color:rgba(41, 41, 41, 1)}.rc:hover{color:rgba(255, 255, 255, 1)}.rd:hover{fill:rgba(255, 255, 255, 0.9)}.jn:focus{transform:scale(1.01)}.nn:focus{fill:rgba(117, 117, 117, 1)}.ox:focus path{fill:rgba(8, 8, 8, 1)}.nt:active{border-style:none}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.t{flex-direction:row}.z{width:80px}.ab{min-height:100vh}.ac{flex-shrink:1}.ae{border-right:1px solid rgba(230, 230, 230, 1)}.cv{display:block}.cw{text-align:center}.cx{padding:40px 0}.en{margin-bottom:0}.ez{margin-bottom:40px}.fg{margin:0 32px}.fh{max-width:692px}.fn{padding:0 16px}.fz{margin-bottom:32px}.ga{margin-top:56px}.hg{display:inline-flex}.ja{font-size:32px}.jb{margin-top:0.6em}.jc{line-height:40px}.jd{letter-spacing:-0.016em}.ji{margin-top:40px}.kn{font-size:20px}.ko{margin-top:2em}.kp{line-height:32px}.kq{letter-spacing:-0.003em}.lp{margin-top:2.37em}.lq{line-height:24px}.lr{letter-spacing:0}.lx{margin-top:0.86em}.me{margin-top:2.14em}.mn{margin-top:1.14em}.mt{font-size:21px}.oa{margin-top:0px}.ot{display:inline-block}.ph{max-height:24px}.qd{margin:0}.qi{white-space:normal}.qn{margin:0 0 0 12px}.ra{margin:0 64px}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.jr{margin-left:auto}.js{text-align:center}.nz{margin-top:0px}.os{display:inline-block}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.ny{margin-top:0px}.or{display:inline-block}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.cn{display:block}.nw{margin-top:0px}.nx{margin-right:0px}.oq{display:inline-block}.qx{padding:24px 0}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.p{flex-direction:column}.v{width:auto}.ah{display:block}.ej{margin-bottom:56px}.ev{margin-bottom:80px}.fa{margin:0 24px}.fj{padding:0 8px}.fr{margin-bottom:24px}.fs{margin-top:32px}.gn{display:inline-block}.ho{display:flex}.ik{font-size:32px}.il{margin-top:0.64em}.im{line-height:40px}.in{letter-spacing:-0.016em}.jx{font-size:18px}.jy{margin-top:1.56em}.jz{line-height:28px}.ka{letter-spacing:-0.003em}.ku{margin-top:40px}.lb{font-size:16px}.lc{margin-top:2.07em}.ld{line-height:20px}.le{letter-spacing:0}.lt{margin-top:0.67em}.mj{margin-top:1.34em}.nj{margin-left:0px}.nu{margin-top:0px}.nv{margin-right:0px}.pd{max-height:20px}.pz{margin:0}.qe{white-space:pre-line}.qj{margin:10px 0 0 0}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.s{flex-direction:column}.y{width:auto}.ak{display:block}.em{margin-bottom:56px}.ey{margin-bottom:40px}.fe{margin:0 32px}.ff{max-width:692px}.fm{padding:0 16px}.fx{margin-bottom:24px}.fy{margin-top:32px}.gq{display:inline-block}.hf{display:inline-flex}.iw{font-size:32px}.ix{margin-top:0.6em}.iy{line-height:40px}.iz{letter-spacing:-0.016em}.jh{margin-top:40px}.kj{font-size:20px}.kk{margin-top:2em}.kl{line-height:32px}.km{letter-spacing:-0.003em}.kx{margin-top:56px}.lm{margin-top:2.37em}.ln{line-height:24px}.lo{letter-spacing:0}.lw{margin-top:0.86em}.md{margin-top:2.14em}.mm{margin-top:1.14em}.ms{font-size:21px}.pg{max-height:24px}.qc{margin:0}.qh{white-space:normal}.qm{margin:0 0 0 12px}.qz{margin:0 64px}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.r{flex-direction:column}.x{width:auto}.aj{display:block}.el{margin-bottom:56px}.ex{margin-bottom:40px}.fc{margin:0 32px}.fd{max-width:692px}.fl{padding:0 16px}.fv{margin-bottom:24px}.fw{margin-top:32px}.gp{display:inline-block}.he{display:inline-flex}.is{font-size:32px}.it{margin-top:0.6em}.iu{line-height:40px}.iv{letter-spacing:-0.016em}.jg{margin-top:40px}.kf{font-size:20px}.kg{margin-top:2em}.kh{line-height:32px}.ki{letter-spacing:-0.003em}.kw{margin-top:56px}.lj{margin-top:2.37em}.lk{line-height:24px}.ll{letter-spacing:0}.lv{margin-top:0.86em}.mc{margin-top:2.14em}.ml{margin-top:1.14em}.mr{font-size:21px}.pf{max-height:24px}.qb{margin:0}.qg{white-space:normal}.ql{margin:0 0 0 12px}.qy{margin:0 48px}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.q{flex-direction:column}.w{width:auto}.ai{display:block}.ek{margin-bottom:56px}.ew{margin-bottom:80px}.fb{margin:0 24px}.fk{padding:0 8px}.ft{margin-bottom:24px}.fu{margin-top:32px}.go{display:inline-block}.hp{display:flex}.io{font-size:32px}.ip{margin-top:0.64em}.iq{line-height:40px}.ir{letter-spacing:-0.016em}.kb{font-size:18px}.kc{margin-top:1.56em}.kd{line-height:28px}.ke{letter-spacing:-0.003em}.kv{margin-top:40px}.lf{font-size:16px}.lg{margin-top:2.07em}.lh{line-height:20px}.li{letter-spacing:0}.lu{margin-top:0.67em}.mk{margin-top:1.34em}.nk{margin-left:0px}.pe{max-height:20px}.qa{margin:0}.qf{white-space:pre-line}.qk{margin:10px 0 0 0}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="print">.oo{display:none}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (min-width: 7000px)">.af{width:224px}.cy{text-align:left}.cz{padding:40px 24px}.dl{display:none}.dn{display:block}.fi{margin:0 auto}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="all and (max-width: 1239.98px)">.eu{width:280px}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.jk{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style><style type="text/css" data-fela-rehydration="514" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.po{max-height:none}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="l c"><div class="m n l"><div class="o p q r s t u"><div class="v w x y z ab ac ae af"><nav class="ag"><div class="ah ai aj ak d"><div class="al am an o ao u ap aq ar as at c"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="Homepage" rel="noopener follow" href="/"><svg viewBox="0 0 1043.63 592.71" class="bj bk"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a><div class="o ao"><div class="bl l bm"><div><a class="bn b bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf cg ch ci cj ck" rel="noopener follow" href="/plans?source=upgrade_membership---nav_full----------------------------------">Get unlimited access</a></div></div><div class="cl cm cn"><span class="bn b bo bp co"><a class="cp cq aw ax ay az ba bb bc bd cr cs bg ct cu" href="https://rsci.app.link/?$canonical_url=https%3A%2F%2Fmedium.com/p/914a79bbcd2f&amp;~feature=LoOpenInAppButton&amp;~channel=ShowPostUnderUser&amp;~stage=mobileNavBar" rel="noopener follow">Open in app</a></span></div></div></div><div class="an l"></div></div><div class="ag h k j i cv"><div class="da o db u dc aq dd c"><div class="cw cx cy cz"><a aria-label="Homepage" rel="noopener follow" href="/"><svg viewBox="0 0 1043.63 592.71" class="de bk"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div><div class="l"><div class="df l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/"><div class="o dq"><div class="co dg o dh di dj dk"><div class="l dl dm"><div><div class="cj" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Home"><path d="M4.5 10.75v10.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-5.5c0-.14.11-.25.25-.25h3.5c.14 0 .25.11.25.25v5.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-10.5M22 9l-9.1-6.83a1.5 1.5 0 0 0-1.8 0L2 9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div></div><div class="cm dn dm" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Home"><path d="M4.5 10.75v10.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-5.5c0-.14.11-.25.25-.25h3.5c.14 0 .25.11.25.25v5.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-10.5M22 9l-9.1-6.83a1.5 1.5 0 0 0-1.8 0L2 9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="cm dn bn b do dp">Home</div></div></div></a></div><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fme%2Fnotifications&amp;source=--------------------------notifications_sidenav-----------"><div class="df l"><div class="o dq"><div class="co dg o dh di dj dk"><div class="l dl dm"><div><div class="cj" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Notifications"><path d="M15 18.5a3 3 0 1 1-6 0" stroke="currentColor" stroke-linecap="round"></path><path d="M5.5 10.53V9a6.5 6.5 0 0 1 13 0v1.53c0 1.42.56 2.78 1.57 3.79l.03.03c.26.26.4.6.4.97v2.93c0 .14-.11.25-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.93c0-.37.14-.71.4-.97l.03-.03c1-1 1.57-2.37 1.57-3.79z" stroke="currentColor" stroke-linejoin="round"></path></svg></div></div></div><div class="cm dn dm" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Notifications"><path d="M15 18.5a3 3 0 1 1-6 0" stroke="currentColor" stroke-linecap="round"></path><path d="M5.5 10.53V9a6.5 6.5 0 0 1 13 0v1.53c0 1.42.56 2.78 1.57 3.79l.03.03c.26.26.4.6.4.97v2.93c0 .14-.11.25-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.93c0-.37.14-.71.4-.97l.03-.03c1-1 1.57-2.37 1.57-3.79z" stroke="currentColor" stroke-linejoin="round"></path></svg></div><div class="cm dn bn b do dp">Notifications</div></div></div></div></a></span><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fme%2Flists&amp;source=--------------------------lists_sidenav-----------"><div class="df l"><div class="o dq"><div class="co dg o dh di dj dk"><div class="l dl dm"><div><div class="cj" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Lists"><path d="M4.5 6.25V21c0 .2.24.32.4.2l5.45-4.09a.25.25 0 0 1 .3 0l5.45 4.09c.16.12.4 0 .4-.2V6.25a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25z" stroke="currentColor" stroke-linecap="round"></path><path d="M8 6V3.25c0-.14.11-.25.25-.25h11.5c.14 0 .25.11.25.25V16.5" stroke="currentColor" stroke-linecap="round"></path></svg></div></div></div><div class="cm dn dm" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Lists"><path d="M4.5 6.25V21c0 .2.24.32.4.2l5.45-4.09a.25.25 0 0 1 .3 0l5.45 4.09c.16.12.4 0 .4-.2V6.25a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25z" stroke="currentColor" stroke-linecap="round"></path><path d="M8 6V3.25c0-.14.11-.25.25-.25h11.5c.14 0 .25.11.25.25V16.5" stroke="currentColor" stroke-linecap="round"></path></svg></div><div class="cm dn bn b do dp">Lists</div></div></div></div></a></span><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fme%2Fstories%2Fdrafts&amp;source=--------------------------stories_sidenav-----------"><div class="df l"><div class="o dq"><div class="co dg o dh di dj dk"><div class="l dl dm"><div><div class="cj" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Stories"><path d="M4.75 21.5h14.5c.14 0 .25-.11.25-.25V2.75a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25v18.5c0 .14.11.25.25.25z" stroke="currentColor"></path><path d="M8 8.5h8M8 15.5h5M8 12h8" stroke="currentColor" stroke-linecap="round"></path></svg></div></div></div><div class="cm dn dm" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Stories"><path d="M4.75 21.5h14.5c.14 0 .25-.11.25-.25V2.75a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25v18.5c0 .14.11.25.25.25z" stroke="currentColor"></path><path d="M8 8.5h8M8 15.5h5M8 12h8" stroke="currentColor" stroke-linecap="round"></path></svg></div><div class="cm dn bn b do dp">Stories</div></div></div></div></a></span><div class="dr ds l"><hr class="dt du dv bc" aria-hidden="true"/></div><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=--------------------------new_post_sidenav-----------"><div class="df l"><div class="o dq"><div class="co dg o dh di dj dk"><div class="l dl dm"><div><div class="cj" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg></div></div></div><div class="cm dn dm" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg></div><div class="cm dn bn b do dp">Write</div></div></div></div></a></span></div><div class="dw dx o ao"></div></div></div><div class="ah ai aj ak d"><div class="l ap ar ef as at c"><div class="ed an dq ee"><div class="ag o ao eg"><div class="eh ds l ei"></div><div class="eh ds l ei"></div><div class="eh ds l ei"></div></div></div></div></div></nav></div><main class="ej ek el em en eo l ep"><div class="l"><div class="ev ew ex ey ez l"><div class="o dz"><div class="eo cf fa fb fc fd fe ff fg fh fi"><article><div class="l"><div class="fj fk fl fm fn fo fp cf fq ci l"></div><div class="l"><header class="pw-post-byline-header fr fs ft fu fv fw fx fy fz ga l"><div class="o gb u"><div class="o"><div class="gc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@anirbanroydas?source=post_page-----914a79bbcd2f--------------------------------"><div class="l dq"><img alt="ANIRBAN ROY DAS" class="l ci ge gf gg gi" src="https://miro.medium.com/fit/c/96/96/1*W-dMAPLnD60z1TdgPAJOIw.jpeg" width="48" height="48"/><div class="gd ge l gf gg gh aq"></div></div></a></div><div class="l"><div class="pw-author bn b do dp gj"><div class="gk o gl"><div><div class="cj" aria-hidden="false"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@anirbanroydas?source=post_page-----914a79bbcd2f--------------------------------">ANIRBAN ROY DAS</a></div></div><div class="gm gn go gp gq d"><span><button class="bn b gr bp gs gt gu gv gw gx gy bd ca gz ha hb ce cg ch ci cj ck">Follow</button></span></div></div></div><div class="o ao hc"><p class="pw-published-date bn b bo bp co"><span>May 20, 2016</span></p><div class="hd cj" aria-hidden="true"><span class="l" aria-hidden="true"><span class="bn b bo bp co">·</span></span></div><div class="pw-reading-time bn b bo bp co">11 min read</div></div></div></div><div class="o ao"><div class="h k he hf hg"><div class="hh l hi"><div><div class="cj" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="Share on twitter"><span class="cj hj dy hk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M20 5.34c-.67.41-1.4.7-2.18.87a3.45 3.45 0 0 0-5.02-.1 3.49 3.49 0 0 0-1.02 2.47c0 .28.03.54.07.8a9.91 9.91 0 0 1-7.17-3.66 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44V10c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06a3.5 3.5 0 0 0 3.24 2.43 7.34 7.34 0 0 1-4.36 1.49l-.81-.05a9.96 9.96 0 0 0 5.36 1.56c6.4 0 9.91-5.32 9.9-9.9v-.5c.69-.49 1.28-1.1 1.74-1.81-.63.3-1.3.48-2 .56A3.33 3.33 0 0 0 20 5.33" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="hh l hi"><div><div class="cj" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="Share on facebook"><span class="cj hj dy hk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M19.75 12.04c0-4.3-3.47-7.79-7.75-7.79a7.77 7.77 0 0 0-5.9 12.84 7.77 7.77 0 0 0 4.69 2.63v-5.49h-1.9v-2.2h1.9v-1.62c0-1.88 1.14-2.9 2.8-2.9.8 0 1.49.06 1.69.08v1.97h-1.15c-.91 0-1.1.43-1.1 1.07v1.4h2.17l-.28 2.2h-1.88v5.52a7.77 7.77 0 0 0 6.7-7.71" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="hh l hi"><div><div class="cj" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="Share on linkedin"><span class="cj hj dy hk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M19.75 5.39v13.22a1.14 1.14 0 0 1-1.14 1.14H5.39a1.14 1.14 0 0 1-1.14-1.14V5.39a1.14 1.14 0 0 1 1.14-1.14h13.22a1.14 1.14 0 0 1 1.14 1.14zM8.81 10.18H6.53v7.3H8.8v-7.3zM9 7.67a1.31 1.31 0 0 0-1.3-1.32h-.04a1.32 1.32 0 0 0 0 2.64A1.31 1.31 0 0 0 9 7.71v-.04zm8.46 5.37c0-2.2-1.4-3.05-2.78-3.05a2.6 2.6 0 0 0-2.3 1.18h-.07v-1h-2.14v7.3h2.28V13.6a1.51 1.51 0 0 1 1.36-1.63h.09c.72 0 1.26.45 1.26 1.6v3.91h2.28l.02-4.43z" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="l hi"><div><div class="cj" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="cj hj dy hk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.57 14.67c0-.57.13-1.11.38-1.6l.02-.02v-.02l.02-.02c0-.02 0-.02.02-.02.12-.26.3-.52.57-.8L7.78 9v-.02l.01-.02c.44-.41.91-.7 1.44-.85a4.87 4.87 0 0 0-1.19 2.36A5.04 5.04 0 0 0 8 11.6L6.04 13.6c-.19.19-.32.4-.38.65a2 2 0 0 0 0 .9c.08.2.2.4.38.57l1.29 1.31c.27.28.62.42 1.03.42.42 0 .78-.14 1.06-.42l1.23-1.25.79-.78 1.15-1.16c.08-.09.19-.22.28-.4.1-.2.15-.42.15-.67 0-.16-.02-.3-.06-.45l-.02-.02v-.02l-.07-.14s0-.03-.04-.06l-.06-.13-.02-.02c0-.02 0-.03-.02-.05a.6.6 0 0 0-.14-.16l-.48-.5c0-.04.02-.1.04-.15l.06-.12 1.17-1.14.09-.09.56.57c.02.04.08.1.16.18l.05.04.03.06.04.05.03.04.04.06.1.14.02.02c0 .02.01.03.03.04l.1.2v.02c.1.16.2.38.3.68a1 1 0 0 1 .04.25 3.2 3.2 0 0 1 .02 1.33 3.49 3.49 0 0 1-.95 1.87l-.66.67-.97.97-1.56 1.57a3.4 3.4 0 0 1-2.47 1.02c-.97 0-1.8-.34-2.49-1.03l-1.3-1.3a3.55 3.55 0 0 1-1-2.51v-.01h-.02v.02zm5.39-3.43c0-.19.02-.4.07-.63.13-.74.44-1.37.95-1.87l.66-.67.97-.98 1.56-1.56c.68-.69 1.5-1.03 2.47-1.03.97 0 1.8.34 2.48 1.02l1.3 1.32a3.48 3.48 0 0 1 1 2.48c0 .58-.11 1.11-.37 1.6l-.02.02v.02l-.02.04c-.14.27-.35.54-.6.8L16.23 15l-.01.02-.01.02c-.44.42-.92.7-1.43.83a4.55 4.55 0 0 0 1.23-3.52L18 10.38c.18-.21.3-.42.35-.65a2.03 2.03 0 0 0-.01-.9 1.96 1.96 0 0 0-.36-.58l-1.3-1.3a1.49 1.49 0 0 0-1.06-.42c-.42 0-.77.14-1.06.4l-1.2 1.27-.8.8-1.16 1.15c-.08.08-.18.21-.29.4a1.66 1.66 0 0 0-.08 1.12l.02.03v.02l.06.14s.01.03.05.06l.06.13.02.02.01.02.01.02c.05.08.1.13.14.16l.47.5c0 .04-.02.09-.04.15l-.06.12-1.15 1.15-.1.08-.56-.56a2.3 2.3 0 0 0-.18-.19c-.02-.01-.02-.03-.02-.04l-.02-.02a.37.37 0 0 1-.1-.12c-.03-.03-.05-.04-.05-.06l-.1-.15-.02-.02-.02-.04-.08-.17v-.02a5.1 5.1 0 0 1-.28-.69 1.03 1.03 0 0 1-.04-.26c-.06-.23-.1-.46-.1-.7v.01z" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="hl o ao"></div></div><div class="cl hm"><div><div class="cj" aria-hidden="false"></div></div></div></div></div><div class="hn ho hp j i d"><div class="gc l"></div><div class="hq l hi"><div><div class="cj" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="Share on twitter"><span class="cj hj dy hk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M20 5.34c-.67.41-1.4.7-2.18.87a3.45 3.45 0 0 0-5.02-.1 3.49 3.49 0 0 0-1.02 2.47c0 .28.03.54.07.8a9.91 9.91 0 0 1-7.17-3.66 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44V10c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06a3.5 3.5 0 0 0 3.24 2.43 7.34 7.34 0 0 1-4.36 1.49l-.81-.05a9.96 9.96 0 0 0 5.36 1.56c6.4 0 9.91-5.32 9.9-9.9v-.5c.69-.49 1.28-1.1 1.74-1.81-.63.3-1.3.48-2 .56A3.33 3.33 0 0 0 20 5.33" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="hq l hi"><div><div class="cj" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="Share on facebook"><span class="cj hj dy hk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M19.75 12.04c0-4.3-3.47-7.79-7.75-7.79a7.77 7.77 0 0 0-5.9 12.84 7.77 7.77 0 0 0 4.69 2.63v-5.49h-1.9v-2.2h1.9v-1.62c0-1.88 1.14-2.9 2.8-2.9.8 0 1.49.06 1.69.08v1.97h-1.15c-.91 0-1.1.43-1.1 1.07v1.4h2.17l-.28 2.2h-1.88v5.52a7.77 7.77 0 0 0 6.7-7.71" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="hq l hi"><div><div class="cj" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="Share on linkedin"><span class="cj hj dy hk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M19.75 5.39v13.22a1.14 1.14 0 0 1-1.14 1.14H5.39a1.14 1.14 0 0 1-1.14-1.14V5.39a1.14 1.14 0 0 1 1.14-1.14h13.22a1.14 1.14 0 0 1 1.14 1.14zM8.81 10.18H6.53v7.3H8.8v-7.3zM9 7.67a1.31 1.31 0 0 0-1.3-1.32h-.04a1.32 1.32 0 0 0 0 2.64A1.31 1.31 0 0 0 9 7.71v-.04zm8.46 5.37c0-2.2-1.4-3.05-2.78-3.05a2.6 2.6 0 0 0-2.3 1.18h-.07v-1h-2.14v7.3h2.28V13.6a1.51 1.51 0 0 1 1.36-1.63h.09c.72 0 1.26.45 1.26 1.6v3.91h2.28l.02-4.43z" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="l hi"><div><div class="cj" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="cj hj dy hk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.57 14.67c0-.57.13-1.11.38-1.6l.02-.02v-.02l.02-.02c0-.02 0-.02.02-.02.12-.26.3-.52.57-.8L7.78 9v-.02l.01-.02c.44-.41.91-.7 1.44-.85a4.87 4.87 0 0 0-1.19 2.36A5.04 5.04 0 0 0 8 11.6L6.04 13.6c-.19.19-.32.4-.38.65a2 2 0 0 0 0 .9c.08.2.2.4.38.57l1.29 1.31c.27.28.62.42 1.03.42.42 0 .78-.14 1.06-.42l1.23-1.25.79-.78 1.15-1.16c.08-.09.19-.22.28-.4.1-.2.15-.42.15-.67 0-.16-.02-.3-.06-.45l-.02-.02v-.02l-.07-.14s0-.03-.04-.06l-.06-.13-.02-.02c0-.02 0-.03-.02-.05a.6.6 0 0 0-.14-.16l-.48-.5c0-.04.02-.1.04-.15l.06-.12 1.17-1.14.09-.09.56.57c.02.04.08.1.16.18l.05.04.03.06.04.05.03.04.04.06.1.14.02.02c0 .02.01.03.03.04l.1.2v.02c.1.16.2.38.3.68a1 1 0 0 1 .04.25 3.2 3.2 0 0 1 .02 1.33 3.49 3.49 0 0 1-.95 1.87l-.66.67-.97.97-1.56 1.57a3.4 3.4 0 0 1-2.47 1.02c-.97 0-1.8-.34-2.49-1.03l-1.3-1.3a3.55 3.55 0 0 1-1-2.51v-.01h-.02v.02zm5.39-3.43c0-.19.02-.4.07-.63.13-.74.44-1.37.95-1.87l.66-.67.97-.98 1.56-1.56c.68-.69 1.5-1.03 2.47-1.03.97 0 1.8.34 2.48 1.02l1.3 1.32a3.48 3.48 0 0 1 1 2.48c0 .58-.11 1.11-.37 1.6l-.02.02v.02l-.02.04c-.14.27-.35.54-.6.8L16.23 15l-.01.02-.01.02c-.44.42-.92.7-1.43.83a4.55 4.55 0 0 0 1.23-3.52L18 10.38c.18-.21.3-.42.35-.65a2.03 2.03 0 0 0-.01-.9 1.96 1.96 0 0 0-.36-.58l-1.3-1.3a1.49 1.49 0 0 0-1.06-.42c-.42 0-.77.14-1.06.4l-1.2 1.27-.8.8-1.16 1.15c-.08.08-.18.21-.29.4a1.66 1.66 0 0 0-.08 1.12l.02.03v.02l.06.14s.01.03.05.06l.06.13.02.02.01.02.01.02c.05.08.1.13.14.16l.47.5c0 .04-.02.09-.04.15l-.06.12-1.15 1.15-.1.08-.56-.56a2.3 2.3 0 0 0-.18-.19c-.02-.01-.02-.03-.02-.04l-.02-.02a.37.37 0 0 1-.1-.12c-.03-.03-.05-.04-.05-.06l-.1-.15-.02-.02-.02-.04-.08-.17v-.02a5.1 5.1 0 0 1-.28-.69 1.03 1.03 0 0 1-.04-.26c-.06-.23-.1-.46-.1-.7v.01z" fill="#A8A8A8"></path></svg></span></button></div></div></div></div></header><span class="l"></span><section><div><div class="gh as hx hy hz ia"></div><div class="ib ic id ie if"><div class=""><h1 id="e23f" class="pw-post-title ig ih ii bn ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je gj">RabbitChat - Chat Server in Python using Tornado, Sockjs &amp; RabbitMQ - also talking about Tcp sockets, Websockets &amp; python GIL</h1></div><figure class="fs fu jg jh ji jj fo fp paragraph-image"><div role="button" tabindex="0" class="jk jl dq jm cf jn"><div class="fo fp jf"><img alt="" class="cf jo jp" src="https://miro.medium.com/max/1400/1*QLjretA4jJhip-h3PpRbGg.jpeg" width="700" height="281" role="presentation"/></div></div><figcaption class="jq bm fq fo fp jr js bn b bo bp co"><a class="au jt" href="http://ronntorossian.com/brand-messaging/" rel="noopener ugc nofollow" target="_blank">Image Source</a></figcaption></figure><p id="1822" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj"><strong class="jw ij"><em class="ks">Chat is eating the world!</em></strong> If you are not convinced, then I am going to coin some names and try to lure you into believing me anyway.</p><p id="c9a1" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Have you heard of <strong class="jw ij">Whatsapp</strong>, <strong class="jw ij">Snapchat</strong>, <strong class="jw ij">Messenger</strong>, <strong class="jw ij">Wechat</strong>? They are giants that are ruling the world presently. They are like the kings of startups and every other guy who wants to start their own startup is probably dream weaving these giant’s success stories.</p><figure class="ku kv kw kx ga jj fo fp paragraph-image"><div role="button" tabindex="0" class="jk jl dq jm cf jn"><div class="fo fp kt"><img alt="" class="cf jo jp" src="https://miro.medium.com/max/1400/1*WQpDgEUUHyyB5luj-lqoTg.jpeg" width="700" height="390" role="presentation"/></div></div><figcaption class="jq bm fq fo fp jr js bn b bo bp co">Facebook M (Personal Assistant) <a class="au jt" href="http://indianexpress.com/article/technology/social/facebook-tests-new-service-m-a-personal-assistant-inside-messenger/" rel="noopener ugc nofollow" target="_blank">Image Source</a></figcaption></figure><p id="2368" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Still no? Have you heard of this sudden phenomena that started with this one company called Magic, the one stop messaging app which created a wave of many similar companies with the idea of a personal assistant app? Yes, this idea has taken the world. Being in India, we know for certain that there are close to 50 companies trying to do this. Chat is their Asgard. Their holy place. Without it they cannot do anything. Their whole business is based on the fundamentals of chat. Even the mighty Facebook has announced its candidacy in this personal assistant app runway.</p><p id="cec0" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">See, I just made chat and instant messaging cool for you. I made it important for you. Now you definitely need to read on and later go ahead and try to start up a new company based on it.</p><h2 id="64a0" class="ky kz ii bn la lb lc ld le lf lg lh li kf lj lk ll kj lm ln lo kn lp lq lr ls gj">Note</h2><p id="0c9a" class="pw-post-body-paragraph ju jv ii jw b jx lt jz ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ib gj">I generally write my blogs with a certain wit and try to write in as simple words as possible and avoid the tech jargons, just to be on the lighter side. Though I intend to do so for all my blog posts, but some of the topics would deal with real discussion about the project that I will be blogging about. In those blogs, I will try to be more technical about stuffs and talk more from a technical perspective with code examples and diagrams.</p><figure class="ku kv kw kx ga jj fo fp paragraph-image"><div role="button" tabindex="0" class="jk jl dq jm cf jn"><div class="fo fp ly"><img alt="" class="cf jo jp" src="https://miro.medium.com/max/1400/1*BFD7xbM1Db0UiilLuTHuYA.jpeg" width="700" height="458" role="presentation"/></div></div><figcaption class="jq bm fq fo fp jr js bn b bo bp co"><a class="au jt" href="https://financialtribune.com/articles/economy-sci-tech/45810/support-for-iranian-mobile-messaging-apps" rel="noopener ugc nofollow" target="_blank">Image Source</a></figcaption></figure><h2 id="0764" class="ky kz ii bn la lb lc ld le lf lg lh li kf lj lk ll kj lm ln lo kn lp lq lr ls gj">Introducing RabbitChat</h2><p id="a4b5" class="pw-post-body-paragraph ju jv ii jw b jx lt jz ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ib gj">Today’s post is one such post where I would like to talk about this project that I recently did. Its a (guess what?) Chat Server. Its written in python language (Cpython). It uses <a class="au jt" href="http://www.tornadoweb.org" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">Tornado</strong></a> to handle the networking and web requests. It uses <strong class="jw ij">websockets</strong> to do instant messaging using the <a class="au jt" href="https://github.com/sockjs" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">sockjs</strong></a> websocket library. It also uses <a class="au jt" href="https://www.rabbitmq.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">RabbitMQ</strong></a> as a message broker to queue and deliver messages over <a class="au jt" href="https://www.amqp.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">AMQP</strong></a> protocol. <a class="au jt" href="http://pika.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">Pika</strong></a> is an <em class="ks">amqp python client library</em> that is used to talk to RabbitMQ from python.</p><p id="2312" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">That’s a gist of the tech specs. I will talk about each of them in detail one by one. For the impatient ones, go ahead and play with it already. <a class="au jt" href="https://github.com/anirbanroydas/rabbitChat" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">Github Link</strong></a>.</p><h2 id="b56e" class="ky kz ii bn la lb lc ld le lf lg lh li kf lj lk ll kj lm ln lo kn lp lq lr ls gj">Let’s do the engineering now</h2><p id="5cf6" class="pw-post-body-paragraph ju jv ii jw b jx lt jz ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ib gj">Here is a diagram of what I drew on my whiteboard while trying to engineer the system. This diagram may be hazy and disgusting and my apologies for not coming up with anything better. But I always like the concept of keeping it raw. Raw means the exact brainstorming that went through an idea or a project. Also I was lazy to draw diagrams in some word processor. So please bear with me. I will try to come up with more professional diagrams in my future blog posts.</p><figure class="ku kv kw kx ga jj fo fp paragraph-image"><div role="button" tabindex="0" class="jk jl dq jm cf jn"><div class="fo fp lz"><img alt="" class="cf jo jp" src="https://miro.medium.com/max/1400/1*pwhxxqG9MxvyouFJGwtQHQ.png" width="700" height="553" role="presentation"/></div></div></figure><p id="330d" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">So what we see is a high level diagram of the entrire system. At the top they are the web browsers or the web clients, <strong class="jw ij"><em class="ks">B1</em></strong>, <strong class="jw ij"><em class="ks">B2</em></strong>, <strong class="jw ij"><em class="ks">B3</em></strong>, <strong class="jw ij"><em class="ks">B4</em></strong>, etc. These boxes or clients are outside of the dotted black coloured circle.</p><p id="8939" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">The dotted circle is part of the backend, the server side. Now in the backend, there are two major groups. The one on the top is the Tornado Server. The web requests actually hit Tornado itself. From there, few requests like api requests, auth requests, etc. are directly responded back from Tornado itself. And the concerned instant messaging requests are first sent to the lower box and the lower box responds with some data back to the upper box, i.e the Tornado server and then tornado sends back the appropriate response back to the clients.</p><p id="c956" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Now, lets talk a little more about the lower box. The lower box is our RabbitMQ message broker. Now, we will talk in detail about each part and try to understand the entire workflow and also see some code examples.</p><h2 id="e189" class="ky kz ii bn la lb lc ld le lf lg lh li kf lj lk ll kj lm ln lo kn lp lq lr ls gj">Torndao</h2><p id="0610" class="pw-post-body-paragraph ju jv ii jw b jx lt jz ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ib gj">This is not the tornado we keep hearing about in the news. Its a python web and networking library developed by the folks at <strong class="jw ij"><em class="ks">Friendfeed</em></strong> which now doesn’t exist, but this projects continues to grow as an open source project on <a class="au jt" href="https://github.com/tornadoweb/tornado" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">github</strong></a>.</p><p id="633f" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj"><a class="au jt" href="http://www.tornadoweb.org" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">Tornado</strong></a> is like a unicorn in the python world. Tornado is python community’s answer to the <a class="au jt" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">NodeJs</strong></a> community and they stand proud in representing <strong class="jw ij"><em class="ks">tornado</em></strong> as it works similar to <strong class="jw ij"><em class="ks">node</em></strong> with a similar<strong class="jw ij"><em class="ks"> single threaded event loop model</em></strong> which is why it makes both of them <strong class="jw ij">highly concurrent</strong> in their applications and the reason for the buzz. Only difference is <strong class="jw ij"><em class="ks">Tornado is a python library</em></strong>, that means it runs on the python vm, eg: the cpython vm. But <strong class="jw ij"><em class="ks">NodeJs itself is a run time engine</em></strong> which runs the Javascript language. Though both of them aren’t actually comparable on eye to eye basis but nodejs is unique because nobody can explain nodejs to you directly. <strong class="jw ij">But most of them actually compare nodejs with a language counterpart like python, ruby, java</strong> <em class="ks">(which actually is funny since javascript is the language and not nodejs but hey! you know what we computer science engineers are talking about)</em>. Python language is a very humanly language and easy to understand. You can become a python pro in a very less time as compared to other languages like Java (sigh…!).</p><p id="6824" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">But python has its drawbacks. Since it tries to make everything so easy to work with in the front, but it does it at the expense of being pretty slow in computational work in the backend. It’s performance comparison with other statically typed languages like C/C++, Java and its children (Scala, Clojure), Go, is slower by many many times. Since, python is dynamically typed (making work easy in the front end for developers). But, it has to deal with many type conversions, bad memory allocations, layers of codes before it actually makes the real system calls or C calls (for Cpython). It also has the deadly <strong class="jw ij">GIL (Global Interpreter Lock)</strong> which is although present in a few other languages like <strong class="jw ij"><em class="ks">ruby</em></strong> but its widely and loudly talked about in python community than anywhere else.</p><p id="41c1" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">To give you some perspective on GIL exists or not in other languages, please follow these links and amaze and educate yourself.</p><ul class=""><li id="8a52" class="ma mb ii jw b jx jy kb kc kf mc kj md kn me kr mf mg mh mi gj"><a class="au jt" href="https://www.quora.com/Is-GIL-a-problem-in-node-js" rel="noopener ugc nofollow" target="_blank">Is GIL a problem in NodeJs too?</a></li><li id="b73e" class="ma mb ii jw b jx mj kb mk kf ml kj mm kn mn kr mf mg mh mi gj"><a class="au jt" href="https://news.ycombinator.com/item?id=9585720" rel="noopener ugc nofollow" target="_blank">Other languages that have GIL</a></li><li id="9171" class="ma mb ii jw b jx mj kb mk kf ml kj mm kn mn kr mf mg mh mi gj"><a class="au jt" href="https://news.ycombinator.com/item?id=10403301" rel="noopener ugc nofollow" target="_blank">NodeJs has a GIL, nobody talks about it, why?</a></li><li id="5cfe" class="ma mb ii jw b jx mj kb mk kf ml kj mm kn mn kr mf mg mh mi gj"><a class="au jt" href="http://stackoverflow.com/questions/14409609/does-the-v8-javascript-engine-have-a-gil" rel="noopener ugc nofollow" target="_blank">Does V8 engine has a GIL?</a></li></ul><h2 id="fd26" class="ky kz ii bn la lb lc ld le lf lg lh li kf lj lk ll kj lm ln lo kn lp lq lr ls gj">GIL</h2><p id="ecfb" class="pw-post-body-paragraph ju jv ii jw b jx lt jz ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ib gj"><em class="ks">GIL is what makes python come down to its knees.</em> GIL basically holds a global lock at the interpreter (the python process) level. It doesn’t allow more than one thread to run simultaneously. Lets see what this actually mean.</p><p id="bfb8" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">It means when python is running and processing something, it is using cpu cycles and the python process is executing some code in a thread. Now GIL will hold a lock on this thread and won’t allow any other thread to run while this thread is running. Now suppose the thread, or the process creates another thread to run part of the code in the new thread. But unfortunately if the first thread is still running then the new thread will not be able to run at all, even if the system you are running on has multiple cpu cores. This is just the GIL. The evil GIL. But if the thread is doing some I/O then GIL is released and other threads can run. Also, if the thread is making any C level function call, the GIL is released even in that case. Its pretty weird, right? But its what it is. The reason why and how this is done is beyond the scope of this post. May be sometime in the future.</p><blockquote class="mo mp mq"><p id="99d8" class="ju jv ks jw b jx jy jz ka kb kc kd ke mr kg kh ki ms kk kl km mt ko kp kq kr ib gj">Now if python is so slow and it also has the evil GIL, how come people still code in python and its one of the most loved and favoured languages to work on , and how are there so many startups who prefer working on python instead of Java or C++, etc?</p></blockquote><p id="3c9c" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Folks, the thing is, most of the startups or the projects that we see now a days are web based and all of them require some sort of networking. And networking means more of I/O and less of CPU bound work. And as I mentioned, python GIL is released while doing I/O. <em class="ks">Thus waiting or blocking for I/O in Java or C/C++ is as good as waiting in python,</em> then why not just wait in python and use its humanly and easy to code syntax.</p><p id="ebd8" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Here are few links which will really get you from null to master on GIL and python’s threads and processes:</p><ul class=""><li id="ffb7" class="ma mb ii jw b jx jy kb kc kf mc kj md kn me kr mf mg mh mi gj"><a class="au jt" href="http://www.dabeaz.com/python/GIL.pdf" rel="noopener ugc nofollow" target="_blank">Inside the Python GIL</a></li><li id="3c8e" class="ma mb ii jw b jx mj kb mk kf ml kj mm kn mn kr mf mg mh mi gj"><a class="au jt" href="https://jeffknupp.com/blog/2012/03/31/pythons-hardest-problem/" rel="noopener ugc nofollow" target="_blank">Python’s hardest problem</a></li></ul><figure class="ku kv kw kx ga jj fo fp paragraph-image"><div role="button" tabindex="0" class="jk jl dq jm cf jn"><div class="fo fp mu"><img alt="" class="cf jo jp" src="https://miro.medium.com/max/1400/1*ZK__4LHcrV9wPdDaK_pCqg.jpeg" width="700" height="394" role="presentation"/></div></div><figcaption class="jq bm fq fo fp jr js bn b bo bp co"><a class="au jt" href="https://wearesocial.com/uk/blog/2016/03/the-messaging-app-market-and-its-future-potential" rel="noopener ugc nofollow" target="_blank">Image Source</a></figcaption></figure><h2 id="c44f" class="ky kz ii bn la lb lc ld le lf lg lh li kf lj lk ll kj lm ln lo kn lp lq lr ls gj">Why Torndao? Why not Django or Flask?</h2><p id="5c55" class="pw-post-body-paragraph ju jv ii jw b jx lt jz ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ib gj">Guys, please don’t do this. If I say one of them is better than the other, there will be task forces from each community behind me. But let me give you some perspective. And I will try to explain my slight bias toward one with much humility.</p><p id="83c8" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">At the end of the day, every server has two things, <strong class="jw ij"><em class="ks">one</em></strong> is a number of raw <strong class="jw ij">TCP Sockets</strong> listening on some <strong class="jw ij">Ports</strong> at an <strong class="jw ij">IP address</strong>. <strong class="jw ij"><em class="ks">Two</em></strong>, a <strong class="jw ij">protocol</strong> to communicate with the client. <strong class="jw ij">HTTP server</strong> is a server which uses <strong class="jw ij"><em class="ks">Http protocol</em></strong> to communicate with the client and it listens on <strong class="jw ij"><em class="ks">port 80</em></strong> of a particular socket.</p><blockquote class="mo mp mq"><p id="94c5" class="ju jv ks jw b jx jy jz ka kb kc kd ke mr kg kh ki ms kk kl km mt ko kp kq kr ib gj">In general when we start an http server, we are actually creating TCP socket listening on port 80 at a particular IP address. The http <code class="gi mv mw mx my b">server.listen()</code> or similar command is just a sugar for the entire complex <strong class="jw ij">socket creation, socket binding and listening on the socket</strong> process.</p></blockquote><p id="58f1" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj"><a class="au jt" href="https://www.djangoproject.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">Django</strong></a> and <a class="au jt" href="http://flask.pocoo.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">Flask</strong></a> are web frameworks that help you do those above work in a much abstract way. it gives you http server and also a library or bunch of modules to use to accept, listen, process, respond to http requests. Simple. Well, <a class="au jt" href="http://www.tornadoweb.org" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">Tornado</strong></a> almost does the same thing.</p><p id="3969" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">The difference is <strong class="jw ij"><em class="ks">Tornado is a single threaded and evented server.</em></strong> Wait, wait, don’t worry. I am here to explain this.</p><p id="d043" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Django and Flask when starts, it starts a process and when you send request to Django or Flask, it starts processing the request. But its not single threaded, if the process is running and blocks on something, the further requests may be delayed until the process currently running is returned from CPU (GIL is released). <a class="au jt" href="https://uwsgi-docs.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">Uwsgi</strong></a>, <a class="au jt" href="http://gunicorn.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij">Gunicorn</strong></a>, all these are python <strong class="jw ij">WSGI</strong> servers which help run Django or Flask apps in a production environment by forking multiple process and each individual http request is served by each of these processes.</p><p id="cbe7" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">But in tornado, every request is served by a single process, it works in an evented model, where each request if waiting on I/O, waits on some kind of polling mechanism like <code class="gi mv mw mx my b"><strong class="jw ij">epoll</strong></code> (Linux) or <code class="gi mv mw mx my b"><strong class="jw ij">kqueue</strong></code> (BSD and Mac OS X) if they are available, or else falling back on <code class="gi mv mw mx my b"><strong class="jw ij">select()</strong></code>. This allows larger concurrency.</p><p id="b1ce" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">To know more, here are few links, they are real good read.</p><ul class=""><li id="5b75" class="ma mb ii jw b jx jy kb kc kf mc kj md kn me kr mf mg mh mi gj"><a class="au jt" href="http://2014.jsconf.eu/speakers/philip-roberts-what-the-heck-is-the-event-loop-anyway.html" rel="noopener ugc nofollow" target="_blank">What the heck is the event loop?</a> <em class="ks">(this is more for JS and Node users, but it gives a fantastic introduction to event loops in general, a must watch actually).</em></li><li id="3f36" class="ma mb ii jw b jx mj kb mk kf ml kj mm kn mn kr mf mg mh mi gj"><a class="au jt" rel="noopener" href="/@paulcolomiets/the-future-of-asynchronous-io-in-python-ce200536d847">The future of Async I/O in Python</a></li><li id="b1bb" class="ma mb ii jw b jx mj kb mk kf ml kj mm kn mn kr mf mg mh mi gj"><a class="au jt" href="https://www.slideshare.net/dabeaz/an-introduction-to-python-concurrency" rel="noopener ugc nofollow" target="_blank">Understanding Python Concurrency</a></li><li id="dd9d" class="ma mb ii jw b jx mj kb mk kf ml kj mm kn mn kr mf mg mh mi gj"><a class="au jt" href="http://www.dabeaz.com/coroutines/" rel="noopener ugc nofollow" target="_blank">A curious course on coroutines and concurrency</a></li><li id="9648" class="ma mb ii jw b jx mj kb mk kf ml kj mm kn mn kr mf mg mh mi gj"><a class="au jt" href="https://bmmh.wordpress.com/2012/10/07/tornado-and-gevent/" rel="noopener ugc nofollow" target="_blank">Tornado and Gevent</a></li></ul><h2 id="bd2e" class="ky kz ii bn la lb lc ld le lf lg lh li kf lj lk ll kj lm ln lo kn lp lq lr ls gj">RabbitMQ, AMQP and Pika</h2><p id="c42c" class="pw-post-body-paragraph ju jv ii jw b jx lt jz ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ib gj">AMQP is a protocol used to do instant messaging. Its lightweight and fast and its tailor made for message communication. RabbitMQ is a message broker, message queue used to queue and process messages. RabbitMQ talks using the AMQP protocol. So any client which wants to communicate with RabbitMQ should be talking using the AMQP protocol. Pika is a client library used to talk with RabbitMQ using the AMQP protocol.</p><h2 id="0786" class="ky kz ii bn la lb lc ld le lf lg lh li kf lj lk ll kj lm ln lo kn lp lq lr ls gj">Websocket and SockJs</h2><p id="8ef6" class="pw-post-body-paragraph ju jv ii jw b jx lt jz ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ib gj">Websocket is a tcp protocol which is similar to HTTP, but it keeps a connection active unlike HTTP protocol which is a simple request/response protocol and closes the connection as soon as a response is received from the server.</p><p id="2958" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Websockets are the best tool for instant messaging where the connection needs to remain active during the chat session. Sockjs is a library which helps to talk via websocket protocol <em class="ks">(or falls back to other </em><strong class="jw ij"><em class="ks">ajax</em></strong><em class="ks">, </em><strong class="jw ij"><em class="ks">long polling, comet</em></strong><em class="ks"> based communication method if </em><strong class="jw ij"><em class="ks">websocket</em></strong><em class="ks"> is not present in the </em><strong class="jw ij"><em class="ks">browser</em></strong><em class="ks">).</em> The communication is between a browser client and a server (having an implementation for websockets), i.e ready to accept websocket requests like it accepts http requests).</p><h2 id="d9a6" class="ky kz ii bn la lb lc ld le lf lg lh li kf lj lk ll kj lm ln lo kn lp lq lr ls gj">The Workflow</h2><figure class="ku kv kw kx ga jj fo fp paragraph-image"><div role="button" tabindex="0" class="jk jl dq jm cf jn"><div class="fo fp lz"><img alt="" class="cf jo jp" src="https://miro.medium.com/max/1400/1*pwhxxqG9MxvyouFJGwtQHQ.png" width="700" height="553" role="presentation"/></div></div></figure><p id="d7b2" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">If you look at the figure again which shows the high level overview, it starts with the web browsers (the clients), it sends the first websocket request using the sockjs js library on the client side, tornado accepts it and open a websocket connection between the browsers(client) and itself(server).</p><p id="4ce3" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Tornado itself starts an independent amqp connection with rabbitmq using the pika library for each active websocket connection it creates. This creates a whole message flow passage starting from the cleint to tornado to rabbitmq and back to client.</p><p id="3f10" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Note that RabbitMQ is not exposed to the clients directly but via tornado. This is important from security point of view.</p><p id="2084" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Now let’s do a dry run of people chatting using this workflow. So when a user wants to chat in a public chatroom , first the websocket connection is established, then tornado establishes an amqp connection with rabbitmq. In this process, tornado creates pika channel and uses the channel to talk to an exchange and attaches a queue with this exchange and connection with a particular topic. AMQP topic determines which messages passes through an exchange and which are discarded.</p><p id="d5a2" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">What we are using here is Publish/Subscribe mechanism, where a client subscribes to a channel which is determined by a topic and when some other client publishes to a channel with match a topic pattern, then the exchange passes the message to the subscribed clients via the queues that are actually attached to the exchanges.</p><p id="07f9" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">This way multiple users/clients can subscribe to a public channel and every time a client message to a the public channel, everybody subscribed to the channel receives the message.</p><p id="c331" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Similarly, if two persons/clients want to talk privately, then each of them would subscribe to each other’s channel, and hence when anybody sends a message with a topic pattern matching the receiver’s attached queue’s topic, the receiver receives the message.</p><p id="8e72" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">There are mechanisms like acknowledgements which can help you determine things like message has been read already or not.</p><p id="d9cd" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Then there are way, tricks using the websocket connection to show the typing indication. All of these are implemented in this project.</p><p id="e6c9" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Go ahead and check the source code from Github, or install the app from <strong class="jw ij">pypi</strong> using <code class="gi mv mw mx my b">pip install rabbitChat</code>. Let me know if you have any doubts or suggestions.</p><p id="ad56" class="pw-post-body-paragraph ju jv ii jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ib gj">Documentation for the project is hosted <a class="au jt" href="https://rabbitchat.readthedocs.io/en/latest" rel="noopener ugc nofollow" target="_blank"><strong class="jw ij"><em class="ks">here</em></strong></a>.</p><blockquote class="mo mp mq"><p id="19c4" class="ju jv ks jw b jx jy jz ka kb kc kd ke mr kg kh ki ms kk kl km mt ko kp kq kr ib gj">I have not included any code explaining in detail. Planning to do so in a future post. For now go ahead and get familiar with the project and read about amqp and how rabbitmq works. Pretty interesting stuff.</p></blockquote></div></div></section><div class="l"><div class="ku kv jg kx ga cj"><p class="bn b bo bp co"><div><div class="cj" aria-hidden="false"><a class="au av aw ax ay az ba bb bc bd mz bg bh bi" href="https://creativecommons.org/publicdomain/mark/1.0/" rel="noopener follow" target="_blank">Public domain.</a></div></div></p></div><div class="cj"><p class="bn b bo bp co"><span class="dg" style="margin-left:5px;vertical-align:text-bottom"></span></p></div></div></div></div></article><div class="na o"></div></div></div><div></div><div class="dc nb o dz nc nd"><div class="ne eb nf ng nh o ao c"><div class="o ao gl"><div class="pw-multi-vote-icon dq ni nj nk nl"><div class=""><div class="dt nm dg nn no np nq bb nr ns nt nl"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM15.42 1.84l-1.18-.39-.34 2.5 1.52-2.1zM9.76 1.45l-1.19.4 1.53 2.1-.34-2.5zM20.25 11.84l-2.5-4.4a1.42 1.42 0 0 0-.93-.64.96.96 0 0 0-.75.18c-.25.19-.4.42-.45.7l.05.05 2.35 4.13c1.62 2.95 1.1 5.78-1.52 8.4l-.46.41c1-.13 1.93-.6 2.78-1.45 2.7-2.7 2.51-5.59 1.43-7.38zM12.07 9.01c-.13-.69.08-1.3.57-1.77l-2.06-2.07a1.12 1.12 0 0 0-1.56 0c-.15.15-.22.34-.27.53L12.07 9z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M14.74 8.3a1.13 1.13 0 0 0-.73-.5.67.67 0 0 0-.53.13c-.15.12-.59.46-.2 1.3l1.18 2.5a.45.45 0 0 1-.23.76.44.44 0 0 1-.48-.25L7.6 6.11a.82.82 0 1 0-1.15 1.15l3.64 3.64a.45.45 0 1 1-.63.63L5.83 7.9 4.8 6.86a.82.82 0 0 0-1.33.9c.04.1.1.18.18.26l1.02 1.03 3.65 3.64a.44.44 0 0 1-.15.73.44.44 0 0 1-.48-.1L4.05 9.68a.82.82 0 0 0-1.4.57.81.81 0 0 0 .24.58l1.53 1.54 2.3 2.28a.45.45 0 0 1-.64.63L3.8 13a.81.81 0 0 0-1.39.57c0 .22.09.43.24.58l4.4 4.4c2.8 2.8 5.5 4.12 8.68.94 2.27-2.28 2.71-4.6 1.34-7.1l-2.32-4.08z"></path></svg></div></div></div><div class="pw-multi-vote-count l nu nv nw nx ny nz oa"><p class="bn b gr bp co"><span class="nm">--</span></p></div></div><div class="ob oc od l"></div><div><div class="cj" aria-hidden="false"><button class="oe dt of o ao dg og oh" aria-label="responses"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="responses" class=""><path d="M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"></path></svg></button></div></div></div></div><div class="l"></div><footer class="oi oj ok ol o ao om dd c"><div class="l on"><div class="o dz"><div class="eo cf fa fb fc fd fe ff fg fh fi"><div class="o u oo"><div class="o ao gl"><div class="op l"><span class="l gn oq or e d"><div class="o ao gl"><div class="pw-multi-vote-icon dq ni nj nk nl"><div class=""><div class="dt nm dg nn no np nq bb nr ns nt nl"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM15.42 1.84l-1.18-.39-.34 2.5 1.52-2.1zM9.76 1.45l-1.19.4 1.53 2.1-.34-2.5zM20.25 11.84l-2.5-4.4a1.42 1.42 0 0 0-.93-.64.96.96 0 0 0-.75.18c-.25.19-.4.42-.45.7l.05.05 2.35 4.13c1.62 2.95 1.1 5.78-1.52 8.4l-.46.41c1-.13 1.93-.6 2.78-1.45 2.7-2.7 2.51-5.59 1.43-7.38zM12.07 9.01c-.13-.69.08-1.3.57-1.77l-2.06-2.07a1.12 1.12 0 0 0-1.56 0c-.15.15-.22.34-.27.53L12.07 9z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M14.74 8.3a1.13 1.13 0 0 0-.73-.5.67.67 0 0 0-.53.13c-.15.12-.59.46-.2 1.3l1.18 2.5a.45.45 0 0 1-.23.76.44.44 0 0 1-.48-.25L7.6 6.11a.82.82 0 1 0-1.15 1.15l3.64 3.64a.45.45 0 1 1-.63.63L5.83 7.9 4.8 6.86a.82.82 0 0 0-1.33.9c.04.1.1.18.18.26l1.02 1.03 3.65 3.64a.44.44 0 0 1-.15.73.44.44 0 0 1-.48-.1L4.05 9.68a.82.82 0 0 0-1.4.57.81.81 0 0 0 .24.58l1.53 1.54 2.3 2.28a.45.45 0 0 1-.64.63L3.8 13a.81.81 0 0 0-1.39.57c0 .22.09.43.24.58l4.4 4.4c2.8 2.8 5.5 4.12 8.68.94 2.27-2.28 2.71-4.6 1.34-7.1l-2.32-4.08z"></path></svg></div></div></div><div class="pw-multi-vote-count l nu nv nw nx ny nz oa"><p class="bn b gr bp co"><span class="nm">--</span></p></div></div></span><span class="l h g f os ot"><div class="o ao gl"><div class="pw-multi-vote-icon dq ni nj nk nl"><div class=""><div class="dt nm dg nn no np nq bb nr ns nt nl"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM15.42 1.84l-1.18-.39-.34 2.5 1.52-2.1zM9.76 1.45l-1.19.4 1.53 2.1-.34-2.5zM20.25 11.84l-2.5-4.4a1.42 1.42 0 0 0-.93-.64.96.96 0 0 0-.75.18c-.25.19-.4.42-.45.7l.05.05 2.35 4.13c1.62 2.95 1.1 5.78-1.52 8.4l-.46.41c1-.13 1.93-.6 2.78-1.45 2.7-2.7 2.51-5.59 1.43-7.38zM12.07 9.01c-.13-.69.08-1.3.57-1.77l-2.06-2.07a1.12 1.12 0 0 0-1.56 0c-.15.15-.22.34-.27.53L12.07 9z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M14.74 8.3a1.13 1.13 0 0 0-.73-.5.67.67 0 0 0-.53.13c-.15.12-.59.46-.2 1.3l1.18 2.5a.45.45 0 0 1-.23.76.44.44 0 0 1-.48-.25L7.6 6.11a.82.82 0 1 0-1.15 1.15l3.64 3.64a.45.45 0 1 1-.63.63L5.83 7.9 4.8 6.86a.82.82 0 0 0-1.33.9c.04.1.1.18.18.26l1.02 1.03 3.65 3.64a.44.44 0 0 1-.15.73.44.44 0 0 1-.48-.1L4.05 9.68a.82.82 0 0 0-1.4.57.81.81 0 0 0 .24.58l1.53 1.54 2.3 2.28a.45.45 0 0 1-.64.63L3.8 13a.81.81 0 0 0-1.39.57c0 .22.09.43.24.58l4.4 4.4c2.8 2.8 5.5 4.12 8.68.94 2.27-2.28 2.71-4.6 1.34-7.1l-2.32-4.08z"></path></svg></div></div></div><div class="pw-multi-vote-count l nu nv nw nx ny nz oa"><p class="bn b gr bp co"><span class="nm">--</span></p></div></div></span></div><div class="ou o"><div><div class="cj" aria-hidden="false"><button class="oe dt of o ao dg og oh" aria-label="responses"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="responses" class="ov"><path d="M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"></path></svg></button></div></div></div></div><div class="o ao"><div class="cj" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="cj" aria-hidden="false"><button class="au av aw ax ay az ba hj bc bd be bf bg bh bi ow hk ox" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.22 4.93a.42.42 0 0 1-.12.13h.01a.45.45 0 0 1-.29.08.52.52 0 0 1-.3-.13L12.5 3v7.07a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V3.02l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.8a.42.42 0 0 1 .07.5zm-.1.14zm.88 2h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.14c.1.1.15.22.15.35a.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9V8.96c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1z" fill="#000"></path></svg></button></div></div></div><div class="oy l hi"></div></div></div></div></div></div></footer></div><div class="o dz"><div class="eo cf fa fb fc fd fe ff fg fh fi"></div></div><div class="l"><div class="l oz oo"><div class="l oo"><div class="pa pb l oz"><div class="o dz"><div class="eo cf fa fb fc fd fe ff fg fh fi"><div class="o ao u"><h2 class="bn pc lb ld pd le lf lh pe li kf lk pf ll kj ln pg lo kn lq ph lr pi pj pk pl pm pn po gj"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@anirbanroydas?source=post_page-----914a79bbcd2f--------------------------------">More from ANIRBAN ROY DAS</a></h2><div class="pp o"><span><button class="bn b bo bp gs br gu gv gw gx gy bd ca gz ha hb ce cg ch ci cj ck">Follow</button></span><div class="pp l"><div><div><div class="cj" aria-hidden="false"><div class="l"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbacbf4957654&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40anirbanroydas%2Frabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f&amp;newsletterV3=e8949bae00d5&amp;newsletterV3Id=bacbf4957654&amp;user=ANIRBAN+ROY+DAS&amp;userId=e8949bae00d5&amp;source=-----914a79bbcd2f---------------------subscribe_user-----------"><button class="bn b bo bp bq bb bs bt bu bv bw bx by bz ca gz ha hb ce cg ch ci cj ck" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="pq pr ps"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5L19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div></div><div class="pt l"><p class="bn b bo bp co">I believe in knights and 50 other things. An observer, listener, storyteller, make believer and writes colourful texts on a dark background for a living.</p></div></div></div></div></div><div class="pu l"><div class="pv pw px py l"><div class="ht l bm"><div class="o dz"><div class="pz qa qb qc qd jo eo cf"><div class="ah qe ai qf gp qg gq qh ot qi"><p class="bn b do dp gj">Love podcasts or audiobooks? Learn on the go with our new app.</p></div><div class="qj ah qk ai ql gp qm gq qn ot"><a class="bn b bo bp gs br gu qo qp qq qr bd ca cb cc cd ce cg ch ci cj ck" href="https://knowable.fyi/?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=medium-post-footer&amp;source=post_page-----914a79bbcd2f--------------------------------" rel="noopener follow">Try Knowable</a></div></div></div></div></div></div><div class="o dz"><div class="eo cf fa fb fc fd fe ff fg fh fi"><div class="qs px l"></div></div></div></div></div><div class="d"><div class="qt qu qv l om ar ef as qw qx"><div class="o dz"><div class="fa fb qy qz ra rb eo cf"><a class="au av aw ax ay az ba bb bc bd rc rd bg re rf" aria-label="Go to homepage" rel="noopener follow" href="/?source=post_page-----914a79bbcd2f--------------------------------"><svg viewBox="0 0 3940 610" class="gu rg"><path d="M594.79 308.2c0 163.76-131.85 296.52-294.5 296.52S5.8 472 5.8 308.2 137.65 11.69 300.29 11.69s294.5 132.75 294.5 296.51M917.86 308.2c0 154.16-65.93 279.12-147.25 279.12s-147.25-125-147.25-279.12S689.29 29.08 770.61 29.08s147.25 125 147.25 279.12M1050 308.2c0 138.12-23.19 250.08-51.79 250.08s-51.79-112-51.79-250.08 23.19-250.08 51.8-250.08S1050 170.09 1050 308.2M1862.77 37.4l.82-.18v-6.35h-167.48l-155.51 365.5-155.51-365.5h-180.48v6.35l.81.18c30.57 6.9 46.09 17.19 46.09 54.3v434.45c0 37.11-15.58 47.4-46.15 54.3l-.81.18V587H1327v-6.35l-.81-.18c-30.57-6.9-46.09-17.19-46.09-54.3V116.9L1479.87 587h11.33l205.59-483.21V536.9c-2.62 29.31-18 38.36-45.68 44.61l-.82.19v6.3h213.3v-6.3l-.82-.19c-27.71-6.25-43.46-15.3-46.08-44.61l-.14-445.2h.14c0-37.11 15.52-47.4 46.08-54.3m97.43 287.8c3.49-78.06 31.52-134.4 78.56-135.37 14.51.24 26.68 5 36.14 14.16 20.1 19.51 29.55 60.28 28.09 121.21zm-2.11 22h250v-1.05c-.71-59.69-18-106.12-51.34-138-28.82-27.55-71.49-42.71-116.31-42.71h-1c-23.26 0-51.79 5.64-72.09 15.86-23.11 10.7-43.49 26.7-60.45 47.7-27.3 33.83-43.84 79.55-47.86 130.93-.13 1.54-.24 3.08-.35 4.62s-.18 2.92-.25 4.39a332.64 332.64 0 0 0-.36 21.69C1860.79 507 1923.65 600 2035.3 600c98 0 155.07-71.64 169.3-167.8l-7.19-2.53c-25 51.68-69.9 83-121 79.18-69.76-5.22-123.2-75.95-118.35-161.63m532.69 157.68c-8.2 19.45-25.31 30.15-48.24 30.15s-43.89-15.74-58.78-44.34c-16-30.7-24.42-74.1-24.42-125.51 0-107 33.28-176.21 84.79-176.21 21.57 0 38.55 10.7 46.65 29.37zm165.84 76.28c-30.57-7.23-46.09-18-46.09-57V5.28L2424.77 60v6.7l1.14-.09c25.62-2.07 43 1.47 53.09 10.79 7.9 7.3 11.75 18.5 11.75 34.26v71.14c-18.31-11.69-40.09-17.38-66.52-17.38-53.6 0-102.59 22.57-137.92 63.56-36.83 42.72-56.3 101.1-56.3 168.81C2230 518.72 2289.53 600 2378.13 600c51.83 0 93.53-28.4 112.62-76.3V588h166.65v-6.66zm159.29-505.33c0-37.76-28.47-66.24-66.24-66.24-37.59 0-67 29.1-67 66.24s29.44 66.24 67 66.24c37.77 0 66.24-28.48 66.24-66.24m43.84 505.33c-30.57-7.23-46.09-18-46.09-57h-.13V166.65l-166.66 47.85v6.5l1 .09c36.06 3.21 45.93 15.63 45.93 57.77V588h166.8v-6.66zm427.05 0c-30.57-7.23-46.09-18-46.09-57V166.65L3082 212.92v6.52l.94.1c29.48 3.1 38 16.23 38 58.56v226c-9.83 19.45-28.27 31-50.61 31.78-36.23 0-56.18-24.47-56.18-68.9V166.66l-166.66 47.85V221l1 .09c36.06 3.2 45.94 15.62 45.94 57.77v191.27a214.48 214.48 0 0 0 3.47 39.82l3 13.05c14.11 50.56 51.08 77 109 77 49.06 0 92.06-30.37 111-77.89v66h166.66v-6.66zM3934.2 588v-6.67l-.81-.19c-33.17-7.65-46.09-22.07-46.09-51.43v-243.2c0-75.83-42.59-121.09-113.93-121.09-52 0-95.85 30.05-112.73 76.86-13.41-49.6-52-76.86-109.06-76.86-50.12 0-89.4 26.45-106.25 71.13v-69.87l-166.66 45.89v6.54l1 .09c35.63 3.16 45.93 15.94 45.93 57V588h155.5v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66V255.72c7-16.35 21.11-35.72 49-35.72 34.64 0 52.2 24 52.2 71.28V588h155.54v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66v-248a160.45 160.45 0 0 0-2.2-27.68c7.42-17.77 22.34-38.8 51.37-38.8 35.13 0 52.2 23.31 52.2 71.28V588z"></path></svg></a><div class="rh l"><p class="bn b gr bp ri"><a class="au av aw ax ay az ba bb bc bd mz bg re rf rj" href="https://medium.com/about?autoplay=1&amp;source=post_page-----914a79bbcd2f--------------------------------" rel="noopener follow">About</a><a class="au av aw ax ay az ba bb bc bd mz bg re rf rj" href="https://help.medium.com/hc/en-us?source=post_page-----914a79bbcd2f--------------------------------" rel="noopener follow">Help</a><a class="au av aw ax ay az ba bb bc bd mz bg re rf rj" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----914a79bbcd2f--------------------------------" rel="noopener follow">Terms</a><a class="au av aw ax ay az ba bb bc bd mz bg re rf" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----914a79bbcd2f--------------------------------" rel="noopener follow">Privacy</a></p></div><div class="j i d"><hr class="dt du rk rl" aria-hidden="true"/><h2 class="bn pc do bp ih ri">Get the Medium app</h2><div class="rh o"><div class="gc l"><a class="au av aw ax ay az ba bb bc bd rc rd bg re rf" href="https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&amp;mt=8&amp;ct=post_page&amp;source=post_page-----914a79bbcd2f--------------------------------" rel="noopener follow"><img alt="A button that says &#x27;Download on the App Store&#x27;, and if clicked it will lead you to the iOS App store" class="" src="https://miro.medium.com/max/270/1*Crl55Tm6yDNMoucPo1tvDg.png" width="135" height="41"/></a></div><a class="au av aw ax ay az ba bb bc bd rc rd bg re rf" href="https://play.google.com/store/apps/details?id=com.medium.reader&amp;source=post_page-----914a79bbcd2f--------------------------------" rel="noopener follow"><img alt="A button that says &#x27;Get it on, Google Play&#x27;, and if clicked it will lead you to the Google Play store" class="" src="https://miro.medium.com/max/270/1*W_RAPQ62h0em559zluJLdQ.png" width="135" height="41"/></a></div></div></div></div></div></div></div></main><div class="eq ci c er h k j i cv es et eu"><div class="ag cf cj dq"><div class="l dc aq"><div class="es o db"><div class="l on"><div class="l c"><div class="l"><div class="px o ao"><div class="pw-susi-button l on"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40anirbanroydas%2Frabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f&amp;source=post_page--------------------------nav_reg-----------"><button class="bn b bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf cg ch ci cj ck" aria-label="sign up">Get started</button></a></span></div></div></div><div class="rm l"><div class="o hs nf rn"><div class="cj" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><span class="rs l"><svg width="25" height="25" viewBox="0 0 25 25" fill="rgba(8, 8, 8, 1)"><path d="M20.07 18.93l-4.16-4.15a6 6 0 1 0-.88.88l4.15 4.16a.62.62 0 1 0 .89-.89zM6.5 11a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0z"></path></svg></span><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" tabindex="0" class="eb ro bn bo bp rj cf rp rq gj rr" placeholder="Search" value=""/></div><div class="rt l"></div><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@anirbanroydas"><div class="l dq"><img alt="ANIRBAN ROY DAS" class="l ci ge ru rv gi" src="https://miro.medium.com/fit/c/176/176/1*W-dMAPLnD60z1TdgPAJOIw.jpeg" width="88" height="88"/><div class="gd ge l ru rv gh aq"></div></div></a><div class="rw l"></div><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@anirbanroydas"><h2 class="pw-author-name bn pc do bp ih gj">ANIRBAN ROY DAS</h2></a><div class="rx l"></div><span class="pw-follower-count bn b do dp co"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi">139 Followers</button></span><div class="ry l"></div><p class="bn b bo bp co">I believe in knights and 50 other things. An observer, listener, storyteller, make believer and writes colourful texts on a dark background for a living.</p><div class="rz l"></div><div class="sa o"><span><button class="bn b bo bp gs br gu gv gw gx gy bd ca gz ha hb ce sb cg ch ci cj ck">Follow</button></span><div class="pp l"><div><div><div class="cj" aria-hidden="false"><div class="l"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fbacbf4957654&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40anirbanroydas%2Frabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f&amp;newsletterV3=e8949bae00d5&amp;newsletterV3Id=bacbf4957654&amp;user=ANIRBAN+ROY+DAS&amp;userId=e8949bae00d5&amp;source=--------------------------subscribe_user-----------"><button class="bn b bo bp bq bb bs bt bu bv bw bx by bz ca gz ha hb ce cg ch ci cj ck" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="pq pr ps"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5L19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div><div class="sc l"><div class="l"><div class="sd rt l"><h2 class="bn pc do bp ih gj">More from <!-- -->Medium</h2></div><div class="l"><div class="cf ag"><a rel="noopener follow" href="/canopas/web-stack-weekly-issue-16-58cbda6f2a40?source=read_next_recirc---------0---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><div class="sd o db dz"><div class="o gl u"><div class="se o db sf"><div class="sg o ao"><div class="sh l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@cp-sumita-k?source=read_next_recirc---------0---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><div class="l dq"><img alt="Sumita K" class="l ci ge si sj gi" src="https://miro.medium.com/fit/c/40/40/1*pH7ro3Szy0vWY0OUR7zcXQ.jpeg" width="20" height="20"/><div class="gd ge l si sj gh aq"></div></div></a></div><div class="hh l"><div><div class="cj" aria-hidden="false"><div class="o"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@cp-sumita-k?source=read_next_recirc---------0---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><p class="bn b gr bp pi sk pj pk pl pm pn po gj">Sumita K</p></a></div></div></div></div><div class="hh l"><p class="bn b gr bp co">in</p></div><div class="l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/canopas?source=read_next_recirc---------0---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------" rel="noopener follow"><p class="bn b gr bp pi sk pj pk pl pm pn po gj">Canopas</p></a></div></div><h2 class="bn ij do bp pi sl pj pk sm pm po ih gj"><div>Web Stack Weekly — Issue #16</div></h2></div><div class="sn l"><div class="m l dq gi"><div class="so sp l"><img alt="" class="sq" src="https://miro.medium.com/focal/112/112/50/50/0*zNLV_5LyTyGmM9Jz.jpeg" width="56" role="presentation"/></div></div></div></div></div></a></div><div class="cf ag"><a rel="noopener follow" href="/@meghanagangolli/usage-of-constant-file-in-flutter-ccfa2a45c874?source=read_next_recirc---------1---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><div class="sd o db dz"><div class="o gl u"><div class="se o db sf"><div class="sg o ao"><div class="sh l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@meghanagangolli?source=read_next_recirc---------1---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><div class="l dq"><img alt="Meghana" class="l ci ge si sj gi" src="https://miro.medium.com/fit/c/40/40/1*xC4ysJf5EG-Jzl6qXYEl4w.jpeg" width="20" height="20"/><div class="gd ge l si sj gh aq"></div></div></a></div><div class="hh l"><div><div class="cj" aria-hidden="false"><div class="o"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@meghanagangolli?source=read_next_recirc---------1---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><p class="bn b gr bp pi sk pj pk pl pm pn po gj">Meghana</p></a></div></div></div></div></div><h2 class="bn ij do bp pi sl pj pk sm pm po ih gj"><div>Usage of Constant file in Flutter</div></h2></div><div class="sn l"></div></div></div></a></div><div class="cf ag"><a rel="noopener follow" href="/@marcel_katz/node-js-server-and-redis-instance-deployed-in-docker-containers-communicating-with-each-other-1b6ab32a511?source=read_next_recirc---------2---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><div class="sd o db dz"><div class="o gl u"><div class="se o db sf"><div class="sg o ao"><div class="sh l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@marcel_katz?source=read_next_recirc---------2---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><div class="l dq"><img alt="Marcel Katz" class="l ci ge si sj gi" src="https://miro.medium.com/fit/c/40/40/1*QRjcSBJYSXgbtFRjikEWNw.png" width="20" height="20"/><div class="gd ge l si sj gh aq"></div></div></a></div><div class="hh l"><div><div class="cj" aria-hidden="false"><div class="o"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@marcel_katz?source=read_next_recirc---------2---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><p class="bn b gr bp pi sk pj pk pl pm pn po gj">Marcel Katz</p></a></div></div></div></div></div><h2 class="bn ij do bp pi sl pj pk sm pm po ih gj"><div>Node.js server and Redis instance deployed in Docker containers exchanging information using Docker…</div></h2></div><div class="sn l"><div class="m l dq gi"><div class="so sp l"><img alt="" class="sq" src="https://miro.medium.com/focal/112/112/50/50/1*aUB-F0s4KzJTiSxgkLkx9Q.png" width="56" role="presentation"/></div></div></div></div></div></a></div><div class="cf ag"><a rel="noopener follow" href="/@jacekpietal/chef-js-simple-webserver-9520f091746d?source=read_next_recirc---------3---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><div class="sd o db dz"><div class="o gl u"><div class="se o db sf"><div class="sg o ao"><div class="sh l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@jacekpietal?source=read_next_recirc---------3---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><div class="l dq"><img alt="Jacek Piętal" class="l ci ge si sj gi" src="https://miro.medium.com/fit/c/40/40/0*qRs72eEZQh228S9d." width="20" height="20"/><div class="gd ge l si sj gh aq"></div></div></a></div><div class="hh l"><div><div class="cj" aria-hidden="false"><div class="o"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/@jacekpietal?source=read_next_recirc---------3---------------------558214c6_128c_4cab_98b9_568faf2cd5e3-------"><p class="bn b gr bp pi sk pj pk pl pm pn po gj">Jacek Piętal</p></a></div></div></div></div></div><h2 class="bn ij do bp pi sl pj pk sm pm po ih gj"><div>chef-js: http(s) node webserver CLI</div></h2></div><div class="sn l"><div class="m l dq gi"><div class="so sp l"><img alt="" class="sq" src="https://miro.medium.com/focal/112/112/50/50/1*53MsKcjnKFBITVSZHhVUzw.png" width="56" role="presentation"/></div></div></div></div></div></a></div></div></div></div></div></div></div><div class="sr o gl hc"><div class="ss l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://help.medium.com/hc/en-us" rel="noopener follow"><p class="bn b st su co">Help</p></a></div><div class="ss l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.statuspage.io" rel="noopener follow"><p class="bn b st su co">Status</p></a></div><div class="ss l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://about.medium.com/creators/" rel="noopener follow"><p class="bn b st su co">Writers</p></a></div><div class="ss l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://blog.medium.com" rel="noopener follow"><p class="bn b st su co">Blog</p></a></div><div class="ss l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" rel="noopener follow" href="/jobs-at-medium/work-at-medium-959d1a85284e"><p class="bn b st su co">Careers</p></a></div><div class="ss l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9" rel="noopener follow"><p class="bn b st su co">Privacy</p></a></div><div class="ss l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f" rel="noopener follow"><p class="bn b st su co">Terms</p></a></div><div class="ss l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/about?autoplay=1" rel="noopener follow"><p class="bn b st su co">About</p></a></div><div class="ss l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://knowable.fyi" rel="noopener follow"><p class="bn b st su co">Knowable</p></a></div></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20220526-000400-115a5b32ad"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"auroraPage":{"isAuroraPageEnabled":false},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-914a79bbcd2f","user-e8949bae00d5"],"serverVariantState":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":true,"vary":[]},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"DEFAULT","explicit":false},"viewerIsBot":false},"debug":{"requestId":"b965b6df-dfd5-489e-856c-4e1d3bf07240","hybridDevServices":[],"originalSpanCarrier":{"ot-tracer-spanid":"3e34318f4fda2776","ot-tracer-traceid":"693dce842a0f7bb","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002F@anirbanroydas\u002Frabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f","host":"medium.com","hostname":"medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"queryString":"","currentHash":""},"tracing":{},"config":{"nodeEnv":"production","version":"main-20220526-000400-115a5b32ad","isTaggedVersion":false,"target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20220526-000400-115a5b32ad","disableClientReporting":true},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20220526-000400-115a5b32ad","commit":"115a5b32ad3ec4a7d0dc5c63a6ab7be649b0994c"}},"datacenter":"us"},"googleAnalyticsCode":"UA-24232453-2","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyWithTrial":"d5ee3dbe3db8","yearly":"a40ad4a43185","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","collectionByDomainOrSlug({\"domainOrSlug\":\"medium.com\"})":null,"user({\"id\":\"e8949bae00d5\"})":{"__ref":"User:e8949bae00d5"},"userResult({\"id\":\"e8949bae00d5\"})":{"__ref":"User:e8949bae00d5"},"userResult({\"id\":null,\"username\":\"@anirbanroydas\"})":{"__ref":"User:e8949bae00d5"},"postResult({\"id\":\"914a79bbcd2f\"})":{"__ref":"Post:914a79bbcd2f"},"recirc({\"paging\":{\"limit\":4},\"postId\":\"914a79bbcd2f\"})":{"__typename":"RexRecircResult","items":[{"__typename":"RexRecircItem","post":{"__ref":"Post:58cbda6f2a40"},"feedId":"558214c6-128c-4cab-98b9-568faf2cd5e3"},{"__typename":"RexRecircItem","post":{"__ref":"Post:ccfa2a45c874"},"feedId":"558214c6-128c-4cab-98b9-568faf2cd5e3"},{"__typename":"RexRecircItem","post":{"__ref":"Post:1b6ab32a511"},"feedId":"558214c6-128c-4cab-98b9-568faf2cd5e3"},{"__typename":"RexRecircItem","post":{"__ref":"Post:9520f091746d"},"feedId":"558214c6-128c-4cab-98b9-568faf2cd5e3"}]}},"User:e8949bae00d5":{"id":"e8949bae00d5","__typename":"User","customStyleSheet":null,"name":"ANIRBAN ROY DAS","username":"anirbanroydas","newsletterV3":{"__ref":"NewsletterV3:bacbf4957654"},"imageId":"1*W-dMAPLnD60z1TdgPAJOIw.jpeg","socialStats":{"__typename":"SocialStats","followerCount":139,"followingCount":156,"collectionFollowingCount":17},"bio":"I believe in knights and 50 other things. An observer, listener, storyteller, make believer and writes colourful texts on a dark background for a living.","isPartnerProgramEnrolled":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:e8949bae00d5-viewerId:fb52d43fc01d"},"viewerIsUser":false,"customDomainState":null,"hasSubdomain":false,"postSubscribeMembershipUpsellShownAt":0,"isSuspended":false,"about":"","homepagePostsConnection({\"paging\":{\"limit\":1}})":{"__typename":"PostConnection","posts":[{"__ref":"Post:91f37f819d65"}]},"mediumMemberAt":0,"allowNotes":true,"twitterScreenName":"anirbanroydas","referredMembershipCustomHeadline":"","referredMembershipCustomBody":"","isAuroraVisible":true,"atsQualifiedAt":1612205270848,"followersUserConnection({\"paging\":{\"limit\":10}})":{"__typename":"UserConnection","users":[{"__ref":"User:1123b8173efa"},{"__ref":"User:117869d58ac4"},{"__ref":"User:12f30330a9ce"},{"__ref":"User:130c0eeec134"},{"__ref":"User:1432d85af4c5"},{"__ref":"User:1444b971982b"},{"__ref":"User:1693013e8d43"},{"__ref":"User:1bacb0f851bd"},{"__ref":"User:20f4c5f80a09"},{"__ref":"User:21b7ef5f4d26"}],"pagingInfo":{"__typename":"Paging","next":{"__typename":"PageParams","to":null,"from":"21b7ef5f4d26","limit":10}}}},"UserViewerEdge:userId:e8949bae00d5-viewerId:fb52d43fc01d":{"id":"userId:e8949bae00d5-viewerId:fb52d43fc01d","__typename":"UserViewerEdge","isFollowing":false,"isUser":false},"NewsletterV3:bacbf4957654":{"id":"bacbf4957654","__typename":"NewsletterV3","type":"NEWSLETTER_TYPE_AUTHOR","slug":"e8949bae00d5","name":"e8949bae00d5","collection":null,"user":{"__ref":"User:e8949bae00d5"},"description":"","promoHeadline":"","promoBody":"","showPromo":false,"subscribersCount":0},"Post:914a79bbcd2f":{"id":"914a79bbcd2f","__typename":"Post","firstPublishedAt":1463777234000,"visibility":"PUBLIC","creator":{"__ref":"User:e8949bae00d5"},"canonicalUrl":"","collection":null,"content({\"postMeteringOptions\":null})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:76ead0a3f88a_0"},{"__ref":"Paragraph:76ead0a3f88a_1"},{"__ref":"Paragraph:76ead0a3f88a_2"},{"__ref":"Paragraph:76ead0a3f88a_3"},{"__ref":"Paragraph:76ead0a3f88a_4"},{"__ref":"Paragraph:76ead0a3f88a_5"},{"__ref":"Paragraph:76ead0a3f88a_6"},{"__ref":"Paragraph:76ead0a3f88a_7"},{"__ref":"Paragraph:76ead0a3f88a_8"},{"__ref":"Paragraph:76ead0a3f88a_9"},{"__ref":"Paragraph:76ead0a3f88a_10"},{"__ref":"Paragraph:76ead0a3f88a_11"},{"__ref":"Paragraph:76ead0a3f88a_12"},{"__ref":"Paragraph:76ead0a3f88a_13"},{"__ref":"Paragraph:76ead0a3f88a_14"},{"__ref":"Paragraph:76ead0a3f88a_15"},{"__ref":"Paragraph:76ead0a3f88a_16"},{"__ref":"Paragraph:76ead0a3f88a_17"},{"__ref":"Paragraph:76ead0a3f88a_18"},{"__ref":"Paragraph:76ead0a3f88a_19"},{"__ref":"Paragraph:76ead0a3f88a_20"},{"__ref":"Paragraph:76ead0a3f88a_21"},{"__ref":"Paragraph:76ead0a3f88a_22"},{"__ref":"Paragraph:76ead0a3f88a_23"},{"__ref":"Paragraph:76ead0a3f88a_24"},{"__ref":"Paragraph:76ead0a3f88a_25"},{"__ref":"Paragraph:76ead0a3f88a_26"},{"__ref":"Paragraph:76ead0a3f88a_27"},{"__ref":"Paragraph:76ead0a3f88a_28"},{"__ref":"Paragraph:76ead0a3f88a_29"},{"__ref":"Paragraph:76ead0a3f88a_30"},{"__ref":"Paragraph:76ead0a3f88a_31"},{"__ref":"Paragraph:76ead0a3f88a_32"},{"__ref":"Paragraph:76ead0a3f88a_33"},{"__ref":"Paragraph:76ead0a3f88a_34"},{"__ref":"Paragraph:76ead0a3f88a_35"},{"__ref":"Paragraph:76ead0a3f88a_36"},{"__ref":"Paragraph:76ead0a3f88a_37"},{"__ref":"Paragraph:76ead0a3f88a_38"},{"__ref":"Paragraph:76ead0a3f88a_39"},{"__ref":"Paragraph:76ead0a3f88a_40"},{"__ref":"Paragraph:76ead0a3f88a_41"},{"__ref":"Paragraph:76ead0a3f88a_42"},{"__ref":"Paragraph:76ead0a3f88a_43"},{"__ref":"Paragraph:76ead0a3f88a_44"},{"__ref":"Paragraph:76ead0a3f88a_45"},{"__ref":"Paragraph:76ead0a3f88a_46"},{"__ref":"Paragraph:76ead0a3f88a_47"},{"__ref":"Paragraph:76ead0a3f88a_48"},{"__ref":"Paragraph:76ead0a3f88a_49"},{"__ref":"Paragraph:76ead0a3f88a_50"},{"__ref":"Paragraph:76ead0a3f88a_51"},{"__ref":"Paragraph:76ead0a3f88a_52"},{"__ref":"Paragraph:76ead0a3f88a_53"},{"__ref":"Paragraph:76ead0a3f88a_54"},{"__ref":"Paragraph:76ead0a3f88a_55"},{"__ref":"Paragraph:76ead0a3f88a_56"},{"__ref":"Paragraph:76ead0a3f88a_57"},{"__ref":"Paragraph:76ead0a3f88a_58"},{"__ref":"Paragraph:76ead0a3f88a_59"},{"__ref":"Paragraph:76ead0a3f88a_60"},{"__ref":"Paragraph:76ead0a3f88a_61"},{"__ref":"Paragraph:76ead0a3f88a_62"},{"__ref":"Paragraph:76ead0a3f88a_63"},{"__ref":"Paragraph:76ead0a3f88a_64"},{"__ref":"Paragraph:76ead0a3f88a_65"},{"__ref":"Paragraph:76ead0a3f88a_66"},{"__ref":"Paragraph:76ead0a3f88a_67"},{"__ref":"Paragraph:76ead0a3f88a_68"},{"__ref":"Paragraph:76ead0a3f88a_69"}],"sections":[{"__typename":"Section","name":"a2e7","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"customStyleSheet":null,"isPublished":true,"isLocked":false,"license":"PUBLIC_DOMAIN","collaborators":[],"isMarkedPaywallOnly":false,"mediumUrl":"https:\u002F\u002Fmedium.com\u002F@anirbanroydas\u002Frabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f","allowResponses":true,"postResponses":{"__typename":"PostResponses","count":0},"isLimitedState":false,"isNewsletter":false,"layerCake":0,"tags":[{"__ref":"Tag:tornado"},{"__ref":"Tag:websocket"},{"__ref":"Tag:sockjs"},{"__ref":"Tag:rabbitmq"},{"__ref":"Tag:chat"}],"topics":[],"isSeries":false,"sequence":null,"uniqueSlug":"rabbitchat-chat-server-using-tornado-sockjs-rabbitmq-also-talking-about-tcp-sockets-914a79bbcd2f","primaryTopic":null,"socialTitle":"","socialDek":"","noIndex":null,"curationStatus":"CURATION_STATUS_DISABLED","metaDescription":"","latestPublishedAt":1492423354721,"readingTime":10.568867924528302,"previewContent":{"__typename":"PreviewContent","subtitle":"Chat is eating the world! If you are not convinced, then I am going to coin some names and try to lure you into believing me anyway."},"previewImage":{"__ref":"ImageMetadata:1*QLjretA4jJhip-h3PpRbGg.jpeg"},"isShortform":false,"isSuspended":false,"responseRootPost":{"__typename":"ResponseRootPost","post":{"__ref":"Post:914a79bbcd2f"}},"lockedSource":"LOCKED_POST_SOURCE_NONE","statusForCollection":null,"pendingCollection":null,"title":"RabbitChat - Chat Server in Python using Tornado, Sockjs & RabbitMQ - also talking about Tcp…","inResponseToEntityType":null,"seoTitle":"","updatedAt":1528049101618,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"","isIndexable":true,"pinnedAt":0,"internalLinks({\"paging\":{\"limit\":8}})":{"__typename":"InternalLinksConnection","items":[]},"clapCount":268,"pinnedByCreatorAt":0,"curationEligibleAt":0,"responseDistribution":"NOT_DISTRIBUTED","inResponseToPostResult":null,"inResponseToCatalogResult":null,"latestPublishedVersion":"76ead0a3f88a","isAuthorNewsletter":false,"voterCount":23,"recommenders":[]},"Post:91f37f819d65":{"id":"91f37f819d65","__typename":"Post"},"Paragraph:76ead0a3f88a_0":{"id":"76ead0a3f88a_0","__typename":"Paragraph","name":"e23f","text":"RabbitChat - Chat Server in Python using Tornado, Sockjs & RabbitMQ - also talking about Tcp sockets, Websockets & python GIL","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_1":{"id":"76ead0a3f88a_1","__typename":"Paragraph","name":"073d","text":"Image Source","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*QLjretA4jJhip-h3PpRbGg.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":12,"href":"http:\u002F\u002Fronntorossian.com\u002Fbrand-messaging\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_2":{"id":"76ead0a3f88a_2","__typename":"Paragraph","name":"1822","text":"Chat is eating the world! If you are not convinced, then I am going to coin some names and try to lure you into believing me anyway.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":25,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_3":{"id":"76ead0a3f88a_3","__typename":"Paragraph","name":"c9a1","text":"Have you heard of Whatsapp, Snapchat, Messenger, Wechat? They are giants that are ruling the world presently. They are like the kings of startups and every other guy who wants to start their own startup is probably dream weaving these giant’s success stories.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":18,"end":26,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":28,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":38,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":49,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_4":{"id":"76ead0a3f88a_4","__typename":"Paragraph","name":"bf2a","text":"Facebook M (Personal Assistant) Image Source","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*WQpDgEUUHyyB5luj-lqoTg.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":32,"end":44,"href":"http:\u002F\u002Findianexpress.com\u002Farticle\u002Ftechnology\u002Fsocial\u002Ffacebook-tests-new-service-m-a-personal-assistant-inside-messenger\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_5":{"id":"76ead0a3f88a_5","__typename":"Paragraph","name":"2368","text":"Still no? Have you heard of this sudden phenomena that started with this one company called Magic, the one stop messaging app which created a wave of many similar companies with the idea of a personal assistant app? Yes, this idea has taken the world. Being in India, we know for certain that there are close to 50 companies trying to do this. Chat is their Asgard. Their holy place. Without it they cannot do anything. Their whole business is based on the fundamentals of chat. Even the mighty Facebook has announced its candidacy in this personal assistant app runway.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_6":{"id":"76ead0a3f88a_6","__typename":"Paragraph","name":"cec0","text":"See, I just made chat and instant messaging cool for you. I made it important for you. Now you definitely need to read on and later go ahead and try to start up a new company based on it.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_7":{"id":"76ead0a3f88a_7","__typename":"Paragraph","name":"64a0","text":"Note","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_8":{"id":"76ead0a3f88a_8","__typename":"Paragraph","name":"0c9a","text":"I generally write my blogs with a certain wit and try to write in as simple words as possible and avoid the tech jargons, just to be on the lighter side. Though I intend to do so for all my blog posts, but some of the topics would deal with real discussion about the project that I will be blogging about. In those blogs, I will try to be more technical about stuffs and talk more from a technical perspective with code examples and diagrams.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_9":{"id":"76ead0a3f88a_9","__typename":"Paragraph","name":"aaea","text":"Image Source","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*BFD7xbM1Db0UiilLuTHuYA.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":12,"href":"https:\u002F\u002Ffinancialtribune.com\u002Farticles\u002Feconomy-sci-tech\u002F45810\u002Fsupport-for-iranian-mobile-messaging-apps","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_10":{"id":"76ead0a3f88a_10","__typename":"Paragraph","name":"0764","text":"Introducing RabbitChat","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_11":{"id":"76ead0a3f88a_11","__typename":"Paragraph","name":"a4b5","text":"Today’s post is one such post where I would like to talk about this project that I recently did. Its a (guess what?) Chat Server. Its written in python language (Cpython). It uses Tornado to handle the networking and web requests. It uses websockets to do instant messaging using the sockjs websocket library. It also uses RabbitMQ as a message broker to queue and deliver messages over AMQP protocol. Pika is an amqp python client library that is used to talk to RabbitMQ from python.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":180,"end":187,"href":"http:\u002F\u002Fwww.tornadoweb.org","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":284,"end":290,"href":"https:\u002F\u002Fgithub.com\u002Fsockjs","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":323,"end":331,"href":"https:\u002F\u002Fwww.rabbitmq.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":387,"end":391,"href":"https:\u002F\u002Fwww.amqp.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":402,"end":406,"href":"http:\u002F\u002Fpika.readthedocs.io\u002Fen\u002Flatest\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":180,"end":187,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":239,"end":249,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":284,"end":290,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":323,"end":331,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":387,"end":391,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":402,"end":406,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":413,"end":439,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_12":{"id":"76ead0a3f88a_12","__typename":"Paragraph","name":"2312","text":"That’s a gist of the tech specs. I will talk about each of them in detail one by one. For the impatient ones, go ahead and play with it already. Github Link.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":145,"end":156,"href":"https:\u002F\u002Fgithub.com\u002Fanirbanroydas\u002FrabbitChat","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":145,"end":156,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_13":{"id":"76ead0a3f88a_13","__typename":"Paragraph","name":"b56e","text":"Let’s do the engineering now","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_14":{"id":"76ead0a3f88a_14","__typename":"Paragraph","name":"5cf6","text":"Here is a diagram of what I drew on my whiteboard while trying to engineer the system. This diagram may be hazy and disgusting and my apologies for not coming up with anything better. But I always like the concept of keeping it raw. Raw means the exact brainstorming that went through an idea or a project. Also I was lazy to draw diagrams in some word processor. So please bear with me. I will try to come up with more professional diagrams in my future blog posts.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_15":{"id":"76ead0a3f88a_15","__typename":"Paragraph","name":"0b06","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*pwhxxqG9MxvyouFJGwtQHQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_16":{"id":"76ead0a3f88a_16","__typename":"Paragraph","name":"330d","text":"So what we see is a high level diagram of the entrire system. At the top they are the web browsers or the web clients, B1, B2, B3, B4, etc. These boxes or clients are outside of the dotted black coloured circle.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":119,"end":121,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":123,"end":125,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":127,"end":129,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":131,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":119,"end":121,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":123,"end":125,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":127,"end":129,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":131,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_17":{"id":"76ead0a3f88a_17","__typename":"Paragraph","name":"8939","text":"The dotted circle is part of the backend, the server side. Now in the backend, there are two major groups. The one on the top is the Tornado Server. The web requests actually hit Tornado itself. From there, few requests like api requests, auth requests, etc. are directly responded back from Tornado itself. And the concerned instant messaging requests are first sent to the lower box and the lower box responds with some data back to the upper box, i.e the Tornado server and then tornado sends back the appropriate response back to the clients.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_18":{"id":"76ead0a3f88a_18","__typename":"Paragraph","name":"c956","text":"Now, lets talk a little more about the lower box. The lower box is our RabbitMQ message broker. Now, we will talk in detail about each part and try to understand the entire workflow and also see some code examples.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_19":{"id":"76ead0a3f88a_19","__typename":"Paragraph","name":"e189","text":"Torndao","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_20":{"id":"76ead0a3f88a_20","__typename":"Paragraph","name":"0610","text":"This is not the tornado we keep hearing about in the news. Its a python web and networking library developed by the folks at Friendfeed which now doesn’t exist, but this projects continues to grow as an open source project on github.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":226,"end":232,"href":"https:\u002F\u002Fgithub.com\u002Ftornadoweb\u002Ftornado","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":125,"end":135,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":226,"end":232,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":125,"end":135,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_21":{"id":"76ead0a3f88a_21","__typename":"Paragraph","name":"633f","text":"Tornado is like a unicorn in the python world. Tornado is python community’s answer to the NodeJs community and they stand proud in representing tornado as it works similar to node with a similar single threaded event loop model which is why it makes both of them highly concurrent in their applications and the reason for the buzz. Only difference is Tornado is a python library, that means it runs on the python vm, eg: the cpython vm. But NodeJs itself is a run time engine which runs the Javascript language. Though both of them aren’t actually comparable on eye to eye basis but nodejs is unique because nobody can explain nodejs to you directly. But most of them actually compare nodejs with a language counterpart like python, ruby, java (which actually is funny since javascript is the language and not nodejs but hey! you know what we computer science engineers are talking about). Python language is a very humanly language and easy to understand. You can become a python pro in a very less time as compared to other languages like Java (sigh…!).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":7,"href":"http:\u002F\u002Fwww.tornadoweb.org","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":91,"end":97,"href":"https:\u002F\u002Fnodejs.org\u002Fen\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":91,"end":97,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":145,"end":152,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":176,"end":180,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":195,"end":228,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":264,"end":281,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":352,"end":379,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":442,"end":476,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":652,"end":744,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":145,"end":152,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":176,"end":180,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":195,"end":228,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":352,"end":379,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":442,"end":476,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":745,"end":889,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_22":{"id":"76ead0a3f88a_22","__typename":"Paragraph","name":"6824","text":"But python has its drawbacks. Since it tries to make everything so easy to work with in the front, but it does it at the expense of being pretty slow in computational work in the backend. It’s performance comparison with other statically typed languages like C\u002FC++, Java and its children (Scala, Clojure), Go, is slower by many many times. Since, python is dynamically typed (making work easy in the front end for developers). But, it has to deal with many type conversions, bad memory allocations, layers of codes before it actually makes the real system calls or C calls (for Cpython). It also has the deadly GIL (Global Interpreter Lock) which is although present in a few other languages like ruby but its widely and loudly talked about in python community than anywhere else.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":611,"end":640,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":697,"end":701,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":697,"end":701,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_23":{"id":"76ead0a3f88a_23","__typename":"Paragraph","name":"41c1","text":"To give you some perspective on GIL exists or not in other languages, please follow these links and amaze and educate yourself.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_24":{"id":"76ead0a3f88a_24","__typename":"Paragraph","name":"8a52","text":"Is GIL a problem in NodeJs too?","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":31,"href":"https:\u002F\u002Fwww.quora.com\u002FIs-GIL-a-problem-in-node-js","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_25":{"id":"76ead0a3f88a_25","__typename":"Paragraph","name":"b73e","text":"Other languages that have GIL","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":29,"href":"https:\u002F\u002Fnews.ycombinator.com\u002Fitem?id=9585720","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_26":{"id":"76ead0a3f88a_26","__typename":"Paragraph","name":"9171","text":"NodeJs has a GIL, nobody talks about it, why?","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":45,"href":"https:\u002F\u002Fnews.ycombinator.com\u002Fitem?id=10403301","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_27":{"id":"76ead0a3f88a_27","__typename":"Paragraph","name":"5cfe","text":"Does V8 engine has a GIL?","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":25,"href":"http:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F14409609\u002Fdoes-the-v8-javascript-engine-have-a-gil","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_28":{"id":"76ead0a3f88a_28","__typename":"Paragraph","name":"fd26","text":"GIL","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_29":{"id":"76ead0a3f88a_29","__typename":"Paragraph","name":"ecfb","text":"GIL is what makes python come down to its knees. GIL basically holds a global lock at the interpreter (the python process) level. It doesn’t allow more than one thread to run simultaneously. Lets see what this actually mean.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":0,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_30":{"id":"76ead0a3f88a_30","__typename":"Paragraph","name":"bfb8","text":"It means when python is running and processing something, it is using cpu cycles and the python process is executing some code in a thread. Now GIL will hold a lock on this thread and won’t allow any other thread to run while this thread is running. Now suppose the thread, or the process creates another thread to run part of the code in the new thread. But unfortunately if the first thread is still running then the new thread will not be able to run at all, even if the system you are running on has multiple cpu cores. This is just the GIL. The evil GIL. But if the thread is doing some I\u002FO then GIL is released and other threads can run. Also, if the thread is making any C level function call, the GIL is released even in that case. Its pretty weird, right? But its what it is. The reason why and how this is done is beyond the scope of this post. May be sometime in the future.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_31":{"id":"76ead0a3f88a_31","__typename":"Paragraph","name":"99d8","text":"Now if python is so slow and it also has the evil GIL, how come people still code in python and its one of the most loved and favoured languages to work on , and how are there so many startups who prefer working on python instead of Java or C++, etc?","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_32":{"id":"76ead0a3f88a_32","__typename":"Paragraph","name":"3c9c","text":"Folks, the thing is, most of the startups or the projects that we see now a days are web based and all of them require some sort of networking. And networking means more of I\u002FO and less of CPU bound work. And as I mentioned, python GIL is released while doing I\u002FO. Thus waiting or blocking for I\u002FO in Java or C\u002FC++ is as good as waiting in python, then why not just wait in python and use its humanly and easy to code syntax.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":265,"end":347,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_33":{"id":"76ead0a3f88a_33","__typename":"Paragraph","name":"ebd8","text":"Here are few links which will really get you from null to master on GIL and python’s threads and processes:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_34":{"id":"76ead0a3f88a_34","__typename":"Paragraph","name":"ffb7","text":"Inside the Python GIL","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":21,"href":"http:\u002F\u002Fwww.dabeaz.com\u002Fpython\u002FGIL.pdf","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_35":{"id":"76ead0a3f88a_35","__typename":"Paragraph","name":"3c8e","text":"Python’s hardest problem","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":24,"href":"https:\u002F\u002Fjeffknupp.com\u002Fblog\u002F2012\u002F03\u002F31\u002Fpythons-hardest-problem\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_36":{"id":"76ead0a3f88a_36","__typename":"Paragraph","name":"6a7b","text":"Image Source","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*ZK__4LHcrV9wPdDaK_pCqg.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":12,"href":"https:\u002F\u002Fwearesocial.com\u002Fuk\u002Fblog\u002F2016\u002F03\u002Fthe-messaging-app-market-and-its-future-potential","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_37":{"id":"76ead0a3f88a_37","__typename":"Paragraph","name":"c44f","text":"Why Torndao? Why not Django or Flask?","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_38":{"id":"76ead0a3f88a_38","__typename":"Paragraph","name":"5c55","text":"Guys, please don’t do this. If I say one of them is better than the other, there will be task forces from each community behind me. But let me give you some perspective. And I will try to explain my slight bias toward one with much humility.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_39":{"id":"76ead0a3f88a_39","__typename":"Paragraph","name":"83c8","text":"At the end of the day, every server has two things, one is a number of raw TCP Sockets listening on some Ports at an IP address. Two, a protocol to communicate with the client. HTTP server is a server which uses Http protocol to communicate with the client and it listens on port 80 of a particular socket.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":52,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":75,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":105,"end":110,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":117,"end":127,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":129,"end":132,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":136,"end":144,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":177,"end":188,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":212,"end":225,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":275,"end":282,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":52,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":129,"end":132,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":212,"end":225,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":275,"end":282,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_40":{"id":"76ead0a3f88a_40","__typename":"Paragraph","name":"94c5","text":"In general when we start an http server, we are actually creating TCP socket listening on port 80 at a particular IP address. The http server.listen() or similar command is just a sugar for the entire complex socket creation, socket binding and listening on the socket process.","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":135,"end":150,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":209,"end":268,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_41":{"id":"76ead0a3f88a_41","__typename":"Paragraph","name":"58f1","text":"Django and Flask are web frameworks that help you do those above work in a much abstract way. it gives you http server and also a library or bunch of modules to use to accept, listen, process, respond to http requests. Simple. Well, Tornado almost does the same thing.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":6,"href":"https:\u002F\u002Fwww.djangoproject.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":11,"end":16,"href":"http:\u002F\u002Fflask.pocoo.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":233,"end":240,"href":"http:\u002F\u002Fwww.tornadoweb.org","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":0,"end":6,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":11,"end":16,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":233,"end":240,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_42":{"id":"76ead0a3f88a_42","__typename":"Paragraph","name":"3969","text":"The difference is Tornado is a single threaded and evented server. Wait, wait, don’t worry. I am here to explain this.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":18,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":18,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_43":{"id":"76ead0a3f88a_43","__typename":"Paragraph","name":"d043","text":"Django and Flask when starts, it starts a process and when you send request to Django or Flask, it starts processing the request. But its not single threaded, if the process is running and blocks on something, the further requests may be delayed until the process currently running is returned from CPU (GIL is released). Uwsgi, Gunicorn, all these are python WSGI servers which help run Django or Flask apps in a production environment by forking multiple process and each individual http request is served by each of these processes.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":322,"end":327,"href":"https:\u002F\u002Fuwsgi-docs.readthedocs.io\u002Fen\u002Flatest\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":329,"end":337,"href":"http:\u002F\u002Fgunicorn.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":322,"end":327,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":329,"end":337,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":360,"end":364,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_44":{"id":"76ead0a3f88a_44","__typename":"Paragraph","name":"cbe7","text":"But in tornado, every request is served by a single process, it works in an evented model, where each request if waiting on I\u002FO, waits on some kind of polling mechanism like epoll (Linux) or kqueue (BSD and Mac OS X) if they are available, or else falling back on select(). This allows larger concurrency.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":174,"end":179,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":191,"end":197,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":264,"end":272,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":174,"end":179,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":191,"end":197,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":264,"end":272,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_45":{"id":"76ead0a3f88a_45","__typename":"Paragraph","name":"b1ce","text":"To know more, here are few links, they are real good read.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_46":{"id":"76ead0a3f88a_46","__typename":"Paragraph","name":"5b75","text":"What the heck is the event loop? (this is more for JS and Node users, but it gives a fantastic introduction to event loops in general, a must watch actually).","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":32,"href":"http:\u002F\u002F2014.jsconf.eu\u002Fspeakers\u002Fphilip-roberts-what-the-heck-is-the-event-loop-anyway.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":33,"end":158,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_47":{"id":"76ead0a3f88a_47","__typename":"Paragraph","name":"3f36","text":"The future of Async I\u002FO in Python","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":33,"href":"https:\u002F\u002Fmedium.com\u002F@paulcolomiets\u002Fthe-future-of-asynchronous-io-in-python-ce200536d847","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_48":{"id":"76ead0a3f88a_48","__typename":"Paragraph","name":"b1bb","text":"Understanding Python Concurrency","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":32,"href":"https:\u002F\u002Fwww.slideshare.net\u002Fdabeaz\u002Fan-introduction-to-python-concurrency","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_49":{"id":"76ead0a3f88a_49","__typename":"Paragraph","name":"dd9d","text":"A curious course on coroutines and concurrency","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":46,"href":"http:\u002F\u002Fwww.dabeaz.com\u002Fcoroutines\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_50":{"id":"76ead0a3f88a_50","__typename":"Paragraph","name":"9648","text":"Tornado and Gevent","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":0,"end":18,"href":"https:\u002F\u002Fbmmh.wordpress.com\u002F2012\u002F10\u002F07\u002Ftornado-and-gevent\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_51":{"id":"76ead0a3f88a_51","__typename":"Paragraph","name":"bd2e","text":"RabbitMQ, AMQP and Pika","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_52":{"id":"76ead0a3f88a_52","__typename":"Paragraph","name":"c42c","text":"AMQP is a protocol used to do instant messaging. Its lightweight and fast and its tailor made for message communication. RabbitMQ is a message broker, message queue used to queue and process messages. RabbitMQ talks using the AMQP protocol. So any client which wants to communicate with RabbitMQ should be talking using the AMQP protocol. Pika is a client library used to talk with RabbitMQ using the AMQP protocol.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_53":{"id":"76ead0a3f88a_53","__typename":"Paragraph","name":"0786","text":"Websocket and SockJs","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_54":{"id":"76ead0a3f88a_54","__typename":"Paragraph","name":"8ef6","text":"Websocket is a tcp protocol which is similar to HTTP, but it keeps a connection active unlike HTTP protocol which is a simple request\u002Fresponse protocol and closes the connection as soon as a response is received from the server.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_55":{"id":"76ead0a3f88a_55","__typename":"Paragraph","name":"2958","text":"Websockets are the best tool for instant messaging where the connection needs to remain active during the chat session. Sockjs is a library which helps to talk via websocket protocol (or falls back to other ajax, long polling, comet based communication method if websocket is not present in the browser). The communication is between a browser client and a server (having an implementation for websockets), i.e ready to accept websocket requests like it accepts http requests).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":207,"end":211,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":213,"end":232,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":263,"end":272,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":295,"end":302,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":183,"end":304,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_56":{"id":"76ead0a3f88a_56","__typename":"Paragraph","name":"d9a6","text":"The Workflow","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_57":{"id":"76ead0a3f88a_57","__typename":"Paragraph","name":"2e68","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*pwhxxqG9MxvyouFJGwtQHQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_58":{"id":"76ead0a3f88a_58","__typename":"Paragraph","name":"d7b2","text":"If you look at the figure again which shows the high level overview, it starts with the web browsers (the clients), it sends the first websocket request using the sockjs js library on the client side, tornado accepts it and open a websocket connection between the browsers(client) and itself(server).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_59":{"id":"76ead0a3f88a_59","__typename":"Paragraph","name":"4ce3","text":"Tornado itself starts an independent amqp connection with rabbitmq using the pika library for each active websocket connection it creates. This creates a whole message flow passage starting from the cleint to tornado to rabbitmq and back to client.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_60":{"id":"76ead0a3f88a_60","__typename":"Paragraph","name":"3f10","text":"Note that RabbitMQ is not exposed to the clients directly but via tornado. This is important from security point of view.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_61":{"id":"76ead0a3f88a_61","__typename":"Paragraph","name":"2084","text":"Now let’s do a dry run of people chatting using this workflow. So when a user wants to chat in a public chatroom , first the websocket connection is established, then tornado establishes an amqp connection with rabbitmq. In this process, tornado creates pika channel and uses the channel to talk to an exchange and attaches a queue with this exchange and connection with a particular topic. AMQP topic determines which messages passes through an exchange and which are discarded.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_62":{"id":"76ead0a3f88a_62","__typename":"Paragraph","name":"d5a2","text":"What we are using here is Publish\u002FSubscribe mechanism, where a client subscribes to a channel which is determined by a topic and when some other client publishes to a channel with match a topic pattern, then the exchange passes the message to the subscribed clients via the queues that are actually attached to the exchanges.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_63":{"id":"76ead0a3f88a_63","__typename":"Paragraph","name":"07f9","text":"This way multiple users\u002Fclients can subscribe to a public channel and every time a client message to a the public channel, everybody subscribed to the channel receives the message.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_64":{"id":"76ead0a3f88a_64","__typename":"Paragraph","name":"c331","text":"Similarly, if two persons\u002Fclients want to talk privately, then each of them would subscribe to each other’s channel, and hence when anybody sends a message with a topic pattern matching the receiver’s attached queue’s topic, the receiver receives the message.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_65":{"id":"76ead0a3f88a_65","__typename":"Paragraph","name":"8e72","text":"There are mechanisms like acknowledgements which can help you determine things like message has been read already or not.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_66":{"id":"76ead0a3f88a_66","__typename":"Paragraph","name":"d9cd","text":"Then there are way, tricks using the websocket connection to show the typing indication. All of these are implemented in this project.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:76ead0a3f88a_67":{"id":"76ead0a3f88a_67","__typename":"Paragraph","name":"e6c9","text":"Go ahead and check the source code from Github, or install the app from pypi using pip install rabbitChat. Let me know if you have any doubts or suggestions.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":83,"end":105,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":72,"end":76,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_68":{"id":"76ead0a3f88a_68","__typename":"Paragraph","name":"ad56","text":"Documentation for the project is hosted here.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":40,"end":44,"href":"https:\u002F\u002Frabbitchat.readthedocs.io\u002Fen\u002Flatest","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":40,"end":44,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":40,"end":44,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:76ead0a3f88a_69":{"id":"76ead0a3f88a_69","__typename":"Paragraph","name":"19c4","text":"I have not included any code explaining in detail. Planning to do so in a future post. For now go ahead and get familiar with the project and read about amqp and how rabbitmq works. Pretty interesting stuff.","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"ImageMetadata:1*QLjretA4jJhip-h3PpRbGg.jpeg":{"id":"1*QLjretA4jJhip-h3PpRbGg.jpeg","__typename":"ImageMetadata","originalHeight":410,"originalWidth":1024,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*WQpDgEUUHyyB5luj-lqoTg.jpeg":{"id":"1*WQpDgEUUHyyB5luj-lqoTg.jpeg","__typename":"ImageMetadata","originalHeight":422,"originalWidth":759,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*BFD7xbM1Db0UiilLuTHuYA.jpeg":{"id":"1*BFD7xbM1Db0UiilLuTHuYA.jpeg","__typename":"ImageMetadata","originalHeight":837,"originalWidth":1280,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*pwhxxqG9MxvyouFJGwtQHQ.png":{"id":"1*pwhxxqG9MxvyouFJGwtQHQ.png","__typename":"ImageMetadata","originalHeight":800,"originalWidth":1014,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*ZK__4LHcrV9wPdDaK_pCqg.jpeg":{"id":"1*ZK__4LHcrV9wPdDaK_pCqg.jpeg","__typename":"ImageMetadata","originalHeight":502,"originalWidth":893,"focusPercentX":null,"focusPercentY":null,"alt":null},"Tag:tornado":{"id":"tornado","__typename":"Tag"},"Tag:websocket":{"id":"websocket","__typename":"Tag"},"Tag:sockjs":{"id":"sockjs","__typename":"Tag"},"Tag:rabbitmq":{"id":"rabbitmq","__typename":"Tag"},"Tag:chat":{"id":"chat","__typename":"Tag"},"User:98c882e2d2e3":{"id":"98c882e2d2e3","__typename":"User","imageId":"1*pH7ro3Szy0vWY0OUR7zcXQ.jpeg","mediumMemberAt":0,"name":"Sumita K","username":"cp-sumita-k","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"cp-sumita-k.medium.com"}},"hasSubdomain":true,"bio":"Web developer at Canopas | Write on various web technologies and cloud platforms."},"Collection:87b7877ee31e":{"id":"87b7877ee31e","__typename":"Collection","name":"Canopas","domain":"blog.canopas.com","slug":"canopas"},"ImageMetadata:0*zNLV_5LyTyGmM9Jz.jpeg":{"id":"0*zNLV_5LyTyGmM9Jz.jpeg","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"Post:58cbda6f2a40":{"id":"58cbda6f2a40","__typename":"Post","title":"Web Stack Weekly — Issue #16","mediumUrl":"https:\u002F\u002Fblog.canopas.com\u002Fweb-stack-weekly-issue-16-58cbda6f2a40","creator":{"__ref":"User:98c882e2d2e3"},"previewContent":{"__typename":"PreviewContent","subtitle":"Welcome to Web weekly — a weekly newsletter on new development and updates of Web universe curated by Canopas team, delivered every Monday.","isFullContent":false},"collection":{"__ref":"Collection:87b7877ee31e"},"previewImage":{"__ref":"ImageMetadata:0*zNLV_5LyTyGmM9Jz.jpeg"},"clapCount":113,"visibility":"PUBLIC","isSeries":false,"sequence":null,"uniqueSlug":"web-stack-weekly-issue-16-58cbda6f2a40"},"User:d8ab46fad815":{"id":"d8ab46fad815","__typename":"User","imageId":"1*xC4ysJf5EG-Jzl6qXYEl4w.jpeg","mediumMemberAt":0,"name":"Meghana","username":"meghanagangolli","customDomainState":null,"hasSubdomain":false,"bio":"Software Engineer"},"ImageMetadata:":{"id":"","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"Post:ccfa2a45c874":{"id":"ccfa2a45c874","__typename":"Post","title":"Usage of Constant file in Flutter","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@meghanagangolli\u002Fusage-of-constant-file-in-flutter-ccfa2a45c874","creator":{"__ref":"User:d8ab46fad815"},"previewContent":{"__typename":"PreviewContent","subtitle":"","isFullContent":false},"collection":null,"previewImage":{"__ref":"ImageMetadata:"},"clapCount":1,"visibility":"PUBLIC","isSeries":false,"sequence":null,"uniqueSlug":"usage-of-constant-file-in-flutter-ccfa2a45c874"},"User:e251af928bc8":{"id":"e251af928bc8","__typename":"User","imageId":"1*QRjcSBJYSXgbtFRjikEWNw.png","mediumMemberAt":1591714373000,"name":"Marcel Katz","username":"marcel_katz","customDomainState":null,"hasSubdomain":false,"bio":"Software Technologist"},"ImageMetadata:1*aUB-F0s4KzJTiSxgkLkx9Q.png":{"id":"1*aUB-F0s4KzJTiSxgkLkx9Q.png","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"Post:1b6ab32a511":{"id":"1b6ab32a511","__typename":"Post","title":"Node.js server and Redis instance deployed in Docker containers exchanging information using Docker…","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@marcel_katz\u002Fnode-js-server-and-redis-instance-deployed-in-docker-containers-communicating-with-each-other-1b6ab32a511","creator":{"__ref":"User:e251af928bc8"},"previewContent":{"__typename":"PreviewContent","subtitle":"This article contains two main stages:","isFullContent":false},"collection":null,"previewImage":{"__ref":"ImageMetadata:1*aUB-F0s4KzJTiSxgkLkx9Q.png"},"clapCount":6,"visibility":"PUBLIC","isSeries":false,"sequence":null,"uniqueSlug":"node-js-server-and-redis-instance-deployed-in-docker-containers-communicating-with-each-other-1b6ab32a511"},"User:cae0074d992d":{"id":"cae0074d992d","__typename":"User","imageId":"0*qRs72eEZQh228S9d.","mediumMemberAt":0,"name":"Jacek Piętal","username":"jacekpietal","customDomainState":null,"hasSubdomain":false,"bio":""},"ImageMetadata:1*53MsKcjnKFBITVSZHhVUzw.png":{"id":"1*53MsKcjnKFBITVSZHhVUzw.png","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"Post:9520f091746d":{"id":"9520f091746d","__typename":"Post","title":"chef-js: http(s) node webserver CLI","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@jacekpietal\u002Fchef-js-simple-webserver-9520f091746d","creator":{"__ref":"User:cae0074d992d"},"previewContent":{"__typename":"PreviewContent","subtitle":"The Reason","isFullContent":false},"collection":null,"previewImage":{"__ref":"ImageMetadata:1*53MsKcjnKFBITVSZHhVUzw.png"},"clapCount":0,"visibility":"PUBLIC","isSeries":false,"sequence":null,"uniqueSlug":"chef-js-simple-webserver-9520f091746d"},"User:1123b8173efa":{"id":"1123b8173efa","__typename":"User","name":"Mohamed Naseer","bio":"","imageId":"0*Q7WvPPxqpU-eCzZd.","mediumMemberAt":0,"username":"naseer.mo","customDomainState":null,"hasSubdomain":false},"User:117869d58ac4":{"id":"117869d58ac4","__typename":"User","name":"Ritwik Dasgupta","bio":"UX designer · Microsoft","imageId":"0*_IpRltBh4Ot35z9Z.","mediumMemberAt":0,"username":"ritwikdasgupta","customDomainState":null,"hasSubdomain":false},"User:12f30330a9ce":{"id":"12f30330a9ce","__typename":"User","name":"codekk","bio":"","imageId":"0*RKoYLGflzcfbEiYz.","mediumMemberAt":0,"username":"codekk","customDomainState":null,"hasSubdomain":false},"User:130c0eeec134":{"id":"130c0eeec134","__typename":"User","name":"Nithin","bio":"Learning Programming.","imageId":"0*cKhJSSDBg98ltPUd.jpg","mediumMemberAt":0,"username":"vr_nithin","customDomainState":null,"hasSubdomain":false},"User:1432d85af4c5":{"id":"1432d85af4c5","__typename":"User","name":"Scriptando","bio":"\u003C Código na mesa \u002F\u003E","imageId":"1*BUbblnyBIsitc1mj2-VHzw.png","mediumMemberAt":0,"username":"scriptando","customDomainState":null,"hasSubdomain":false},"User:1444b971982b":{"id":"1444b971982b","__typename":"User","name":"Harsha Vipparti","bio":"Tech Analyst at Goldman Sachs","imageId":"1*_tOymfcXBx_ThFbmwzHwMQ@2x.jpeg","mediumMemberAt":0,"username":"harshavipparti","customDomainState":null,"hasSubdomain":false},"User:1693013e8d43":{"id":"1693013e8d43","__typename":"User","name":"sanil.madathil","bio":"","imageId":"1*dmbNkD5D-u45r44go_cf0g.png","mediumMemberAt":1562498449963,"username":"sanil.madathil","customDomainState":null,"hasSubdomain":false},"User:1bacb0f851bd":{"id":"1bacb0f851bd","__typename":"User","name":"marek.blaszczyk","bio":"","imageId":"1*dmbNkD5D-u45r44go_cf0g.png","mediumMemberAt":0,"username":"marek.blaszczyk","customDomainState":null,"hasSubdomain":false},"User:20f4c5f80a09":{"id":"20f4c5f80a09","__typename":"User","name":"Shaunak Sarkar","bio":"","imageId":"0*aHtErJ3stmlKAsvT.","mediumMemberAt":0,"username":"shaunaksarkar","customDomainState":null,"hasSubdomain":false},"User:21b7ef5f4d26":{"id":"21b7ef5f4d26","__typename":"User","name":"Bharadwajsai bandaru","bio":"","imageId":"0*vdhnmKAp9wqDu6TZ.jpg","mediumMemberAt":0,"username":"bharadwajsaibcm","customDomainState":null,"hasSubdomain":false}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"HIT","shouldUseCache":true}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.90c3b771.js"></script><script src="https://cdn-client.medium.com/lite/static/js/6276.9b6a3a0e.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.4605733a.js"></script><script src="https://cdn-client.medium.com/lite/static/js/5573.159bf40f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/instrumentation.3c974b48.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/407.6b0ceaf5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9216.69411540.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/AppLayout.5ce2dc09.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.f90575a9.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9678.6e70c1d8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1752.a348f767.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7794.9590314e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8316.18f2a6aa.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5221.181764f4.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3928.19e84a4b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5472.5f6d4371.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9381.41bc9209.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2981.a5db1477.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5260.af491c6a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4869.22b0b7f3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9401.eda78b17.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/455.28e8816e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7070.088d513c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9279.271a8c16.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1274.7bb0abdc.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5040.2e09768a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6562.050b61a9.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1611.47e9aab1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/185.c7bb091e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/864.ba8623d9.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4351.0369de5f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/82.af559469.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3564.6859c057.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5281.652a7988.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4483.facfc8fb.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5436.bb8d2966.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3043.34648c6a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8363.2f2b9025.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.03d23251.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9397.324a1b7b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4554.d4961f07.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.RightColumnContent.9f13c9e0.chunk.js"></script><script>window.main();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/v652eace1692a40cfa3763df669d7439c1639079717194" integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==" data-cf-beacon='{"rayId":"71173ab02ec94c98","token":"0b5f665943484354a59c39c6833f7078","version":"2021.12.0","si":100}' crossorigin="anonymous"></script>
</body></html>