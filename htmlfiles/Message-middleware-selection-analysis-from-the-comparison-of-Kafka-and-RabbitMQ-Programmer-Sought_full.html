<!DOCTYPE html>
<html>
<head>

<script type="text/javascript" async="true">
(function() {
    var host = 'www.themoneytizer.com';
    var element = document.createElement('script');
    var firstScript = document.getElementsByTagName('script')[0];
    var url = 'https://quantcast.mgr.consensu.org'
        .concat('/choice/', '6Fv0cGNfc_bw8', '/', host, '/choice.js')
    var uspTries = 0;
    var uspTriesLimit = 3;
    element.async = true;
    element.type = 'text/javascript';
    element.src = url;

    firstScript.parentNode.insertBefore(element, firstScript);

    function makeStub() {
        var TCF_LOCATOR_NAME = '__tcfapiLocator';
        var queue = [];
        var win = window;
        var cmpFrame;

        function addFrame() {
            var doc = win.document;
            var otherCMP = !!(win.frames[TCF_LOCATOR_NAME]);

            if (!otherCMP) {
                if (doc.body) {
                    var iframe = doc.createElement('iframe');

                    iframe.style.cssText = 'display:none';
                    iframe.name = TCF_LOCATOR_NAME;
                    doc.body.appendChild(iframe);
                } else {
                    setTimeout(addFrame, 5);
                }
            }
            return !otherCMP;
        }

        function tcfAPIHandler() {
            var gdprApplies;
            var args = arguments;

            if (!args.length) {
                return queue;
            } else if (args[0] === 'setGdprApplies') {
                if (
                    args.length > 3 &&
                    args[2] === 2 &&
                    typeof args[3] === 'boolean'
                ) {
                    gdprApplies = args[3];
                    if (typeof args[2] === 'function') {
                        args[2]('set', true);
                    }
                }
            } else if (args[0] === 'ping') {
                var retr = {
                    gdprApplies: gdprApplies,
                    cmpLoaded: false,
                    cmpStatus: 'stub'
                };

                if (typeof args[2] === 'function') {
                    args[2](retr);
                }
            } else {
                queue.push(args);
            }
        }

        function postMessageEventHandler(event) {
            var msgIsString = typeof event.data === 'string';
            var json = {};

            try {
                if (msgIsString) {
                    json = JSON.parse(event.data);
                } else {
                    json = event.data;
                }
            } catch (ignore) {}

            var payload = json.__tcfapiCall;

            if (payload) {
                window.__tcfapi(
                    payload.command,
                    payload.version,
                    function(retValue, success) {
                        var returnMsg = {
                            __tcfapiReturn: {
                                returnValue: retValue,
                                success: success,
                                callId: payload.callId
                            }
                        };
                        if (msgIsString) {
                            returnMsg = JSON.stringify(returnMsg);
                        }
                        event.source.postMessage(returnMsg, '*');
                    },
                    payload.parameter
                );
            }
        }

        while (win) {
            try {
                if (win.frames[TCF_LOCATOR_NAME]) {
                    cmpFrame = win;
                    break;
                }
            } catch (ignore) {}

            if (win === window.top) {
                break;
            }
            win = win.parent;
        }
        if (!cmpFrame) {
            addFrame();
            win.__tcfapi = tcfAPIHandler;
            win.addEventListener('message', postMessageEventHandler, false);
        }
    };

    if (typeof module !== 'undefined') {
        module.exports = makeStub;
    } else {
        makeStub();
    }

    var uspStubFunction = function() {
        var arg = arguments;
        if (typeof window.__uspapi !== uspStubFunction) {
            setTimeout(function() {
                if (typeof window.__uspapi !== 'undefined') {
                    window.__uspapi.apply(window.__uspapi, arg);
                }
            }, 500);
        }
    };

    var checkIfUspIsReady = function() {
        uspTries++;
        if (window.__uspapi === uspStubFunction && uspTries < uspTriesLimit) {
            console.warn('USP is not accessible');
        } else {
            clearInterval(uspInterval);
        }
    };

    if (typeof window.__uspapi === 'undefined') {
        window.__uspapi = uspStubFunction;
        var uspInterval = setInterval(checkIfUspIsReady, 6000);
    }
})();
</script>

<meta charset="utf-8">
<meta name="keywords" content="Message middleware selection analysis: from the comparison of Kafka and RabbitMQ, Programmer Sought" />
<meta name="description" content="Message middleware selection analysis: from the comparison of Kafka and RabbitMQ, Programmer Sought, the best programmer technical posts sharing site." />
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Message middleware selection analysis: from the comparison of Kafka and RabbitMQ - Programmer Sought</title>
<link href="/assets/css/css.css" rel="stylesheet" type="text/css">
<link href='/assets/css/font-awesome.min.css' rel='stylesheet' />
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="stylesheet" href="/assets/css/viewer.min.css">
<script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
<script>
  window.googletag = window.googletag || {cmd: []};
        googletag.cmd.push(function() {
          var interstitialSlot = googletag.defineOutOfPageSlot('/147246189,22316101559/programmersought.com_interstitial', googletag.enums.OutOfPageFormat.INTERSTITIAL);
          if (interstitialSlot) interstitialSlot.addService(googletag.pubads());
          googletag.pubads().enableSingleRequest();
          googletag.enableServices();
          googletag.display(interstitialSlot);
      });
</script>

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PC2RG39');</script>

</head>
<body>
<nav>
<div class="container">
<div class="website-logo"><h2 style="margin-top:5px;"><span style="color:white;font-weight: bold;">Programmer</span><span style="color:#F4785E;font-weight: bold;display: inline-block;">Sought</span></h2></div>
<div id="menu">
<ul class="toplinks">
<li><a href="https://www.programmersought.com" rel="nofollow" target="_blank">Home</a></li>
<li><a href="/cdn-cgi/l/email-protection#19696b767e6b7874747c6b6a766c7e716d597e7461377a7674" rel="nofollow" target="_blank">Contact Us</a></li>
<li><a href="https://programmersought.com/privacy-policy.html" rel="nofollow" target="_blank">Privacy Policy</a></li>
</ul>
</div>
<a id="menu-toggle" href="#" class=" ">&#9776;</a> </div>
</nav>
<header style="padding:0px;">
<div class="container" style="float:left;">
<form id="searchForm" action="/search" method="post" onsubmit="return validate();">
<div>
<input type="text" name="s" id="s" value="" style="width:300px;" />
<input type="hidden" id="curPage" name="curPage" value="" />
<input type="submit" value="search" style="color:black;width:80px;" />
</div>
</form>
</div>
<div style="clear:both;"></div>
</header>
<div id="topads" style="text-align:center;padding-top:10px;">
<iframe data-id="programmersought.com_980x300_4_DFP" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" width="1" height="1"></iframe>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    (function () {
        var size='970x250|300x250',
            adunit = 'programmersought.com_980x300_4_DFP',
            childNetworkId = '22316101559',
            xmlhttp = new XMLHttpRequest();xmlhttp.onreadystatechange = function(){if(xmlhttp.readyState==4 && xmlhttp.status==200){var es = document.querySelectorAll("[data-id='"+adunit+"']");var e = Array.from(es).filter(function(e) {return !e.hasAttribute("data-rendered")});if(e.length > 0){e.forEach(function(el){var iframe = el.contentWindow.document;iframe.open();iframe.write(xmlhttp.responseText);iframe.close();el.setAttribute('data-rendered', true)})}}};var child=childNetworkId.trim()?','+childNetworkId.trim():'';xmlhttp.open("GET", 'https://pubads.g.doubleclick.net/gampad/adx?iu=/147246189'+child+'/'+adunit+'&sz='+encodeURI(size)+'&t=Placement_type%3Dserving&'+Date.now(), true);xmlhttp.send();})();
</script>
</div>
<section>
<div class="container" style="min-height: 600px;">
<div class="docs-content">
<h3 style="line-height: 30px;word-break: break-all;">
<span>Message middleware selection analysis: from the comparison of Kafka and RabbitMQ</span>
</h3>
<div style="clear:both;"></div>
<div id="rightads0" style="padding-top:5px;padding-bottom:5px;">
<iframe data-id="programmersought.com_750x200_5_DFP" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" width="1" height="1"></iframe>
<script>
    (function () {
        var size='728x90|300x250',
            adunit = 'programmersought.com_750x200_5_DFP',
            childNetworkId = '22316101559',
            xmlhttp = new XMLHttpRequest();xmlhttp.onreadystatechange = function(){if(xmlhttp.readyState==4 && xmlhttp.status==200){var es = document.querySelectorAll("[data-id='"+adunit+"']");var e = Array.from(es).filter(function(e) {return !e.hasAttribute("data-rendered")});if(e.length > 0){e.forEach(function(el){var iframe = el.contentWindow.document;iframe.open();iframe.write(xmlhttp.responseText);iframe.close();el.setAttribute('data-rendered', true)})}}};var child=childNetworkId.trim()?','+childNetworkId.trim():'';xmlhttp.open("GET", 'https://pubads.g.doubleclick.net/gampad/adx?iu=/147246189'+child+'/'+adunit+'&sz='+encodeURI(size)+'&t=Placement_type%3Dserving&'+Date.now(), true);xmlhttp.send();})();
</script>
</div>
<div style="padding:5px 5px 5px 5px;word-wrap: break-word; word-break: normal;max-width: 850px;" id="article_content">
<div id="vdoai">
<div id="vdo_ai_div"></div><script>(function(v,d,o,ai){ai=d.createElement('script');ai.defer=true;ai.async=true;ai.src=v.location.protocol+o;d.head.appendChild(ai);})(window, document, '//a.vdo.ai/core/v-programmersought/vdo.ai.js');</script></div>
<div class="htmledit_views">
<div class="iteye-blog-content-contain" style="font-size:14px;">
<h2 style="font-size:20px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:24px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">I. Introduction</h2>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Message Queuing Middleware (referred to as message middleware) refers to platform-independent data exchange using efficient and reliable messaging mechanism, and distributed system integration based on data communication. By providing a messaging and message queuing model, it can provide application decoupling, elastic scaling, redundant storage, traffic clipping, asynchronous communication, data synchronization, etc. in a distributed environment, as one of the distributed system architectures. Important components have a pivotal position.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">At present, the open source message middleware can be described as dazzling, and there are many familiar to everyone, such as ActiveMQ, RabbitMQ, Kafka, RocketMQ, ZeroMQ and so on. No matter which one you choose, it's a useful place to be handy. After all, it's not tailored for you. Some large factories have accumulated a certain amount of experience in the long-term use process, and the use of the message queue is relatively stable and solidified, or the current message middleware on the market cannot meet their own needs, and also has sufficient energy and manpower to choose from Developed to create a message middleware for yourself. But most companies still don't choose to re-create the wheel, so it's especially important to choose a suitable middleware. Even if it is the former, it will undergo such a selection process before it develops stable and reliable related products.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Introducing message middleware in the overall architecture, it is necessary to consider many factors, such as cost and revenue issues, how to achieve the best cost performance? Although there are many kinds of message middleware, each has its own focus. It is undoubtedly the best way to choose the right one and to avoid weaknesses. If you feel at a loss about this, this article may refer to one or two.</p>
<h2 style="font-size:20px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:24px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Second, a variety of message queues</h2>
<div class="clear" style="border:0px;font-size:0px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">
&nbsp;
</div>
<div class="related_sponsors visible nocontent stacked" style="border:1px solid #dfdfdf;width:315px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<div class="gray_section_related only1 fullWidth f_rvcbox" style="border-width:0px 1px 0px 0px;border-right-style:dotted;border-right-color:#dfdfdf;width:315px;">
<div class="related_editorial sponsored only2" style="border:0px;width:315px;">
<div class="links" style="border:0px;width:311.844px;">
<h3 style="font-size:12px;font-weight:normal;border:0px;clear:both;width:258.828px;color:#222222;line-height:1.2;" title=""><a style="color:#170000;border:0px;font-weight:600;" href="http://www.infoq.com/infoq/url.action?i=17451&amp;t=f" rel="nofollow,noindex" target="_blank">&nbsp;</a></h3>
</div>
</div>
</div>
</div>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">ActiveMQ is an Apache-based, message-based middleware based on the JMS 1.1 specification written in the Java language to provide efficient, scalable, stable, and secure enterprise-class messaging for applications. However, due to historical reasons, the burden is too heavy. At present, there is no more news middleware in the market. The latest architecture is named Apollo, which is called the next generation ActiveMQ. Interested students can understand it.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">RabbitMQ is a messaging middleware for the AMQP protocol implemented in the Erlang language. It originated from the financial system and is used to store and forward messages in distributed systems. RabbitMQ has been developed to the present day and is recognized by more and more people, which is inseparable from its outstanding performance in reliability, usability, scalability and feature richness.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Kafka was originally a distributed, multi-partition, multi-copy, zookeeper-based distributed distributed messaging system developed by LinkedIn using the Scala language and is now donated to the Apache Foundation. It is a high-throughput distributed publish and subscribe messaging system that is widely used for horizontal scalability and high throughput. More and more open source distributed processing systems such as Cloudera, Apache Storm, Spark, Flink, etc. support integration with Kafka.</p>
<div style="border:0px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
&nbsp;
</div>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">RocketMQ is Ali's open source messaging middleware. It has donated an Apache Foundation. It is developed by the Java language and has high throughput, high availability, and is suitable for large-scale distributed system applications. It has undergone double 11 baptism. Strength should not be underestimated.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">ZeroMQ claims to be the fastest message queue in history, based on C language development. ZeroMQ is a message processing queue library that can flexibly scale between multi-threaded, multi-core and host. Although most of the time we are used to classifying it into the message queue family, it is essentially different from the previous ones. ZeroMQ itself is not a message queue server, more like a set of underlying network communication libraries, adding a layer of encapsulation to the original Socket API.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">There are still a lot of message middleware on the market, such as PhexQueue, CMQ, CKafka of Tencent, and NSQ based on Go. Sometimes people like Redis products are also regarded as a kind of message middleware. Of course, they all Very good, but the limitations of this article can not be extremely poor. The following will select RabbitMQ and Kafka two typical message middlewares for analysis, and strive to explain each of the message middleware selection in a fair and equitable position. Key points.</p>
<h2 style="font-size:20px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:24px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Third, the selection of key points</h2>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">To measure whether a message middleware meets the requirements needs to be examined from multiple dimensions, the first is the functional dimension, which directly determines whether you can achieve out of the box to the greatest extent, thereby shortening the project cycle and reducing costs. If the functionality of a message middleware does not meet the desired functionality, then secondary development is required, which increases the technical difficulty, complexity, and project cycle of the project.</p>
<h3 style="font-size:18px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:36px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Functional dimension</h3>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The functional dimension can be divided into multiple sub-dimensions, which can be roughly divided into the following:</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Priority queue</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The priority queue is different from the FIFO queue, and the message with higher priority has the privilege of being preferentially consumed, which can provide different message level guarantees for the downstream. However, this priority also needs to have a premise: if the consumer's consumption speed is greater than the producer's speed, and there is no message accumulation in the message middleware server (generally simply called the Broker), then set the priority for the sent message. There is no substantive meaning, because the producer has just consumed a message and is consumed by the consumer, which is equivalent to at most one message in the broker. For a single message, the priority does not make sense.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Delay queue</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">When you shop online, do you encounter such a prompt: &quot;Not paid within 30 minutes, the order is automatically cancelled&quot;? This is a typical application scenario for a delay queue. The delay queue stores the corresponding delayed message. The so-called &quot;delay message&quot; means that after the message is sent, the consumer does not want to get the message immediately, but waits for a certain time before the consumer can get the message for consumption. Delay queues are generally divided into two types: message-based delays and queue-based delays. Message-based latency refers to setting different delay times for each message, so each time a new message enters the queue, it will be sorted according to the delay time. Of course, this will also have a great impact on performance. Most of the practical applications use queue-based delays, and set queues with different delay levels, such as 5s, 10s, 30s, 1min, 5mins, 10mins, etc., the delay time of messages in each queue is the same, thus eliminating the delay sorting. The performance suffers, and the timeout message can be delivered through a certain scanning strategy (such as timing).</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
 <li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Dead letter queue</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">For some reason, the message cannot be delivered correctly. In order to ensure that the message will not be discarded without any reason, it is generally placed in a queue of a special role, which is generally called a dead letter queue. Corresponding to this is also a concept of &quot;return queue&quot;. Imagine if the consumer has an abnormality during consumption, then this purchase will not be confirmed (Ack), and then the message after the rollback message occurs. Will be placed at the top of the queue, and then continuously processed and rolled back, causing the queue to fall into an infinite loop. In order to solve this problem, a back-off queue can be set for each queue, and the dead-letter queue is a mechanism guarantee for the abnormal processing. In practice, the role of the backoff queue can be played by the dead letter queue and the retry queue.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Retry queue</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The retry queue can be regarded as a fallback queue. Specifically, when the consumer consumes a message, the message is rolled back to the broker to prevent the message from being lost for no reason. Unlike the back-off queue, the retry queue is generally divided into multiple retry levels. Each retry level is also generally set to re-delivery delay. The more retry times, the greater the delivery delay. For example, the first time the message fails to enter the retry queue Q1, the re-delivery delay of Q1 is 5s, and the message is re-delivered after 5s; if the message fails to consume again, it enters the retry queue Q2, and the re-delivery delay of Q2 is 10s, the message is delivered again after 10s. By analogy, the longer the retry is repeated, the longer it takes to re-deliver. For this purpose, you need to set an upper limit, and the number of delivery times will enter the dead letter queue. The retry queue has the same place as the delay queue. It is necessary to set the delay level. The difference between them is that the delay queue action is triggered internally, the retry queue action is triggered by the external consumer; the delay queue acts once, and the retry queue The scope of action will be passed backwards.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Consumption pattern</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The consumption mode is divided into a push mode and a pull mode. Push mode means that the broker actively pushes the message to the consumer, which is better in real time, but requires a certain flow mechanism to ensure that the message pushed by the server does not overwhelm the consumer. The pull mode means that the consumer actively requests the pull (usually timing or quantitative) message from the broker, and the real-time performance is worse than the push mode, but the amount of the pull message can be controlled according to its own processing capability.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Broadcast consumption</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Messages generally have two delivery modes: point-to-point (P2P) mode and publish/subscribe (Pub/Sub) mode. For the peer-to-peer mode, after the message is consumed, it will not be stored in the queue, so the message consumer cannot consume the message that has already been consumed. Although a queue can support multiple consumers, a message can only be consumed by one consumer. The publish-subscribe pattern defines how to publish and subscribe to a content node. This content node is called a topic. The topic can be thought of as an intermediary for messaging. The message publisher posts the message to a topic, while the message subscribers Subscribe to a message from a topic. The topic makes the subscriber of the message and the publisher of the message independent of each other, and the message delivery can be guaranteed without contact. The publish/subscribe mode is used in the one-to-many broadcast of the message. RabbitMQ is a typical peer-to-peer mode, and Kafka is a typical publish-subscribe model. However, RabbitMQ can achieve the effect of broadcast consumption by setting the switch type to achieve the publish and subscribe mode. Kafka can also consume in the form of peer-to-peer. You can completely regard the concept of its consumer group as the concept of queue. . However, in contrast, in Kafka, because of the existence of the message backtracking function, the support for broadcast consumption is stronger than that of RabbitMQ.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Message backtracking</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The general message is processed after the consumption is completed, and the message cannot be consumed anymore. The message backtracking is just the opposite. It means that after the message is completed, the message can be consumed until it is consumed. For the message, the problem often is “message loss”. As for the loss of the message middleware or the loss of the user’s misuse, it is generally difficult to trace. If the message middleware itself has the message backtracking function, The &quot;missing&quot; message can be reproduced by retrospective consumption to find out where the problem is. The back-tracking effect of the message is far more than this. For example, there are index recovery and local cache reconstruction. Some service compensation schemes can also be implemented in a backtracking manner.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Message stacking + persistence</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Traffic clipping is a very important feature of messaging middleware, and this feature actually benefits from its message stacking capabilities. In a sense, if a message middleware does not have the ability to accumulate messages, then it cannot be considered a qualified message middleware. Messages are stacked in both memory and disk stacks. RabbitMQ is a typical memory stack, but this is not absolute. After some conditions are triggered, there will be a page break to page the message in memory to disk (page change will affect the throughput), or use the lazy queue directly The message is directly persisted to disk. Kafka is a typical disk-like stack, with all messages stored on disk. In general, the capacity of a disk is much larger than the capacity of a disk. For a disk-like stack, its stacking capacity is the size of the entire disk. From another perspective, message stacking also provides redundant storage for message middleware. Citing the case of the New York Times, it uses Kafka directly as a storage system.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Message tracking</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">For the trace tracing in a distributed architecture system, you will not be unfamiliar. For message middleware, link tracking of messages (hereinafter referred to as message tracking) is equally important. The most common understanding of message tracking is to know where the message comes from, where it exists, and where it is sent. Based on this function, we can perform link tracking service on the sent or consumed messages, so that the problem can be quickly located and checked.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Message filtering</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Message filtering refers to providing downstream users with messages of a specified category according to established filtering rules. In the case of kafka, it is possible to send different types of messages to different topics, so that message filtering can be implemented in a certain sense, or Kafka can classify messages in the same topic according to partitions. However, message filtering in a more strict sense should be a certain way to filter a given message according to certain filtering rules. Also taking Kafka as an example, message filtering can be done through the ConsumerInterceptor interface provided by the client or the filter function of Kafka Stream.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Multi-tenant</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Also known as multi-tenancy technology, it is a software architecture technology that is mainly used to implement the same system or program components in a multi-user environment, and still ensure the isolation of data between users. RabbitMQ is capable of supporting multi-tenancy technology. Each tenant is represented as a vhost, which is essentially a stand-alone small RabbitMQ server with its own separate queues, switches, and bindings, and it has its own independent permissions. Vhosts, like virtual machines in physical machines, provide a logical separation between instances, allowing data to be securely and confidentially held for different programs. It can distinguish between many clients in the same RabbitMQ and avoid queues. Conflict with naming such as switches.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Multi-protocol support</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Messages are the carrier of information. In order for both producers and consumers to understand the information they carry (producers need to know how to construct messages, consumers need to know how to parse messages), they need to describe the message in a uniform format. This unified format is called a message protocol. A valid message must have some format, and a message without a format is meaningless. The general message level protocols are AMQP, MQTT, STOMP, XMPP, etc. (JMS in the message field is more of a specification than a protocol). The more supported protocols, the wider the scope of application and the more versatile. For example, RabbitMQ can support the MQTT protocol to gain a place in IoT applications. Other message middleware is based on its own proprietary protocol, typically Kafka.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Cross-language support</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">For many companies, there are many programming languages ​​in the technology stack system, such as C/C++, JAVA, Go, PHP, etc. The message middleware itself has the application decoupling feature, if it can further support multi-client language. Then you can expand the performance of this feature. Cross-language support can also reflect the popularity of a message middleware.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">flow control</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The flow control is for the problem that the sender and receiver speeds do not match, and a speed matching service is provided to suppress the transmission rate to adapt the read rate of the receiver application. Common flow control methods include Stop-and-wait, sliding windows, and token buckets.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Message order</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">As the name implies, message ordering means ensuring that messages are in order. A very common application scenario for this function is CDC (Change Data Chapture). Take MySQL as an example. If the order of the binlogs it transmits is wrong, for example, it is originally to add 1 to a piece of data, then multiply by 2 to send the wrong order. After that, it becomes the first multiplied by 2 and then increased by 1, resulting in inconsistent data.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Security Mechanism</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">After Kafka 0.9, the two security mechanisms of identity authentication and access control have been added. Identity authentication means that the client and the server are connected for identity authentication, including connection authentication between the client and the broker, between the Broker and the Broker, and between the Broker and the ZooKeeper. Currently, the authentication mechanism such as SSL and SASL is supported. Permission control refers to the access control of the client's read and write operations, including the control of the message or Kafka cluster operation rights. Permission controls are pluggable and support integration with external authorization services. For RabbitMQ, it also provides security mechanisms for authentication (TLS/SSL, SASL) and access control (read and write operations).</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Message idempotence</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">There are generally three delivery guarantees for ensuring that messages are transmitted between producers and consumers: At most once, at most once, messages may be lost, but never repeated; At least once, at least once, The message will never be lost, but it may be repeated; Exactly once, once accurately, each message will be transmitted once and only once. For most message middlewares, only At most once and At least once are generally provided. For the third type, it is generally difficult to do so, and thus the idempotency of the message is difficult to guarantee.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Kafka introduced idempotence and transactions since version 0.11. Kafka's idempotency refers to the power of a single producer for a single-partition single session, while transactions can guarantee atomic writes to multiple partitions, ie writes to Messages from multiple partitions are either all successful or all rolled back. These two functions add up to allow Kafka to have EOS (Exactly Once Semantic) capabilities.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">However, if we want to consider the global power, we need to consider the upstream and downstream aspects, that is, the related business level. The idempotent processing itself is also an important issue to be considered at the business level. For example, the following consumer level is an example. It is possible that an abnormality occurs after a consumer consumes a message and does not have time to confirm the message. After the recovery, the message that was originally consumed is re-consumed, then this type of message is impossible. There is a message middleware level to guarantee. If you want to ensure the power of the global, you need to introduce more external resources to ensure, such as the order number as a unique identifier, and set a deduplication table downstream.</p>
<ul style="margin-left:10px;border:0px;clear:left;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<li style="margin-left:15px;border:0px;clear:none;"> <p style="border:0px;line-height:1.8;clear:none;width:585px;">Transactional message</p> </li>
</ul>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The transaction itself is a familiar word, and the transaction consists of the entire operation performed between the Begin Transaction and the End Transaction. There are a handful of message middleware that supports transactions, both Kafka and RabbitMQ support, but the transaction between the two refers to the transaction in which the producer has a message, either successfully sent or failed. Message middleware can be used as a means of implementing distributed transactions, but does not itself provide the functionality of a globally distributed transaction.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The following table is a summary comparison and additional explanation of the Kafka and RabbitMQ functions.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;"></p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;"></p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;"></p>
<h3 style="font-size:18px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:36px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">performance</h3>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The functional dimension is an important reference dimension in message middleware selection, but it is not the only dimension. Sometimes performance is more important than function. Moreover, performance and function are often contradictory. Fish and bear's paw can't have both. Kafka will reduce its performance when it opens idempotent and transactional functions. RabbitMQ opens rabbitmq_tracing plugin. It will also greatly affect its performance. The performance of message middleware generally refers to its throughput. Although the advantage of RabbitMQ is greater than that of Kafka in terms of functional dimension, the throughput of Kafka is 1 to 2 orders of magnitude higher than that of RabbitMQ. Generally, the stand-alone QPS of RabbitMQ is at the level of 10,000. Within, Kafka's stand-alone QPS can be maintained at 100,000 or even millions.</p>
<blockquote style="border-color:#e8e8e8;clear:both;width:553px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<p style="border:0px;line-height:1.8;clear:none;width:553px;">The throughput of message middleware is always limited by the hardware level. Take the NIC bandwidth as an example. If the bandwidth of a single NIC is 1 Gbps, if you want to achieve a million-level throughput, the message size must not exceed (1Gb/8)/100W, which is equal to 134B, in other words, if the message body With a size of more than 134B, it is impossible to achieve a million-level throughput. This calculation can also be applied to both memory and disk.</p>
</blockquote>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">As an important indicator of the performance dimension, time delay is often neglected in the field of message middleware, because the requirements of timeliness for the use of message middleware are not very high. If timeliness is required, it can be implemented by RPC. . Message middleware has the ability to accumulate messages. The larger the message stack, the longer the end-to-end delay. At the same time, the delay queue is also a feature of some message middleware. So why pay attention to the delay of message middleware? The message middleware can decouple the system. For a message middleware with low latency, it can allow the upstream producer to return after sending the message quickly, and also allows the consumer to get the message more quickly without accumulating. In this case, the cascading action between the entire upstream and downstream applications can be more efficient. Although it is not recommended to use the message middleware in a time-sensitive scenario, if the message middleware used is excellent in delay, So the performance of the overall system will be a big improvement.</p>
<h3 style="font-size:18px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:36px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Reliability + availability</h3>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Message loss is a common point that must be faced when using message middleware. The reliability of the message behind it is also a key factor in measuring the quality of message middleware. Especially in the field of financial payments, message reliability is particularly important. However, when it comes to reliability, it is necessary to talk about usability. Pay attention to the difference between the two. The reliability of message middleware refers to the degree of guarantee that the message is not lost. The availability of message middleware refers to the percentage of time for trouble-free operation. , usually measured in a few nines.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">From a narrower perspective, the distributed system architecture is the application implementation of the coherence protocol theory, and can be traced back to the consistency protocol behind the message middleware for message reliability and availability. For Kafka, it uses a PacificA-like coherency protocol that guarantees synchronization between multiple replicas via ISR (In-Sync-Replica) and supports strong consistency semantics (implemented by acks). The corresponding RabbitMQ implements multiple copies and strong consistency semantics through a mirrored circular queue. Multiple copies ensure that the slave can be promoted as a new master after the master node downtime and continue to provide services to ensure availability. Kafka was originally designed for log processing, leaving people with a bad impression of data reliability requirements, but with the upgrade of the version, its reliability has been greatly enhanced, please refer to KIP101 for details. At present, most of the use of RabbitMQ in the financial payment field, and Kafka use in log processing, big data, etc., with the continuous improvement of RabbitMQ performance and the further enhancement of Kafka reliability, I believe that each other can not be good at the past. The field has a share.</p>
<blockquote style="border-color:#e8e8e8;clear:both;width:553px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;line-height:25.2px;">
<p style="border:0px;line-height:1.8;clear:none;width:553px;">Synchronous brushing is an effective way to enhance the reliability of a component. Message middleware is no exception. Kafka and RabbitMQ can support synchronous brushing, but I have some doubts about synchronous brushing: in most cases, one component Reliability should not be guaranteed by the extremely lossy performance of the synchronous brush, but by a multi-copy mechanism.</p>
</blockquote>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">One aspect that I want to mention here is the scalability. Here I narrowly narrow this into the dimension of usability. The extension of message middleware can enhance the usability and scope of its use. For example, the aforementioned RabbitMQ supports multiple messages. Protocol, this is an extension implementation based on its plugin. Also from the perspective of cluster deployment, thanks to Kafka's horizontal scalability, it can basically reach the level of linear capacity improvement. In the introduction to LinkedIn, there are mentioned Kafka clusters with more than one thousand devices deployed.</p>
<h3 style="font-size:18px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:36px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Operation and maintenance management</h3>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">In the process of using the message middleware, various exceptions will inevitably occur. There are clients and servers, so how to monitor and repair them in a timely and effective manner. Business line traffic has peaks and valleys, especially in the e-commerce sector. So how do you conduct effective capacity assessment before, especially during the promotion period? There are endless activities such as kicking power and network cables being dug. How to effectively do more live and work? These are inseparable from the derivative of the message middleware - operation and maintenance management.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Operation and maintenance management can also be further subdivided, such as: application, audit, monitoring, alarm, management, disaster recovery, deployment, etc.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">The application and review are well understood. The resources are controlled and controlled at the source. It can effectively correct the application specifications of the application. The distribution and monitoring can also do the traffic statistics and traffic assessment. The general application, audit and the internal system of the company are more compatible. Large, not suitable for use with open source products.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Monitoring and alarming are also well understood. The monitoring of the use of message middleware can provide the benchmark data for the system, and can also cooperate with the alarm when the abnormality is detected, so that the operation and maintenance and the rapid intervention of the developer. In addition to general monitoring items (such as hardware, GC, etc.), message middleware also needs to pay attention to end-to-end delay, message auditing, message stacking and so on. For RabbitMQ, the most orthodox monitoring management tool is the rabbitmq_management plugin, but there are many excellent products in the community such as AppDynamics, Collectd, DataDog, Ganglia, Munin, Nagios, New Relic, Prometheus, Zenoss. Kafka is also in no way in this respect, such as Kafka Manager, Kafka Monitor, Kafka Offset Monitor, Burrow, Chaperone, Confluent Control Center, etc., especially Cruise can also provide automatic operation and maintenance functions.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Whether it is expansion, downgrade, version upgrade, cluster node deployment, or fault handling, management tools are indispensable. A well-equipped management toolset can do more with less. The fault can be large or small, generally it is some application abnormality, or it can be a single machine fault such as machine power failure, network abnormality, disk damage, etc., and multiple copies in the single room of the fault are sufficient. If it is a machine room failure, it will involve remote disaster recovery. The key point is how to effectively copy data. For Kafka, you can refer to MirrorMarker, uReplicator, etc., and RabbitMQ can refer to Federation and Shovel.</p>
<h3 style="font-size:18px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:36px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Community strength and ecological development</h3>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">For the current popular programming languages, such as Java and Python, if you encounter some exceptions during use, you can basically solve them with the help of search engines, because the more people use a product, the pits you stepped on. The more, the more solutions there are. The same applies to message middleware. If you choose a kind of &quot;uncommon&quot; message middleware, it may be handy in some aspects, but the version is slow to update, and it is difficult to get support from the community and it is getting stuck. On the contrary; if you choose a &quot;popular&quot; message middleware, it is more powerful, not only can quickly make up for the previous deficiencies, but also can adapt to the rapid development of technology to change some new features, so that you can &quot;Stand on the shoulders of giants.&quot; In the dimension of operation and maintenance management, we mentioned that both Kafka and RabbitMQ have a series of open source monitoring and management products, which are benefited from the rapid development of their communities and ecology.</p>
<h2 style="font-size:20px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:24px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Fourth, the discussion of the misunderstanding of message middleware selection</h2>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Before asking for message middleware, you can ask yourself a question: Do you really need a message middleware? After you have figured out this problem, you can continue to ask yourself a question: Do you need to maintain a set of message middleware yourself? In order to save costs, many start-up companies choose to directly purchase cloud services related to message middleware. They only need to pay attention to sending and receiving messages, and the rest can be outsourced.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Many people have a self-study impulse when facing message middleware. You can make a simple wrapper around ArrayBlockingQueue in Java. You can also form a message middleware based on the underlying storage encapsulation of files, databases, Redis and so on. As a basic component, the message middleware is not as simple as it is supposed to be. It also needs a set of products to manage the whole ecosystem. Self-research will also have problems with handover. If the documents are incomplete and the operation is not standardized, it will bring a nightmare experience to the newcomers. Is it really necessary to have self-study? If it is not the oppression of KPI, you can consider these two questions first: 1. Is the current message middleware on the market really unable to meet the current business needs? 2. Does the team have sufficient capacity, manpower, financial resources, and energy to support self-study?</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Many people refer to many comparative articles on the Internet when they are making message middleware selections, but their professionalism, rigor, and political positions are still to be verified. They need to be examined with suspicion. For example, some articles will directly define a message middleware without any qualifications and scenarios. Some articles do not specify the message middleware version and test environment for functional and performance comparison analysis. Stubborn.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Message middleware is like a pony crossing the river. It is most important to choose the right one. This needs to fit your own business needs. The technology serves the business. Generally, it can be based on the six dimensions of functions and performance mentioned in the previous section. One is for screening. The deeper choice is whether you can master the soul. The author glimps: RabbitMQ lies in routing, and Kafka lies in streaming, knowing that it is especially important for you to choose the right message middleware for the right medicine.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Message middleware selection should not blindly pursue performance or function, performance can be optimized, and functions can be developed twice. If you want to make a choice between function and performance, then the performance is preferred, because in general, the space for performance optimization has no room for functional expansion. For long-term development, however, ecology is more important than performance and function.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Many times, there is a misunderstanding about reliability: to find a product to ensure the absolute reliability of the message, unfortunately there is no absolute thing in the world, can only say that it is as perfect as possible. To ensure the reliability of the message as much as possible, it is not only relying on the message middleware itself, but also relying on the upstream and downstream. It is necessary to ensure the reliability of the RabbitMQ message from the three dimensions of the production side, the server side and the consumer side. Analysis This article analyzes the reliability of RabbitMQ from these three dimensions.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Message middleware selection also has a consideration standard is to fit the team's own technology stack system as much as possible, although there is no crappy message middleware only crappy programmers, but let a C stack team go deep into PhxQueue is better than deep It's much easier to dig Kafka written by Scala.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Message middleware avenue to Jane: one for one, one for consumption, no best news middleware, only the most appropriate message middleware.</p>
<h2 style="font-size:20px;font-weight:normal;border:0px;clear:none;width:610px;color:#222222;line-height:24px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">about the author</h2>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Zhu Zhonghua is mainly engaged in the research and development of news middleware. He once wrote &quot;RabbitMQ Practical Guide&quot;.</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">&nbsp;</p>
<p style="border:0px;line-height:25.2px;clear:none;width:610px;font-family:Helvetica, 'Open Sans', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', ' ', STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif;">Original address: http://www.infoq.com/cn/articles/kafka-vs-rabbitmq?utm_source=infoq&amp;utm_medium=popular_widget&amp;utm_campaign=popular_content_list&amp;utm_content=homepage</p>
</div>
</div><div id="doreport" style="float:right;font-size:15px;padding-top:15px;font-weight: bold;">
<a href="/cdn-cgi/l/email-protection#6d1d1f020a1f0c0000081f1e02180a05192d0a0015430e0200521e180f07080e19502e021d141f040a05194d2e02001d010c0403194b0f020914502c1f19040e01084d2429574d5f5d5b5d5f5f5f5a5854" title="Copyright Complaint">Copyright Complaint</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="/cdn-cgi/l/email-protection#4e3e3c21293c2f23232b3c3d213b29263a0e292336602d2123713d3b2c242b2d3a731d3e2f236e1c2b3e213c3a682c212a37730f3c3a272d222b6e070a746e7c7e787e7c7c7c797b77" title="Spam Report">Spam Report</a>
</div>
<div style="clear:both;"></div>
<div id="rightads1" style="margin-top:15px;margin-bottom:10px;">
<div id="s-programmersought"></div><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(v,d,o,ai){ai=d.createElement('script');ai.defer=true;ai.async=true;ai.src=v.location.protocol+o;d.head.appendChild(ai);})(window, document, '//a.vdo.ai/core/s-programmersought/vdo.ai.js');</script></div>
</div>
<div style="clear:both;"></div>
<div id="rightads119" style="text-align:center;width:100%;">
<iframe data-id="programmersought.com_728x90_3_DFP" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" width="1" height="1"></iframe>
<script>
    (function () {
        var size='728x90|300x250',
            adunit = 'programmersought.com_728x90_3_DFP',
            childNetworkId = '22316101559',
            xmlhttp = new XMLHttpRequest();xmlhttp.onreadystatechange = function(){if(xmlhttp.readyState==4 && xmlhttp.status==200){var es = document.querySelectorAll("[data-id='"+adunit+"']");var e = Array.from(es).filter(function(e) {return !e.hasAttribute("data-rendered")});if(e.length > 0){e.forEach(function(el){var iframe = el.contentWindow.document;iframe.open();iframe.write(xmlhttp.responseText);iframe.close();el.setAttribute('data-rendered', true)})}}};var child=childNetworkId.trim()?','+childNetworkId.trim():'';xmlhttp.open("GET", 'https://pubads.g.doubleclick.net/gampad/adx?iu=/147246189'+child+'/'+adunit+'&sz='+encodeURI(size)+'&t=Placement_type%3Dserving&'+Date.now(), true);xmlhttp.send();})();
</script>
</div>
<h3>Intelligent Recommendation</h3>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/67857918077/"><img style="width:172px;height:120px;" src="/thumbs/161/381ba250377aeab29c7e9660b5c511f9.png">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/67857918077/" rel="bookmark" title="Message middleware selection comparison">Message middleware selection comparison</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">Common news queue introduction This section mainly introduces the main features, advantages, disadvantages of four commonly used messages (Rabbitmq / Activemq / Rocketmq / Kafka). 1 RabbitMQ Rabbitmq ...</p>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/17453433611/"><img style="width:172px;height:120px;" src="/thumbs/3/a2c1aa2b458def037e185e08c36f63ab.JPEG">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/17453433611/" rel="bookmark" title="Selection of message queue middleware RabbitMQ RocketMQ ActiveMQ Kafka">Selection of message queue middleware RabbitMQ RocketMQ ActiveMQ Kafka</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">Selection of message queue middleware RabbitMQ RocketMQ ActiveMQ Kafka Copyright statement: This article is an original article of CSDN blogger &quot;Xiaochao Blog&quot;, which follows the CC 4.0 BY-S...</p>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/38047371607/"><img style="width:172px;height:120px;" src="/thumbs/787/867d8900e7ca52f08b797997058e2de3.png">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/38047371607/" rel="bookmark" title="RabbitMQ and Kafka selection comparison">RabbitMQ and Kafka selection comparison</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">background This company is a .NET project. There are relatively few MQ options in .NET. The main ones are Kafka and RabbitMQ. I have used RabbitMQ for many years. I can't ignore the recent Kafka adver...</p>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/29847396283/"><img style="width:172px;height:120px;" src="/thumbs/349/4705bdacbbd88c438dc14232016ce775.png">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/29847396283/" rel="bookmark" title="Explain in detail the technical selection of message middleware and its application scenarios and common message middleware (RabbitMQ, Kafka, RocketMQ, ActiveMQ)">Explain in detail the technical selection of message middleware and its application scenarios and common message middleware (RabbitMQ, Kafka, RocketMQ, ActiveMQ)</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">Article Directory Introduction to messaging middleware Common concepts news Middleware message queue Message middleware The background of message middleware Features of message queue Common protocols ...</p>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/53605784672/"><img style="width:172px;height:120px;" src="/thumbs/875/0c36bb5d53221d99d90b5ff7afd4da4b.png">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/53605784672/" rel="bookmark" title="MQ (message queue framework) selection comparison: ActiveMQ, RabbitMQ, RocketMQ, Kafka">MQ (message queue framework) selection comparison: ActiveMQ, RabbitMQ, RocketMQ, Kafka</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">Market usage (background) For small and medium software companies, RabbitMQ is recommended. On the one hand, the erlang language is inherently highly concurrent, and its management interface is very c...</p>
</div>
</div>
</div>
</div>
</div>
<div style="clear:both;"></div>
<div id="rightads2" style="width:100%;height:90px;" class="adsloading">
<div id="30785-1"><script src="//ads.themoneytizer.com/s/gen.js?type=1"></script><script src="//ads.themoneytizer.com/s/requestform.js?siteId=30785&formatId=1"></script></div>
</div>
<div id="adplus-336" style="text-align:center;padding-top:10px;">
</div>
<h3>More Recommendation</h3>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/7425777893/"><img style="width:172px;height:120px;" src="/thumbs/856/762d30e393f76fd1c661aed9dda75758.png">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/7425777893/" rel="bookmark" title="Message middleware selection analysis">Message middleware selection analysis</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">Why use a message queue? Decoupling, asynchronous, peak clipping In fact, this topic is also a question that the interviewer often asks. Ask you what usage scenarios are in the message queue, and then...</p>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/433212290/"><img style="width:172px;height:120px;" src="/thumbs/797/54242775092a27ef1631e03a6b141c1d.png">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/433212290/" rel="bookmark" title="Comparison of message middleware such as Kafka, RabbitMQ, RocketMQ, etc. - message delivery performance and difference">Comparison of message middleware such as Kafka, RabbitMQ, RocketMQ, etc. - message delivery performance and difference</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">original:http://jm.taobao.org/2016/04/01/kafka-vs-rabbitmq-vs-rocketmq-message-send-performance/?utm_source=tuicool&amp;utm_medium=referral In distributed systems, we use message middleware extensivel...</p>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/65503868003/"><img style="width:172px;height:120px;" src="/thumbs/797/54242775092a27ef1631e03a6b141c1d.png">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/65503868003/" rel="bookmark" title="Transfer Kafka, RabbitMQ, RocketMQ and other message middleware comparison-message sending performance and advantages">Transfer Kafka, RabbitMQ, RocketMQ and other message middleware comparison-message sending performance and advantages</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">Comparison of message middleware such as Kafka, RabbitMQ, RocketMQ-message sending performance and advantages introduction In distributed systems, we widely use message middleware to exchange data bet...</p>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/37865808868/"><img style="width:172px;height:120px;" src="/thumbs/61/89c371a545fd2796f1e1d981487ec0fd.png">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/37865808868/" rel="bookmark" title="Selection comparison-Kafka VS RabbitMQ">Selection comparison-Kafka VS RabbitMQ</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">What is RabbitMQ General purpose message broker, based around message queues, designed with a smart broker / passive consumer model Why RabbitMQ Support provided by multiple languages, and a rich plug...</p>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div style="padding-top:6px;padding-bottom:6px;">
<div class="loop-wrap clearfix">
<div class="loop-thumb">
<a href="/article/34004220987/"><img style="width:172px;height:120px;" src="/thumbs/385/fb5f2a988b20b2c15cb4b6c6125b9891.png">
</a>
</div>
<header class="loop-data" style="padding:0;display:block;text-align: left;width: auto;">
<h3 style="margin-top:0px;border-bottom-style: none;padding-bottom: 0px;margin-bottom: 0px;overflow:hidden;line-height:30px;">
<a href="/article/34004220987/" rel="bookmark" title="Message queue Kafka and Rabbitmq comparison">Message queue Kafka and Rabbitmq comparison</a>
</h3>
</header>
<div class="mh-excerpt">
<p style="line-height:25px;">Different message middleware have different adaptation scenarios. For Kafka and Rabbitmq, the following function points can be divided under different scenarios: 1. Priority queue: For messages that e...</p>
</div>
</div>
</div>
</div>
</div>
<div id="rightads3" style="width:100%;height:90px;" class="adsloading">
<div id="30785-28"><script src="//ads.themoneytizer.com/s/gen.js?type=28"></script><script src="//ads.themoneytizer.com/s/requestform.js?siteId=30785&formatId=28"></script></div>
</div>
<div style="clear:both;"></div>
</div>
<ul class="docs-nav" id="menu-left">
<div id="lefttopads" style="width:320px;text-align:center;padding-bottom:10px;">
<iframe data-id="programmersought.com_300x250_1_DFP" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" width="1" height="1"></iframe>
<script>
    (function () {
        var size='300x250',
            adunit = 'programmersought.com_300x250_1_DFP',
            childNetworkId = '22316101559',
            xmlhttp = new XMLHttpRequest();xmlhttp.onreadystatechange = function(){if(xmlhttp.readyState==4 && xmlhttp.status==200){var es = document.querySelectorAll("[data-id='"+adunit+"']");var e = Array.from(es).filter(function(e) {return !e.hasAttribute("data-rendered")});if(e.length > 0){e.forEach(function(el){var iframe = el.contentWindow.document;iframe.open();iframe.write(xmlhttp.responseText);iframe.close();el.setAttribute('data-rendered', true)})}}};var child=childNetworkId.trim()?','+childNetworkId.trim():'';xmlhttp.open("GET", 'https://pubads.g.doubleclick.net/gampad/adx?iu=/147246189'+child+'/'+adunit+'&sz='+encodeURI(size)+'&t=Placement_type%3Dserving&'+Date.now(), true);xmlhttp.send();})();
</script>
</div>
<li style="font-weight: bold;font-size: 20px;"><strong>Related Posts</strong></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/26161038487/" title="Message Middleware Selection Analysis - From the comparison of Kafka and RabbitMQ">Message Middleware Selection Analysis - From the comparison of Kafka and RabbitMQ</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/81521449501/" title="Message middleware selection analysis: from the comparison of Kafka and RabbitMQ">Message middleware selection analysis: from the comparison of Kafka and RabbitMQ</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/46611607829/" title="Analysis and comparison of message middleware (RabbitMq, Kafka)">Analysis and comparison of message middleware (RabbitMq, Kafka)</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/47801384405/" title="Kafka, RabbitMQ, RocketMQ message middleware comparison - message delivery performance - transferred from Ali middleware">Kafka, RabbitMQ, RocketMQ message middleware comparison - message delivery performance - transferred from Ali middleware</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/51014528/" title="Comparison of message middleware such as Kafka, RabbitMQ, RocketMQ">Comparison of message middleware such as Kafka, RabbitMQ, RocketMQ</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/51821507584/" title="Message middleware (ActiveMQ RabbitMQ KafKa comparison)">Message middleware (ActiveMQ RabbitMQ KafKa comparison)</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/8343355372/" title="Message Queuing MQ Selection - Kafka, RabbitMQ Comparison">Message Queuing MQ Selection - Kafka, RabbitMQ Comparison</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/7332192234/" title="Comparison of message middleware such as Kafka, RabbitMQ, RocketMQ - message delivery performance and advantages">Comparison of message middleware such as Kafka, RabbitMQ, RocketMQ - message delivery performance and advantages</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/99774514302/" title="Comparison of Kafka, RabbitMQ, RocketMQ message middleware | Message sending performance">Comparison of Kafka, RabbitMQ, RocketMQ message middleware | Message sending performance</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/45214636363/" title="Comparison of message middleware such as Kafka, RabbitMQ, RocketMQ-message sending performance and advantages">Comparison of message middleware such as Kafka, RabbitMQ, RocketMQ-message sending performance and advantages</a></li>
<div style="padding-bottom:10px;"></div>
<div style="width:320px;height:250px;background-color: white;" id="leftads1" class="adsloading">
<div id="30785-2"><script src="//ads.themoneytizer.com/s/gen.js?type=2"></script><script src="//ads.themoneytizer.com/s/requestform.js?siteId=30785&formatId=2"></script></div>
</div>
<div id="adplus-300-600" style="text-align:center;padding-top:10px;padding-bottom:10px;">
</div>
<li style="font-weight: bold;font-size: 20px;"><strong>Popular Posts</strong></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/185510166454/" title="Several ways of eS6 export">Several ways of eS6 export</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/57121105615/" title="Introduction to Spring's three basic components">Introduction to Spring's three basic components</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/66182540999/" title="form an encrypted form the background foreground js java">form an encrypted form the background foreground js java</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/90397142428/" title="Spring framework learning three (type data injection)">Spring framework learning three (type data injection)</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/50994222883/" title="spring-datesource.xml configuration, spring integration mybatis">spring-datesource.xml configuration, spring integration mybatis</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/76467945282/" title="Leetcode 592. Score Adjusting C ++">Leetcode 592. Score Adjusting C ++</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/6711448747/" title="LeetCode2  Add Two Numbers">LeetCode2 Add Two Numbers</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/90132310096/" title="Introduction to database integrity [Chapter] mind mapping database system">Introduction to database integrity [Chapter] mind mapping database system</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/79783526753/" title="ResNet101V2 network structure">ResNet101V2 network structure</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/3257319512/" title="[Minimum path coverage]hdoj 3335: Divisibility">[Minimum path coverage]hdoj 3335: Divisibility</a></li>
<div style="padding-bottom:10px;"></div>
<div style="width:320px;height:615px;background-color: white;" id="leftads2" class="adsloading">
<div id="30785-3"><script src="//ads.themoneytizer.com/s/gen.js?type=3"></script><script src="//ads.themoneytizer.com/s/requestform.js?siteId=30785&formatId=3"></script></div>
</div>
<div id="adplus-300-250" style="text-align:center;padding-top:10px;padding-bottom:10px;">
</div>
<li style="font-weight: bold;font-size: 20px;"><strong>Recommended Posts</strong></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/15028925778/" title="Solve Selenium.common.Exceptions.webdriveRexception: Message: Unknown Error: Cannot Find Chrome Binary">Solve Selenium.common.Exceptions.webdriveRexception: Message: Unknown Error: Cannot Find Chrome Binary</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/67479719811/" title="JS references text information in the outermost JS">JS references text information in the outermost JS</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/20765174044/" title="The realization of Window, WindowManager and floating frame video playback in Android">The realization of Window, WindowManager and floating frame video playback in Android</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/81569292108/" title="Design Mode - Component mode">Design Mode - Component mode</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/256110291596/" title="Java foundation (20) (thread pool, waiting wake-up mechanism, Voliate keyword, single case design pattern " lazy mode" "Hungry Mode")">Java foundation (20) (thread pool, waiting wake-up mechanism, Voliate keyword, single case design pattern "lazy mode" "Hungry Mode")</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/91732187827/" title="Apache common interview">Apache common interview</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/17767513389/" title="leetcode209. The smallest length sub-array/double pointer, prefix sum, dichotomy">leetcode209. The smallest length sub-array/double pointer, prefix sum, dichotomy</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/16855396432/" title="[0CTF 2016]piapiapia">[0CTF 2016]piapiapia</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/13905410737/" title="Java string interview questions and answers">Java string interview questions and answers</a></li>
<li style="list-style-type: circle;color:#F4785E;word-wrap:break-word;"><a href="/article/465926060/" title="Mina develops an example of the udp protocol">Mina develops an example of the udp protocol</a></li>
<div style="padding-bottom:10px;"></div>
<div style="width:320px;height:250px;background-color: white;" id="leftads3" class="adsloading">
<div id="30785-19"><script src="//ads.themoneytizer.com/s/gen.js?type=19"></script><script src="//ads.themoneytizer.com/s/requestform.js?siteId=30785&formatId=19"></script></div>
</div>
<div style="padding-bottom:10px;"></div>
<li style="font-weight: bold;font-size: 20px;"><strong>Related Tags</strong></li>
<a href='/tag/MQ/' title='MQ'>MQ</a><a href='/tag/Message+middleware/' title='Message middleware'>Message middleware</a><a href='/tag/%23+message+queue/' title='# message queue'># message queue</a><a href='/tag/message+queue/' title='message queue'>message queue</a><a href='/tag/rabbitmq/' title='rabbitmq'>rabbitmq</a><a href='/tag/rocketmq/' title='rocketmq'>rocketmq</a><a href='/tag/activemq/' title='activemq'>activemq</a><a href='/tag/kafka/' title='kafka'>kafka</a><a href='/tag/Open+source+framework/' title='Open source framework'>Open source framework</a><a href='/tag/RabbitMQ/' title='RabbitMQ'>RabbitMQ</a><div id="leftbottomads" style="width:320px;text-align:center;padding-top:10px;padding-bottom:10px;">
<iframe data-id="programmersought.com_300x600_2_DFP" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" width="1" height="1"></iframe>
<script>
    (function () {
        var size='300x600|300x250',
            adunit = 'programmersought.com_300x600_2_DFP',
            childNetworkId = '22316101559',
            xmlhttp = new XMLHttpRequest();xmlhttp.onreadystatechange = function(){if(xmlhttp.readyState==4 && xmlhttp.status==200){var es = document.querySelectorAll("[data-id='"+adunit+"']");var e = Array.from(es).filter(function(e) {return !e.hasAttribute("data-rendered")});if(e.length > 0){e.forEach(function(el){var iframe = el.contentWindow.document;iframe.open();iframe.write(xmlhttp.responseText);iframe.close();el.setAttribute('data-rendered', true)})}}};var child=childNetworkId.trim()?','+childNetworkId.trim():'';xmlhttp.open("GET", 'https://pubads.g.doubleclick.net/gampad/adx?iu=/147246189'+child+'/'+adunit+'&sz='+encodeURI(size)+'&t=Placement_type%3Dserving&'+Date.now(), true);xmlhttp.send();})();
</script>
</div>
</ul>
</div>
</section>
<section class="vibrant centered">
<div class="container">
<h4> Copyright&nbsp;&nbsp;<a href="/cdn-cgi/l/email-protection#96e6e4f9f1e4f7fbfbf3e4e5f9e3f1fee2d6f1fbeeb8f5f9fb" rel="nofollow" target="_blank">DMCA</a> &copy; 2018-2022 - All Rights Reserved - <a href="https://www.programmersought.com" style="color:white;">www.programmersought.com</a>&nbsp;&nbsp;<a href="https://programmersought.com/user-notice.html" rel="nofollow" target="_blank">User Notice</a> </h4>
</div>
</section>
<a class="totop" href="#">Top</a>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/layout.js"></script>
<script src="/assets/js/jquery.localscroll-1.2.7.js" type="text/javascript"></script>
<script src="/assets/js/jquery.scrollTo-1.4.3.1.js" type="text/javascript"></script>
<script src="/assets/js/top.js" type="text/javascript"></script>
<script src="/assets/js/viewer.min.js"></script>
<script>
var viewer = new Viewer(document.getElementById('article_content'));
</script>
<script src="/assets/js/bottom.js"></script>

<script type="text/javascript">
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(80623051, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/80623051" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

</body>
</html>
