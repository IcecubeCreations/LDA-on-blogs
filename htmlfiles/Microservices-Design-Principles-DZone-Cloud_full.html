
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="keywords" content="microservice, Design, agile, SOA, Software development, Architecture, application, Data integrity, cloud">

  <meta property="og:description" content="">
  <meta property="og:site_name" content="dzone.com">
  <meta property="og:title" content="Microservices Design Principles - DZone Cloud">
  <meta property="og:url" content="https://dzone.com/articles/microservices-design-principles">
  <meta property="og:image" content="https://dz2cdn4.dzone.com/storage/article-thumb/29255-thumb.jpg">
  <meta property="og:type" content="article">

  <meta name="twitter:site" content="@DZoneInc">
  <meta name="twitter:image" content="https://dz2cdn4.dzone.com/storage/article-thumb/29255-thumb.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:description" content="">
  <meta name="twitter:title" content="Microservices Design Principles - DZone Cloud">

  <meta name="referrer" content="origin-when-cross-origin">
  <meta name="google-site-verification" content="kndbhxcupfEqWmZclhCpB6vlgOs7QSmx2UHAGGnP2mA">
  <meta name="df-verify" content="df0d76632b4543">

  <link rel="icon" type="image/x-icon" href="https://dz2cdn4.dzone.com/themes/dz20/images/favicon.png">
  <link rel="image_src" href="https://dz2cdn4.dzone.com/storage/article-thumb/29255-thumb.jpg">
  <link rel="canonical" href="https://dzone.com/articles/microservices-design-principles">

  <title>Microservices Design Principles - DZone Cloud</title>

  <link rel="preload" href="https://fonts.dzone.com/themes/dz20/font/fontello.woff?11773374" as="font" type="font/woff" crossorigin="anonymous">

  <link rel="stylesheet" media="all" href="https://dz2cdn4.dzone.com/themes/dz20/ftl/icons.css">
  <link rel="stylesheet" media="all" href="https://dz2cdn4.dzone.com/themes/dz20/lib/static/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" media="all" href="https://dz2cdn4.dzone.com/themes/dz20/ftl/article/global.css">
  <link rel="stylesheet" media="all" href="https://dz2cdn4.dzone.com/themes/dz20/ftl/header/styles.css">
</head>
<body>
<div id="ftl-header">
  <div class="container-fluid header">
    <div class="row">
      <div class="col-md-12" style="padding: 0;">
        <div class="header-top">
          <div class="header-container">
            <div class="pull-left logo-container">
              <div class="logo">
                <a class="inner" href="/">
                  <picture>
                    <source srcset="https://dz2cdn4.dzone.com/themes/dz20/images/dz_logo_2021_cropped.webp" type="image/webp">
                    <source srcset="https://dz2cdn4.dzone.com/themes/dz20/images/dz_logo_2021_cropped.png" type="image/png">
                    <img src="https://dz2cdn4.dzone.com/themes/dz20/images/dz_logo_2021_cropped.png" width="160" height="52" alt="DZone">
                  </picture>
                </a>
              </div>

                <div class="active-portal"><a href="/cloud-computing-tutorials-tools-news">Cloud Zone</a></div>
            </div>

            <div class="pull-right login-and-search">
              <div id="authenticated-block" class="logged-in">
                <div class="welcome-back">Thanks for visiting DZone today,</div>
                <div id="user-header" class="user-info">
                  <button class="user-avatar">
                    <span id="header-username" class="username"></span>
                    <img id="header-avatar" src="" alt="user avatar">
                  </button>
                  <div id="user-dropdown" class="browse-user-menu">
                    <div class="user-content">
                      <a id="header-user-plug" href="#" class="user-description"></a>
                      <a id="header-user-edit" href="#" class="edit-profile">Edit Profile</a>
                    </div>
                    <ul class="user-actions">
                      <li id="first-user-action"><a id="header-dropdown-manage-email" href="#">Manage Email Subscriptions</a></li>
                      <li>
                        <a href="/articles/how-to-submit-a-post-to-dzone?utm_source=DZone&utm_medium=user_dropdown&utm_campaign=how_to_post">
                          How to Post to DZone
                        </a>
                      </li>
                      <li>
                        <a href="/articles/dzones-article-submission-guidelines">
                          Article Submission Guidelines
                        </a>
                      </li>
                    </ul>
                    <div class="bottom">
                      <a href="/users/logout.html" class="sign-out">Sign Out</a>
                      <a id="dropdown-view-profile" href="#" class="view-profile">View Profile</a>
                    </div>
                  </div>
                </div>

                <div class="post-content">
                  <button id="post-button" class="post-content--button">
                    <span class="post-class">Post</span>
                    <i class="icon-plus"></i>
                  </button>

                  <div id="post-menu" class="posting-links">
                    <div class="posting-links-menu">
                      <ul>
                        <li>
                          <img src="/themes/dz20/images/dz-postarticle.svg">
                          <a href="/content/article/post.html">Post an Article</a>
                        </li>
                        <li>
                          <a id="drafts-link" href="#">Manage My Drafts</a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <div id="unauthenticated-block">
                <div class="dz-intro">Over 2 million developers have joined DZone.</div>
                <div class="mobile-invisible sign-in-join">
                  <a href="/users/login.html">Log In</a>
                  <span class="dz-intro-span">/</span>
                  <a href="/static/registration.html">Join</a>
                </div>
                <a class="join-icon" href="/users/login.html"><i class="icon-user"></i></a>
              </div>
              <div class="headerSearch">
                <a class="icon-search dropdown-toggle" href="/search"></a>
              </div>
            </div>
          </div>
        </div>

        <div class="header-bottom">


          <ul class="portals header-container scrollable-ul">
            <li>
              <a href="/refcardz" id="header-refcardz">
                <em>Refcardz</em>
              </a>
            </li>
            <li>
              <a href="/trendreports" id="header-research">
                <em>Trend Reports</em>
              </a>
            </li>
            <li>
              <a href="/webinars" id="header-webinars">
                <em>Webinars</em>
              </a>
            </li>
            <li class="last-portal-link">
              <a href="#" id="header-portals">
                <em>
                  Zones
                  <span id="zone-arrow" class="collapsible-toggle">
                    <i class="icon-angle-down"></i>
                    <i class="icon-angle-up"></i>
                  </span>
                </em>
              </a>
            </li>

            <li class="separator" aria-hidden="true" style="color: #d9dcdd;">|</li>
            <li id="portal-list" class="portal-topics">
              <ul>
                  <li>
                    <a href="/agile-methodology-training-tools-news" id="header-2">Agile</a>
                  </li>
                  <li>
                    <a href="/artificial-intelligence-tutorials-tools-news" id="header-4001">AI</a>
                  </li>
                  <li>
                    <a href="/big-data-analytics-tutorials-tools-news" id="header-3">Big Data</a>
                  </li>
                  <li>
                    <a href="/cloud-computing-tutorials-tools-news" id="header-4">Cloud</a>
                  </li>
                  <li>
                    <a href="/database-sql-nosql-tutorials-tools-news" id="header-5">Database</a>
                  </li>
                  <li>
                    <a href="/devops-tutorials-tools-news" id="header-6">DevOps</a>
                  </li>
                  <li>
                    <a href="/enterprise-integration-training-tools-news" id="header-7">Integration</a>
                  </li>
                  <li>
                    <a href="/iot-developer-tutorials-tools-news-reviews" id="header-8">IoT</a>
                  </li>
                  <li>
                    <a href="/java-jdk-development-tutorials-tools-news" id="header-1">Java</a>
                  </li>
                  <li>
                    <a href="/microservices-news-tutorials-tools" id="header-6001">Microservices</a>
                  </li>
                  <li>
                    <a href="/open-source-news-tutorials-tools" id="header-7001">Open Source</a>
                  </li>
                  <li>
                    <a href="/apm-tools-performance-monitoring-optimization" id="header-10">Performance</a>
                  </li>
                  <li>
                    <a href="/application-web-network-security" id="header-2001">Security</a>
                  </li>
                  <li>
                    <a href="/web-development-programming-tutorials-tools-news" id="header-11">Web Dev</a>
                  </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<script async src="https://dz2cdn4.dzone.com/themes/dz20/ftl/header/bundle.js"></script><link rel="stylesheet" media="all" href="https://dz2cdn4.dzone.com/themes/dz20/ftl/article/styles.css">




<div id="ftl-article" >
  <div class="container-fluid body">
    <div class="row">
      <div class="col-md-12">
        <div class="articles-wrap">
              <div class="ad-container">
                <div id="div-gpt-ad-1435246566686-0" class="ads-billboard-article" data-gpt-slot="top"></div>
              </div>


          <div class="article-stream widget-top-border">
                <div class="content-right-images">
                  <div id="div-gpt-ad-1435246566686-2" class="sidebar-ad" data-gpt-desktop="true" data-gpt-slot="sidebar1"></div>
                </div>

                <script type="application/ld+json">
                  {
                    "@context": "http://schema.org",
                    "@type": "Article",
                    "headline": "Microservices Design Principles",
                    "author": {
                      "@type": "Person",
                      "name": "Saravanan Subramanian"
                    },
                    "audience": "software developers",
                    "keywords": "cloud architecture,design patterns,microservices,integration,cloud",
                    "timeRequired": "PT8M",
                    "commentCount": 0,
                    "wordCount": "1942",
                    "accessMode": "textual, visual",
                    "dateCreated": "2015-07-05T12:12:15Z",
                    "datePublished": "2015-07-05T00:00:00Z",
                    "dateModified": "2015-07-07T18:48:11Z",
                    "articleSection": "cloud-computing-tutorials-tools-news",
                    "publisher": {
                      "@type": "Organization",
                      "name": "DZone",
                      "url": "https://dzone.com",
                      "logo": {
                        "@type": "ImageObject",
                        "url": "https://dzone.com/themes/dz20/images/dz_logo_2021_cropped.png"
                      }
                    },
                    "articleBody": "The objective of this post is to understand microservices, relevant software architecture, design principles and the constraints to be considered while developing microservices. 1. Microservices Microservices are small autonomous systems that provide a solution that is unique, distinct within the eco-system. It runs as a full-stack module and collaborates with other microservices that are part of the eco-system. Sam Newman defines microservices are \"Small, focused and doing one thing very well\" in his book \"Building Microservices.\" Microservices are created by slicing and dicing a single large monolithic system into many independent autonomous systems. It can also be a plug-gable add-on component to work along with the existing system as a new component or as a green field project. 2. Ecosystem Though the concept of microservice is not new, the evolution of cloud technologies, agile methodologies, continuous integration and automatic provisioning (Dev Ops) tools lead to the evolution of microservices. 2.1 Cloud Technologies One of the important feature of cloud is \"Elasticity\". Cloud allows the user to dynamically scale up and scale down the performance and capacity of a system by dynamically increasing or decreasing the infrastructure resources such as virtual machines, storage, data base, etc. If the software is one single large monolithic system it cannot effectively utilize this capability of the cloud infrastructure, because the inner sub modules and communications pipe across the system could be the bottle neck, which could not scale appropriately. Since the microservices are small, independent and full stack systems, it can efficiently use the elastic nature of the cloud infrastructure. By increasing or decreasing the number of instance of a microservice will directly impact the performance and capacity of the system proportionately. 2.2 Dev Ops Dev Ops is a methodology focuses on speeding up the process of software development to customer deployment. This methodology concentrates on improving the communication and collaboration between the software development and IT operations by integration, automation and cooperation. Microservices architecture supports to meet both software engineers and IT professionals objective. Being small and independent component it is relatively easier to develop, test, deploy and recovery (if failure) when compared to large monolithic architectures. 2.3 Agile Methodologies Agile is the software development process model evolved from Extreme Programming (XP) and Iterative-and-Incremental (2I) development process models. Agile is best suitable for small teams working on software deliverable where the requirement volatility is high and time to market is shorter. As per the agile manifesto, agile prefers: Individual interactions over Process and Tools Working Software over comprehensive documentation Customer Collaboration over contract negotiation Responding to Change over following a plan A small dynamic team which works in agile process model developing a microservice that is small, independent and full-stack application will have a complete product ownership with clear boundaries of responsibility. 3. Design of Microservices 3.1 Characteristics of Microservices Microservices are designed to be small, stateless, in(ter)dependent &amp; full-stack application so that it could be deployed in cloud infrastructure. Small: Microservices are designed to be small. But defining \"small\" is subjective. Some of the estimation techniques like lines of code, function points, use cases may be used. But they are not recommended estimation techniques in agile. In the book Building Microservices the author Sam Newman suggest few techniques to define the size of microservice, they are : It should be small enough to be owned by a small agile development team, re-writable within one or two agile sprints ( typically two to four weeks) or the complexity does not require to refactoring or require further divide into another microservice. Stateless: A stateless application handles every request with the information contained only within it. Microservices must be stateless and it must service the request without remembering the previous communications from the external system. In(ter)dependent: Microservices must service the request independently, it may collaborate with other microservices within the eco-system. For example, a microservice that generates a unique report after interacting with other microservices is an interdependent system. In this scenario, other microservices which only provide the necessary data to reporting microservices may be independent services. Full-Stack Application: A full stack application is individually deploy-able. It has its own server, network &amp; hosting environment. The business logic, data model and the service interface (API / UI) must be part of the entire system. Microservice must be a full stack application. 3.2 Architecture Principles Though SOA is one of the important architecture style helps in designing microservices. There are few more architecture styles and design principles need to be considered while designing microservices. They are: 3.2.1 Single Responsibility Principle (Robert C Martin) Each microservice must be responsible for a specific feature or a functionality or aggregation of cohesive functionality. The thump rule to apply this principle is: \"Gather those things which change for the same reason, Separate those things which change for the different reason\". 3.2.2 Domain Driven Design Domain driven design is an architectural principle in-line with object oriented approach. It recommends designing systems to reflect the real world domains. It considers the business domain, elements and behaviors and interactions between business domains. For example, in banking domain, individual microservices can be designed to handle various business functions such as retail banking, on-line banking, on-line trading etc. The retail banking microservice can offer services related to that eg. Open a bank account, cash withdraw, cash deposits, etc. 3.2.3 Service Oriented Architecture The Service Oriented Architecture (SOA) is an architecture style, which enforces certain principles and philosophies. Following are the principles of SOA to be adhered while designing microservices for cloud. 3.2.3.1 Encapsulation The services must encapsulate the internal implementation details, so that the external system utilizes the services need not worry about the internals. Encapsulation reduces the complexity and enhances the flexibility (adaptability to change) of the system. 3.2.3.2 Loose Coupling The changes in one microsystem should have zero or minimum impact on other services in the eco-system. This principle also suggests having a loosely coupled communication methods between the microservices. As per SOA, RESTful APIs are more suitable than Java RMI, where the later enforces a technology on other microservices. 3.2.3.3 Separation of Concern Develop the microservices based on distinct features with zero overlap with other functions. The main objective is to reduce the interaction between services so that they are highly cohesive and loosely coupled. If we separate the functionality across wrong boundaries will lead tight coupling and increased complexity between services. The above core principles of SOA provided only a gist of SOA. There are more principles and philosophies of SOA which nicely fits into design principles of microservices for cloud. 3.2.4 Hexagonal Architecture This architecture style is proposed by Alistair Cockburn. It allows an application to equally driven by users, programs, automated test or batch scripts, and to be developed and tested in isolation from its eventual run-time devices and databases. This also called as \"Ports-Adapters Architecture\", where the ports and adapters encapsulate the core application to function unanimously to external requests. The ports and adapters handle the external messages and convert them into appropriate functions or methods exposed by the inner core application. A typical microservice exposes RESTful APIs for external communication, message broker interface (eg. RabbitMQ, HornetQ, etc) for event notification and database adapters for persistence makes hexagonal architecture as a most suitable style for microservice development. Though there are many architectural styles &amp; principles the above items have high relevant to microservices. 4 Design Constraints The design constraints (non-functional requirements) are the important decision makers while designing microservices. The success of a system is completely depends on Availability, Scalability, Performance, Usability and Flexibility. 4.1 Availability The golden rule for availability says, anticipate failures and design accordingly so that the systems will be available for 99.999% (Five Nines). It means the system can go down only for a 5.5 minutes for an entire year. The cluster model is used to support high availability, where it suggests having group of services run in Active-Active mode or Active-Standby model. So while designing microservices, it must be designed for appropriate clustering and high-availability model. The basic properties of microservices such as stateless, independent &amp; full stack will help us to run multiple instances in parallel in active-active or active-standby mode. 4.2 Scalability Microservices must be scale-able both horizontally and vertically. Being horizontally scale-able, we can have multiple instances of the microservice to increase the performance of the system. The design of the microservices must support horizontal scaling (scale-out). Also microservices should be scale-able vertically (scale-in). If a microservice is hosted in a system with medium configuration such AWS EC2 t2-small (1-core, 2-GB memory) is moved to M4 10x-large ( 40 core &amp; 160GB memory) it should scale accordingly. Similarly downsizing the system capacity must also be possible. 4.3 Performance Performance is measured by throughput, response time (eg. 2500 TPS -transactions per second). The performance requirements must be available in the beginning of the design phase itself. There are technologies and design choices will affect the performance. They are: Synchronous or Asynchronous communication Blocking or Non-blocking APIs RESTful API or RPC XML or JSON , choice of SQL or NoSQL HornetQ or RabbitMQ MongoDB or Cassandra or CouchDB So, appropriate technology and design decisions must be taken, to avoid re-work in the later stage. 4.4 Usability Usability aspects of the design focuses on hiding the internal design, architecture, technology and other complexities to the end user or other system. Most of the time, microservices expose APIs to the end user as well as to other microservices. So, the APIs must be designed in a normalized way, so that it is easy to achieve the required services with minimal number of API calls. 4.5 Flexibility Flexibility measures the adaptability to change. In the microservices eco-system, where each microservice is owned by different teams and developed in agile methodology, change will happen faster than any other systems. The microservices may not inter-operate if they don't adapt or accommodate the change in other systems. So, there must be a proper mechanism in place to avoid such scenarios which could include publishing the APIs, documenting the functional changes, clear communication plans. This briefly summarizes the important design constraints for microservices. 5. New Problem Spaces Though there are many positives with microservices, it can create some new challenges. 5.1 Complete Functional Testing The end to end functional testing will be a great challenge in microservices environment, because we might need to deploy many microservices to validate single business functionality. Each microservice might have its own way of installation and configuration. 5.2 Data Integrity across the eco-system Microservice systems run independently and asynchronously, they communicate each other through proper protocols or APIs. This could result in data integrity issues momentarily or out-of-sync due to failures. So we might need additional services to monitor the data integrity issues. 5.3 Increased Complexity The complexity increases many folds, when a single monolithic is split into ten to twenty microservices and introduction of load balance server, monitoring, logging and auditing servers in to the eco-systems increases the operational overhead. Also the competency needed to manage and deploy the microservices becomes very critical, where the IT admins and DevOps engineers need to be aware of plethora of technologies used by independent agile development teams. The articles \"Microservices - Not a free lunch !\" and Service Disoriented Architecture clearly warns us to be aware of issues with microservices, though they greatly support and favour this architecture style. 6. Summary Microservices architecture style offers many advantages and we discussed it is most suitable for cloud infrastructure, speed up the deployment and recovery, minimizes the damages in case of failures. This article consolidates the needed knowledge areas in design, architecture and design constraints for designing microservices. Thank you.",
                    "mainEntityOfPage": {
                      "@type": "WebPage",
                      "@id": "https://dzone.com/articles/microservices-design-principles"
                    },
                    "image": {
                      "@type": "ImageObject",
                      "url": "https://dzone.com//dz2cdn4.dzone.com/storage/article-thumb/29255-thumb.jpg"
                    }
                  }
                </script>

                  <script type="application/ld+json">
                    {
                      "@context": "https://schema.org",
                      "@type": "BreadcrumbList",
                      "itemListElement": [{
                        "@type": "ListItem",
                        "position": 1,
                        "name": "DZone",
                        "item": "https://dzone.com"
                      }, {
                        "@type": "ListItem",
                        "position": 2,
                        "name": "Cloud Zone",
                        "item": "https://dzone.com/cloud-computing-tutorials-tools-news"
                      }, {
                        "@type": "ListItem",
                        "position": 3,
                        "name": "Microservices Design Principles",
                        "item": "https://dzone.com/articles/microservices-design-principles"
                      }]
                    }
                  </script>

            <article>
              <div class="content">
                <div class="header">
                  <div class="col-xs-12 breadcrumb-padding">
                    <a href="/">DZone</a>
                    >
                      <a href="/cloud-computing-tutorials-tools-news">Cloud Zone</a>
                      >
                      <a href="#">Microservices Design Principles</a>
                  </div>


                  <div class="header-title">
                    <div class="title">
                      <h1 class="article-title">Microservices Design Principles</h1>
                    </div>

                    <div class="subhead">
                      <h3>Get a crash course in understanding microservices and the difficulties in implementing them.</h3>
                    </div>

                    <div class="publish-meta">
                        <div class="article-author-meta">
                          <img src="https://dz2cdn1.dzone.com/thumbnail?fid=1953699&w=80" class="avatar" alt="Saravanan Subramanian user avatar" width="40">
                          by

                          <div class="author-info">
                            <span class="author-name">
                              <a href="/users/1117655/sarsubra.html" rel="nofollow">Saravanan Subramanian</a>
                            </span>
                          </div>


                            <div class="mvb-award">
                              <i title="Most Valuable Blogger" class="icon-mvb-1"></i>
                            </div>


                          &middot;
                        </div>
                      <span class="author-date">
                        Jul. 05, 15
                      </span>
                      &middot;
                        <a href="/cloud-computing-tutorials-tools-news" id="portal-name">
                          <span class="portal-name">Cloud Zone</span>
                        </a>
                      &middot;
                      <span>Opinion</span>
                    </div>
                  </div>
                </div>

                <div class="author-n-useraction">
                  <div class="like action">
                    <div id="activity-like-icon" class="dz-like icon-thumbs-up">
                      <span class="action-label">
                        <span id="activity-like-text">Like</span>
                      </span>
                      <a href="#">
                        <span id="activity-like-counter">(10)</span>
                      </a>
                    </div>
                  </div>

                  <div class="action">

                    <button class="comment">
                      <i class="icon-comment"></i>
                      Comment
                      <span id="activity-comment-counter" class="comment-count"></span>
                    </button>
                  </div>

                  <div class="save action">
                    <div id="activity-save-icon" class="save icon-star-empty">
                      <span id="activity-save-text" class="action-label">Save</span>
                    </div>
                  </div>

                  <div class="tweet action">
                    <a id="tweet-link" href="" class="title" target="_blank">
                      <span><i class="icon-twitter"></i></span>
                      <span class="action-label">Tweet</span>
                    </a>
                  </div>

                  <div class="pull-right">
                    <div id="activity-view-container" class="article-views action">
                      <i class="icon-eye"></i> 53.94K
                      <span class="action-label">Views</span>
                    </div>
                  </div>
                </div>

                    <div class="signin-prompt">
                      <p>Join the DZone community and get the full member experience.</p>
                      <a id="article-signin-prompt" href="/static/registration.html">Join For Free</a>
                    </div>
                    <div class="arrow-down"></div>

                  <div id="top-bumper-container"></div>

                <div>
                  <div class="content-html"><p pid="3">The objective of this post is to understand microservices, relevant software architecture, design principles and the constraints to be considered while&nbsp;developing microservices.</p><h1>1. Microservices</h1><p pid="4">Microservices are small autonomous systems that provide a solution that&nbsp;is unique, distinct within the eco-system. It runs as a full-stack module and collaborates with other&nbsp;microservices that&nbsp;are part of the eco-system. &nbsp;Sam&nbsp;Newman defines microservices are&nbsp;"Small, focused and doing one thing very well" in his book "Building Microservices."</p><p pid="5">Microservices are&nbsp;created by slicing and dicing a single large monolithic system into many independent autonomous systems. &nbsp;It can also be&nbsp;a&nbsp;plug-gable add-on component to work along with the existing system as a new component or as a green field project.</p><h1>2. Ecosystem</h1><p pid="6">Though the concept of microservice is not new, the evolution of cloud technologies, agile methodologies, continuous integration and automatic provisioning (Dev Ops) tools lead to the evolution of microservices.</p><h2>2.1 Cloud Technologies</h2><p pid="7">One of the important feature of cloud is "Elasticity". &nbsp;Cloud allows the user to dynamically scale up and scale down the performance and capacity of a system by dynamically increasing or decreasing the infrastructure resources such as virtual machines, storage, data base, etc. &nbsp;If the software is one single large monolithic system it cannot effectively utilize this capability of the cloud infrastructure, because the inner sub modules and communications pipe across the system could be the bottle neck, which could not scale appropriately.</p><p pid="8">Since the microservices are small, independent and full stack systems, it can efficiently use the elastic nature of the cloud infrastructure. &nbsp; &nbsp;By increasing or decreasing the number of instance of a microservice will directly impact the performance and capacity of the system proportionately.</p><h2>2.2 Dev Ops</h2><p pid="9">Dev Ops is a methodology focuses on speeding up the process of software development to customer deployment. &nbsp;This methodology concentrates&nbsp;on improving the communication and collaboration between the software development and IT operations by integration, automation and cooperation.</p><p pid="10">Microservices architecture supports to meet both software engineers and IT professionals objective. Being small and independent component it is relatively easier to develop, test, deploy and recovery (if failure) when compared to large monolithic architectures.</p><h2>2.3 Agile Methodologies</h2><p pid="11">Agile is the software development process model evolved from Extreme Programming (XP) and Iterative-and-Incremental (2I) development process models. &nbsp;Agile is best suitable for small teams working on software deliverable where the requirement volatility is high and time to market is shorter.</p><p pid="12">As per the agile manifesto, agile&nbsp;prefers:</p><ul><li><strong>Individual interactions</strong>&nbsp;over Process and Tools</li><li><strong>Working Software</strong>&nbsp;over comprehensive documentation</li><li><strong>Customer Collaboration</strong>&nbsp;over contract negotiation</li><li><strong>Responding to Change</strong>&nbsp;over following a plan</li></ul><p pid="13">A small dynamic team which works in agile process model developing&nbsp;a microservice that is small, independent and full-stack application will have a complete product ownership with clear boundaries of responsibility.</p><h1>3. Design of Microservices</h1><h2>3.1 Characteristics of Microservices</h2><p pid="14">Microservices are&nbsp;designed to be small, stateless, in(ter)dependent &amp; full-stack application so that it could be deployed in cloud infrastructure.</p><p pid="15"><strong>Small</strong>: Microservices are designed to be small. &nbsp;But defining "small" is subjective. &nbsp;Some of the estimation techniques like lines of code, function points, use cases may be used. &nbsp;But they are not recommended estimation techniques&nbsp;in agile.</p><p pid="16">In the book&nbsp;<a data-mce-href="http://shop.oreilly.com/product/0636920033158.do" href="http://shop.oreilly.com/product/0636920033158.do">Building Microservices</a>&nbsp;the author&nbsp;<a data-mce-href="http://samnewman.io/" href="http://samnewman.io/">Sam Newman</a>&nbsp;suggest few techniques to define the size of microservice, they are :&nbsp;It should be&nbsp;small enough to be owned by a small agile development team, &nbsp;re-writable within one or two agile sprints ( typically two to four weeks) or the complexity does not require to refactoring or require further divide into another microservice.</p><p pid="17"><strong>Stateless</strong>: A stateless application handles every request with the information contained only within it. Microservices must be stateless and it must service the request without remembering the previous communications from the external system.</p><p pid="18"><strong>In(ter)dependent:&nbsp;</strong>Microservices must service the request independently, it may collaborate with&nbsp;other microservices within the eco-system. &nbsp;For example, a microservice that&nbsp;generates a unique report after interacting with other microservices is an interdependent system. In this scenario, other&nbsp;microservices which only provide the necessary data to reporting microservices may be&nbsp;independent services.</p><p pid="19"><strong>Full-Stack Application:&nbsp;</strong>A&nbsp;full stack application is individually deploy-able. It has&nbsp;its own server, network &amp; hosting environment. &nbsp;The business logic, data model and the service interface (API / UI) must be part of the entire system. &nbsp;Microservice&nbsp;must be a&nbsp;full stack application.</p><h2>3.2 Architecture Principles</h2><p pid="20">Though SOA is one of the important architecture style&nbsp;helps in designing microservices. &nbsp;There are few more architecture styles and design principles need to be considered while designing microservices. &nbsp;They are:</p><h3>3.2.1 Single Responsibility Principle (<a data-mce-href="https://en.wikipedia.org/wiki/Robert_Cecil_Martin" href="https://en.wikipedia.org/wiki/Robert_Cecil_Martin">Robert C Martin</a>)</h3><p pid="21">Each microservice&nbsp;must be responsible for a specific feature or a functionality or aggregation of cohesive functionality. &nbsp;The thump rule to apply this principle is: "Gather those things which change for the same reason,&nbsp;Separate those things which change for the different reason".</p><h3>3.2.2 Domain Driven Design</h3><p pid="22">Domain driven design is an&nbsp;&nbsp;architectural principle in-line with object oriented approach. It recommends designing systems to reflect the real world domains. &nbsp;It considers the business domain, elements and behaviors and interactions between business domains. &nbsp;For example, in banking domain, individual microservices can be designed to handle various business functions such as retail banking, on-line banking, on-line trading etc. The retail banking microservice can offer services related to that eg. Open a bank account, cash withdraw, cash deposits, etc.</p><h3>3.2.3 Service Oriented Architecture</h3><p pid="23">The Service Oriented Architecture (SOA) is an architecture style, which enforces certain principles and philosophies. &nbsp;Following are the principles of SOA to be adhered while designing microservices for cloud.</p><h4>3.2.3.1 Encapsulation</h4><p pid="24">The services must encapsulate the internal implementation details, so that the external system utilizes the services need not worry about the internals. Encapsulation reduces the complexity and enhances the flexibility (adaptability to change)&nbsp;of the system.</p><h4>3.2.3.2 Loose Coupling</h4><p pid="25">The changes in one microsystem&nbsp;should have zero or minimum impact on other services in the eco-system. &nbsp; This principle also suggests having&nbsp;a loosely coupled communication methods between the microservices. &nbsp;As per SOA, RESTful APIs are more suitable than Java RMI, where the later enforces a technology on other microservices.</p><h4>3.2.3.3 Separation of Concern</h4><p pid="26">Develop the microservices&nbsp;based on distinct features with zero overlap with other functions. The main objective is to reduce the interaction between services so that they are highly cohesive and loosely coupled. If we separate the functionality across wrong boundaries will lead tight coupling and increased complexity between services.</p><p pid="27">The above core principles of SOA provided only a gist of SOA. &nbsp;There are more principles and philosophies of SOA which nicely fits into design principles of microservices for cloud.</p><h3>3.2.4&nbsp;Hexagonal Architecture</h3><p pid="28">This architecture style is proposed by&nbsp;<a data-mce-href="http://alistair.cockburn.us/Hexagonal+architecture" href="http://alistair.cockburn.us/Hexagonal+architecture" target="_blank">Alistair Cockburn</a>. &nbsp;It allows an application to equally driven by users, programs, automated test or batch scripts, and to be developed and tested in isolation from its eventual run-time devices and databases. &nbsp;This also called as "Ports-Adapters Architecture", where the ports and adapters encapsulate the core application to function unanimously to external requests. &nbsp;The ports and adapters handle the external messages and convert them into appropriate functions or methods exposed by the inner core application. &nbsp;A typical microservice exposes RESTful APIs for external communication, message broker interface (eg. RabbitMQ, HornetQ, etc) for event notification and database adapters for persistence makes hexagonal architecture as a most suitable style for microservice development.</p><p pid="29">Though there are many architectural styles &amp; principles the above items have high relevant to microservices.</p><h1>4&nbsp;Design Constraints</h1><p pid="30">The design constraints (non-functional requirements) are the important decision makers while designing microservices. &nbsp;The success of a system is completely depends on Availability, Scalability, Performance, Usability and Flexibility.</p><h2>4.1 Availability</h2><p pid="31">The golden rule for availability says, anticipate failures and design accordingly&nbsp;so that the systems will be available for 99.999% (Five Nines). &nbsp;It means the system can go down only for a 5.5&nbsp;minutes for an entire year. &nbsp; &nbsp;The cluster model&nbsp;is used to support&nbsp;high availability, where it suggests having&nbsp;group of services run in Active-Active mode or Active-Standby model.</p><p pid="32">So while designing microservices, it must be designed&nbsp;for appropriate clustering and high-availability model. &nbsp;The basic properties of microservices such as stateless, independent &amp; full stack will help us to run multiple instances in parallel in active-active or active-standby mode.</p><h2>4.2 Scalability</h2><p pid="33">Microservices must be scale-able both horizontally and vertically. &nbsp; &nbsp;Being horizontally scale-able, we can have multiple instances of the microservice to increase the performance&nbsp;of the system. &nbsp;The design of the microservices must support horizontal scaling (scale-out).</p><p pid="34">Also microservices should be scale-able vertically (scale-in). &nbsp;If a&nbsp;microservice is hosted in a system with medium configuration such AWS EC2 t2-small (1-core, 2-GB memory) is moved to M4 10x-large ( 40 core &amp; 160GB memory) it should scale accordingly. &nbsp;Similarly downsizing the system capacity must also be possible.</p><h2>4.3 Performance</h2><p pid="35">Performance is measured by throughput, response time (eg. 2500&nbsp;TPS&nbsp;-transactions per second). &nbsp;The performance requirements must be available in the beginning of the design phase&nbsp;itself. There are technologies and design choices&nbsp;will affect the performance. &nbsp;They are:</p><ul><li>Synchronous or Asynchronous communication</li><li>Blocking or Non-blocking APIs</li><li>RESTful API or RPC</li><li>XML or JSON , choice of</li><li>SQL or NoSQL</li><li>HornetQ or RabbitMQ</li><li>MongoDB or Cassandra or CouchDB</li></ul><p pid="36">So, appropriate technology and design decisions must be taken, to avoid re-work in the later stage.</p><h2>4.4 Usability</h2><p pid="37">Usability aspects of the design focuses on hiding the internal design, architecture, technology and other complexities to the end user or other system. &nbsp;Most of the time, microservices expose APIs to the end user as well as to other microservices. &nbsp;So, the APIs must be designed in a normalized way, so that it is easy to achieve the required services with minimal number of API calls.</p><h2>4.5 Flexibility</h2><p pid="38">Flexibility measures the adaptability to change. &nbsp;In the microservices eco-system, where each microservice is owned by different teams and developed in agile methodology, change will happen faster than any other systems. &nbsp;The microservices may not inter-operate if they don't adapt or accommodate the change in other systems. &nbsp;So, there must be a proper mechanism in place to avoid such scenarios which could include publishing the APIs, documenting the functional changes, clear communication plans.</p><p pid="39">This briefly summarizes the important design constraints for microservices.</p><h1>5. New Problem Spaces</h1><p pid="40">Though there are many positives with microservices, it can create some new challenges.</p><h2>5.1 Complete Functional Testing</h2><p pid="41">The end to end functional testing will be a great challenge in microservices environment, because we might need to deploy many microservices to validate single business functionality. Each microservice might have its own way of installation and configuration.</p><h2>5.2 Data Integrity across the eco-system</h2><p pid="42">Microservice systems run independently and asynchronously, they communicate each other through proper protocols or APIs. This could result in data integrity issues momentarily or out-of-sync due to failures. So we might need additional services to monitor the data integrity issues.</p><h2>5.3 Increased Complexity</h2><p pid="43">The complexity increases many folds, when a single monolithic is split into ten to twenty&nbsp;microservices and introduction of load balance server, monitoring, logging and auditing servers in to the eco-systems increases the operational overhead. &nbsp;Also the competency needed to manage and deploy the microservices becomes very critical, where the IT admins and DevOps engineers need to be aware of plethora of technologies used by independent agile development teams.</p><p pid="44">The articles&nbsp;&nbsp;<a data-mce-href="http://highscalability.com/blog/2014/4/8/microservices-not-a-free-lunch.html" href="http://highscalability.com/blog/2014/4/8/microservices-not-a-free-lunch.html" target="_blank">"Microservices - Not a free lunch !"</a>&nbsp; and&nbsp;<a data-mce-href="http://java.dzone.com/articles/service-disoriented" href="http://java.dzone.com/articles/service-disoriented" target="_blank">Service Disoriented Architecture</a>&nbsp;clearly warns us to be aware of issues with microservices, though they greatly support and favour this architecture style.</p><h1>6. Summary</h1><p pid="45">Microservices architecture style offers many advantages and we discussed it is most suitable for cloud infrastructure, speed up the deployment and recovery,&nbsp;minimizes the damages in case of failures. &nbsp;This article&nbsp;consolidates the needed knowledge areas in design, architecture and design constraints for designing microservices. Thank you.</p></div>
                </div>

                  <div id="bottom-bumper-container"></div>
                  <div class="article-tag-pill-container">
                      <span class="article-tag-pill">microservice</span>
                      <span class="article-tag-pill">Design</span>
                      <span class="article-tag-pill">agile</span>
                      <span class="article-tag-pill">SOA</span>
                      <span class="article-tag-pill">Software development</span>
                      <span class="article-tag-pill">Architecture</span>
                      <span class="article-tag-pill">application</span>
                      <span class="article-tag-pill">Data integrity</span>
                      <span class="article-tag-pill">Cloud</span>
                  </div>

                  <div class="attribution">
                    <p>Opinions expressed by DZone contributors are their own.</p>
                  </div>

                    <div class="related">
                      <h3>Popular on DZone</h3>
                        <ul>
                            <li class="relateddiv">
                              <a href="/articles/what-is-lean-software-development?fromrel=true">What Is Lean Software Development?</a>
                            </li>
                            <li class="relateddiv">
                              <a href="/articles/pulumi-vs-terraform?fromrel=true">Why I'm Choosing Pulumi Over Terraform</a>
                            </li>
                            <li class="relateddiv">
                              <a href="/articles/after-inspection-comes-adaptation-how-to-do-action?fromrel=true">After Inspection, Comes Adaptation: How to Do Action-Based Retrospectives Right</a>
                            </li>
                            <li class="relateddiv">
                              <a href="/articles/cypress-the-future-of-test-automation-advantages-a?fromrel=true">Cypress: The Future of Test Automation! Advantages and Disadvantages</a>
                            </li>
                        </ul>
                      </div>
<div class="comments-overlay"></div>
<div id="comment-box">
  <div class="comment-box-wrapper">
    <div id="comment-input-editor"></div>
  </div>
  <div class="info hidden"></div>
  <div class="comments-content">
    <div class="comment-header">
      <hr />
      <span class="icon-comment">
        <span class="numOfComments"></span> Comments
      </span>
    </div>
    <div class="comments"></div>
  </div>
</div>
            </article>
          </div>

            <div id="above-pr-ad" class="bottom-ad-container">
              <div id="div-gpt-ad-1435246566686-11" data-gpt-slot="bottom"></div>
            </div>
            <div class="layout-card widget-top-border partner-resources-block" style="width:100%; margin-bottom: 1em;">
              <div class="main-container">
                <div class="featured-header">
                  <h2>
                      Cloud<span> Partner Resources</span>
                  </h2>
                </div>
                <div class="partner-resources-container">
                  <div id="div-gpt-ad-1435246566686-5" class="resource-block" data-gpt-slot="partner" data-gpt-position="pr1"></div>
                  <div id="div-gpt-ad-1435246566686-6" class="resource-block" data-gpt-slot="partner" data-gpt-position="pr2"></div>
                  <div id="div-gpt-ad-1435246566686-7" class="resource-block" data-gpt-slot="partner" data-gpt-position="pr3"></div>
                </div>
              </div>
            </div>
        </div>
      </div>
    </div>
  </div>

    <div id="bsa-parent" class="bottom-sticky-ad-container hide">
      <div class="container">
        <div class="col-md-9">
          <div class="fixed-bottom-div">
            <div class="inline-block">
              <div id="div-gpt-ad-1635294790718-12" data-gpt-desktop="true" class="bottom-sticky-ad"></div>
            </div>
            <div class="inline-block">
              <span id="close" class="bottom-sticky-ad-close-button" onclick="removeBottomStickyAd()">
                X
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

  <div class="modal fade bd-example-modal-lg" id="modal-message" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header"></div>
        <div class="modal-body"></div>
      </div>
    </div>
  </div>
</div>

<script async>const articleTitle = 'Microservices Design Principles'
const articleUrl = 'https://dzone.com/articles/microservices-design-principles'

const retweetLink = document.querySelector('#tweet-link')

function retweet(event) {
    event.preventDefault()
    event.stopPropagation()

    const twitter = 'https://twitter.com/intent/tweet'
    const params = '?text=' + encodeURIComponent(articleTitle) + '&url=' + articleUrl + '&ref=dzone.com&via=DZoneInc'
    const win = window.open(twitter + params, '_blank')
    win.focus()
}

retweetLink.addEventListener('click', retweet);

function showStatusMessage(options) {
  var modal = document.getElementById("modal-message");

  if(modal) {
    modal.classList.add(options.type);
    var modalBody = modal.querySelector(".modal-content .modal-body");
    var modalHeader = modal.querySelector(".modal-content .modal-header");

    modalHeader.innerText = options.header ? options.header : "";
    modalBody.innerText = options.body ? options.body : "" ;

    $(modal).modal("show");

    $(modal).on('hidden.bs.modal', function () {
      modal.classList.remove(options.type);
    });
  }
}

function showConfirmMessage(options) {
  var modal = document.getElementById("modal-message");

  if(modal) {
    modal.classList.add(options.type);
    var modalBody = modal.querySelector(".modal-content .modal-body");
    var modalHeader = modal.querySelector(".modal-content .modal-header");

    modalHeader.innerText = options.header ? options.header : "";
    modalBody.innerText = options.body ? options.body : "" ;

    if (options.textarea) {
      const textareaDiv = document.createElement('div')
      const textareaLabel = document.createElement('label')
      textareaLabel.setAttribute('for', 'modal-textarea')
      textareaLabel.innerText = options.textarea.label

      const textarea = document.createElement('textarea')
      textarea.id = 'modal-textarea'
      textarea.placeholder = (options.textarea.placeholder || '')
      textarea.setAttribute('rows', (options.textarea.rows || 3))
      textarea.classList.add('form-control', 'not-resizable')

      if (options.textarea.maxlength) {
        textarea.maxLength = options.textarea.maxlength
      }

      textareaDiv.appendChild(textareaLabel)
      textareaDiv.appendChild(textarea)
      modalBody.appendChild(textareaDiv)
    }

    var btnContainer = document.createElement("div");
    btnContainer.classList.add("btn-container");

    var noBtn = document.createElement("button");
    noBtn.innerText = options.noBtnText ? options.noBtnText : "No";
    noBtn.classList.add("no-btn");

    var yesBtn = document.createElement("button");
    yesBtn.innerText = options.yesBtnText ? options.yesBtnText : "Yes";
    yesBtn.classList.add("yes-btn");

    btnContainer.appendChild(noBtn);
    btnContainer.appendChild(yesBtn);

    modalBody.appendChild(btnContainer);

    $(modal).modal("show");

    $(noBtn).one("click", function() {
      $(modal).modal("hide");

      if(options.noCallback) {
        $(modal).one('hidden.bs.modal', function () {
          options.noCallback();
        });
      }
    });

    $(yesBtn).one("click", function() {
      $(modal).modal("hide");

      if(options.yesCallback) {
        $(modal).one('hidden.bs.modal', function () {
          options.yesCallback();
        });
      }
    });

    $(modal).on('hidden.bs.modal', function () {
      modal.classList.remove(options.type);
    });
  }
}
</script><link rel="stylesheet" media="all" href="https://dz2cdn4.dzone.com/themes/dz20/ftl/footer/styles.css">

<div id="ftl-footer">
  <div class="container-fluid footerOuter">
    <div class="row">
      <div class="col-md-12">
        <div class="container">
          <div class="row footer">
            <div class="col-md-12 footerWidget">
              <div class="row footerContainer footer">
                <div class="left col-xs-12 col-sm-7">
                  <div class="col-xs-12 social-media-icons footer-mobile">
                    <ul class="icons-only">
                      <li class="rss-icon" id="rss-footer-1">
                        <a href="/pages/feeds" target="_blank" rel="noreferrer noopener">
                          <i class="icon-rss-1"></i>
                        </a>
                      </li>
                      <li class="twitter-icon">
                        <a href="https://twitter.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                          <i class="icon-twitter"></i>
                        </a>
                      </li>
                      <li class="facebook-icon">
                        <a href="https://www.facebook.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                          <i class="icon-facebook-1"></i>
                        </a>
                      </li>
                      <li class="linkedin-icon">
                        <a href="https://www.linkedin.com/company/dzone/" target="_blank"
                           rel="noreferrer noopener">
                          <i class="icon-linkedin-1"></i>
                        </a>
                      </li>
                    </ul>
                  </div>

                  <div class="top-section col-xs-12">
                    <div class="col-xs-12 col-sm-6">
                      <p class="section-header">ABOUT US</p>
                      <ul class="link-group">
                        <li><a href="/pages/about" rel="noreferrer noopener">About DZone</a></li>
                        <li><a href="mailto:support@dzone.com" rel="noreferrer noopener">Send feedback</a></li>
                        <li><a href="https://careers.dzone.com/" target="_blank" rel="noreferrer noopener">Careers</a></li>
                          <li><a href="/sitemap" rel="noreferrer noopener">Sitemap</a></li>
                      </ul>
                    </div>
                    <div class="col-xs-12 col-sm-6">
                      <p class="section-header">ADVERTISE</p>
                      <ul class="link-group">
                        <li><a href="https://advertise.dzone.com" target="_blank" rel="noreferrer noopener">Advertise with DZone</a></li>
                      </ul>
                    </div>
                  </div>

                  <div class="bottom-section col-xs-12">
                    <div class="col-xs-12 col-sm-6">
                      <p class="section-header">CONTRIBUTE ON DZONE</p>
                      <ul class="bottom-top-list link-group">
                        <li><a href="/articles/dzones-article-submission-guidelines">Article Submission Guidelines</a></li>
                        <li><a href="/pages/mvb" rel="noreferrer noopener">MVB Program</a></li>
                        <li><a href="/pages/contribute" rel="noreferrer noopener">Become a Contributor</a></li>
                        <li><a href="/writers-zone" rel="noreferrer noopener">Visit the Writers' Zone</a></li>
                      </ul>

                      <p class="section-header">LEGAL</p>
                      <ul class="link-group">
                        <li><a href="/pages/tos" rel="noreferrer noopener">Terms of Service</a></li>
                        <li><a href="/pages/privacy" rel="noreferrer noopener">Privacy Policy</a></li>
                      </ul>
                    </div>
                    <div class="col-xs-12 col-sm-6">
                      <p class="section-header">CONTACT US</p>
                      <ul class="link-group">
                        <li>600 Park Offices Drive</li>
                        <li>Suite 300</li>
                        <li>Durham, NC 27709</li>
                        <li><a href="mailto:support@dzone.com" rel="noreferrer noopener">support@dzone.com</a></li>
                        <li><a href="tel:+19196780300" rel="noreferrer noopener">+1 (919) 678-0300</a></li>
                      </ul>
                    </div>
                  </div>
                </div>

                <div class="right col-xs-12 col-sm-5">

                  <p class="connect-text">Let's be friends:</p>
                  <div class="col-xs-12 social-media-icons footer-wide">
                    <ul class="icons-only">
                      <li class="rss-icon" id="rss-footer-1">
                        <a href="/pages/feeds" target="_blank" rel="noreferrer noopener">
                          <i class="icon-rss-1"></i>
                        </a>
                      </li>
                      <li class="twitter-icon">
                        <a href="https://twitter.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                          <i class="icon-twitter"></i>
                        </a>
                      </li>
                      <li class="facebook-icon">
                        <a href="https://www.facebook.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                          <i class="icon-facebook-1"></i>
                        </a>
                      </li>
                      <li class="linkedin-icon">
                        <a href="https://www.linkedin.com/company/dzone/" target="_blank"
                           rel="noreferrer noopener">
                          <i class="icon-linkedin-1"></i>
                        </a>
                      </li>
                    </ul>
                  </div>

                  <div class="col-xs-12 powered-by">
                    <p>DZone.com is powered by&nbsp;</p>
                    <a href="https://devada.com/answerhub/" rel="noreferrer noopener">
                      <img src=""
                           data-src="https://dz2cdn4.dzone.com/themes/dz20/images/answerhub_logo_white_footer.png"
                           width="150"
                           height="56"
                           class="lazyload"
                           alt="AnswerHub logo">
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>

  <script async>
      (function(w, d, s, l, i) {
          w[l] = w[l] || [];
          w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
          var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
          j.async = true;
          j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
          f.parentNode.insertBefore(j,f);
      })(window, document, 'script', 'dataLayer', 'GTM-K25QL22');
  </script>

  <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-410289-1', 'auto');
      ga('require', 'linkid', 'linkid.js');
      ga('require', 'GTM-TSD9TZP');
      ga('set', 'siteSpeedSampleRate', 25);
  </script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>
  <script async>const analytics = {
    'dimension1': 'cloud',
    'dimension2': 'article/opinion',
    'dimension3': '2015-07-05',
    'dimension4': '0',
    'dimension5': '',
    'dimension7': 'microservice, Design, agile, SOA, Software development, Architecture, application, Data integrity, cloud',
    'dimension8': 'sarsubra',
    'dimension9': 'undefined',
    'dimension10': 'Amazon Web Services'
}

if (window.ga) {
    Object.keys(analytics).forEach(function(key) {
        window.ga('set', key, analytics[key])
    })

    window.ga('send', 'pageview')
}</script>

  <script>
      !function (e, o, n, i) {
          if (!e) {
              e = e || {}, window.permutive = e, e.q = [];
              var t = function () {
                  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (e) {
                      return (e ^ (window.crypto || window.msCrypto).getRandomValues(new Uint8Array(1))[0] & 15 >> e / 4).toString(16)
                  })
              };
              e.config = i || {}, e.config.apiKey = o, e.config.workspaceId = n, e.config.environment = e.config.environment || "production", (window.crypto || window.msCrypto) && (e.config.viewId = t());
              for (var g = ["addon", "identify", "track", "trigger", "query", "segment", "segments", "ready", "on", "once", "user", "consent"], r = 0; r < g.length; r++) {
                  var w = g[r];
                  e[w] = function (o) {
                      return function () {
                          var n = Array.prototype.slice.call(arguments, 0);
                          e.q.push({
                              functionName: o,
                              arguments: n
                          })
                      }
                  }(w)
              }
          }
      }(window.permutive, "bca90777-e088-4f2a-96c2-13ad18deeccc", "18ad0c5b-460c-4d19-a729-dc537805538f", {});
      window.googletag = window.googletag || {}, window.googletag.cmd = window.googletag.cmd || [], window.googletag.cmd.push(function () {
          if (0 === window.googletag.pubads().getTargeting("permutive").length) {
              var e = window.localStorage.getItem("_pdfps");
              window.googletag.pubads().setTargeting("permutive", e ? JSON.parse(e) : []);
              var o = window.localStorage.getItem("permutive-id");
              o && (window.googletag.pubads().setTargeting("puid", o), window.googletag.pubads().setTargeting("ptime", Date.now().toString())), window.permutive.config.viewId && window.googletag.pubads().setTargeting("prmtvvid", window.permutive.config.viewId), window.permutive.config.workspaceId && window.googletag.pubads().setTargeting("prmtvwid", window.permutive.config.workspaceId)
          }
      });


      permutive.addon('web', {
          'page': {
              'category': 'Cloud',
              'node': {
                  'authorCompany': 'Amazon Web Services',
                  'authors': [1117655, ],
                  'publishDate': new Date(1436054400000),
                  'sponsorAuthor': false,
                  'tags': ['microservice', 'Design', 'agile', 'SOA', 'Software development', 'Architecture', 'application', 'Data integrity', 'cloud', ],
                  'title': 'Microservices Design Principles',
                  'type': 'article',
              },
              'section': 'article',
          }
      });
  </script>
  <script async src="https://18ad0c5b-460c-4d19-a729-dc537805538f.edge.permutive.app/18ad0c5b-460c-4d19-a729-dc537805538f-web.js"></script>

  <script>
      const csrf = '-3788630078732616949'
      const articleId = 823498
      const likes = 10
      const assetDomain = 'https://dz2cdn4.dzone.com'
      const codemirrorVars = {
          modeURI: 'https://dz2cdn4.dzone.com/themes/dz20/lib/codemirror/mode/',
          requiredScripts: [
              'https://dz2cdn4.dzone.com/themes/dz20/lib/codemirror/lib/codemirror.js',
              'https://dz2cdn4.dzone.com/themes/dz20/lib/codemirror/mode/meta.js'
          ]
      }

      const gptTags = {
          'zone': 'cloud',
          'topicTag': 'microservice,Design,agile,SOA,Software development,Architecture,application,Data integrity,cloud',
          'company': '',
          'siteSection': 'Zones',
          'articleCategory': 'opinion',
          'nodeID': '823498',
          'authorID': '1117655',
          'publishYear': '2015',
          'publishMonth': '07',
          'jobRole': '',
          'companySize': ''
      }

      const minCommentChar = 10;
      const peer39Enabled = true;
  </script>

  <script src="https://dz2cdn4.dzone.com/themes/dz20/lib/static/jquery/jquery.min.js"></script>
  <script async src="https://dz2cdn4.dzone.com/themes/dz20/lib/static/bootstrap/bootstrap.min.js"></script>
  <script async src="https://dz2cdn4.dzone.com/themes/dz20/ftl/article/ads.js"></script>



  <script>
      function loadScript(src) {
          return new Promise(function (resolve, reject) {
              const s = document.createElement('script')
              s.src = src
              s.onload = resolve
              s.onerror = reject
              document.head.appendChild(s)
          })
      }

      function loadStyle(href) {
          const link = document.createElement('link')
          link.rel = 'stylesheet'
          link.href = href
          document.head.appendChild(link)
      }

      function loadScriptsSync(deferred) {
          var p = Promise.resolve()
          for (var i = 0; i < deferred.length; i++) {
              let script = deferred[i]
              p = p.then(function() {
                  return loadScript(script)
              })
          }
          return p
      }

      function loadStyles() {
          const deferred = [
              'https://dz2cdn4.dzone.com/themes/dz20/lib/codemirror/lib/codemirror.css',
              'https://dz2cdn4.dzone.com/themes/dz20/ftl/comments/styles.css',
              'https://dz2cdn4.dzone.com/themes/dz20/lib/froala3/css/froala_editor.pkgd.min.css',
              'https://dz2cdn4.dzone.com/themes/dz20/lib/froala3/css/themes/gray.min.css',
              'https://dz2cdn4.dzone.com/themes/dz20/ftl/article/mini-profile.css'
          ]

          for (var i = 0; i < deferred.length; i++) {
              loadStyle(deferred[i])
          }
      }

      window.addEventListener('load', function(event) {
          loadStyles()
          loadScriptsSync([
              'https://dz2cdn4.dzone.com/themes/dz20/ftl/header/auth-status.js',
              'https://dz2cdn4.dzone.com/themes/dz20/lib/lazysizes.min.js',
              'https://dz2cdn4.dzone.com/themes/dz20/ftl/article/codeblocks.js',
              'https://dz2cdn4.dzone.com/themes/dz20/ftl/article/activity-bar.js',
              'https://dz2cdn4.dzone.com/themes/dz20/lib/froala3/js/froala_editor.pkgd.min.js',
              'https://dz2cdn4.dzone.com/themes/dz20/ftl/froala/content.js',
              'https://dz2cdn4.dzone.com/themes/dz20/ftl/comments/content.js',
              'https://dz2cdn4.dzone.com/themes/dz20/ftl/article/content.js'
          ])
      })
  </script>
</body>
</html>