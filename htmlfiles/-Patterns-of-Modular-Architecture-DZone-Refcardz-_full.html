<!DOCTYPE HTML>


<html xmlns:ng="http://angularjs.org" id="ng-app" lang="en" ng-app="TH">

<head ng-controller="DZHeadController">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" ng-attr-content="{{ service.description }}" content="This Refcard offers a quick reference to the 18 modularity patterns discussed in Kirk Knoernschild's book, Java Application Architecture: Modularity Patterns with Examples Using OSGi. Included in this card are diagrams and descriptions of base patterns, dependency patterns, usability patterns, and more.">
    <meta name="keywords" ng-attr-content="{{ service.keywords }}" content="patterns of modular architecture,java,devops,refcard">

    <meta property="og:description" ng-attr-content="{{ service.description }}" content="This Refcard offers a quick reference to the 18 modularity patterns discussed in Kirk Knoernschild's book, Java Application Architecture: Modularity Patterns with Examples Using OSGi. Included in this card are diagrams and descriptions of base patterns, dependency patterns, usability patterns, and more.">

    <meta ng-attr-content="{{ service.noIndex ? 'noindex' : '' }}" ng-attr-name="{{ service.noIndex ? 'robots' : '' }}"
          name="" content="">

    <meta property="og:site_name" ng-attr-content="{{ service.siteName }}" content="dzone.com">
    <meta property="og:title" ng-attr-content="{{ service.metaTitle ? service.metaTitle : service.title }}" content="Patterns of Modular Architecture - DZone Refcardz">
    <meta property="og:url" ng-attr-content="{{ service.canonical }}" content="https://dzone.com/refcardz/patterns-modular-architecture">
    <meta ng-if="service.img" ng-attr-content="{{ service.img }}" property="og:image" content="">
    <meta ng-if="service.type" ng-attr-content="{{ service.type }}" property="og:type" content="article">

    <meta name="twitter:site" content="@DZoneInc">
    <meta ng-if="service.twitterImage" ng-attr-content="{{ service.twitterImage }}" name="twitter:image" content="">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" ng-attr-content="{{ service.description }}" content="This Refcard offers a quick reference to the 18 modularity patterns discussed in Kirk Knoernschild's book, Java Application Architecture: Modularity Patterns with Examples Using OSGi. Included in this card are diagrams and descriptions of base patterns, dependency patterns, usability patterns, and more.">
    <meta name="twitter:title" ng-attr-content="{{ service.metaTitle ? service.metaTitle : service.title }}" content="Patterns of Modular Architecture - DZone Refcardz">

    <meta ng-if="service.wordCount" property="article:wordcount" ng-attr-content="{{service.wordCount}}" content="42">
    <meta name="referrer" content="origin">
    <meta name="google-site-verification" content="kndbhxcupfEqWmZclhCpB6vlgOs7QSmx2UHAGGnP2mA">

    

    <link rel="dns-prefetch" href="//www.googletagservices.com">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="dns-prefetch" href="//a.optnmstr.com">
    <link rel="dns-prefetch" href="//ajax.googleapis.com">
    <link rel="dns-prefetch" href="//csi.gstatic.com">

    <link rel="image_src" ng-href="{{ service.img }}" href="">

    <link ng-if="service.prevPage" rel="prev" ng-href="{{ service.prevPage }}" href="">
    <link ng-if="service.nextPage" rel="next" ng-href="{{ service.nextPage }}" href="">
    <link rel="icon" type="image/x-icon" href="/themes/dz20/images/favicon.png">

        <link rel="canonical" href="https://dzone.com/refcardz/patterns-modular-architecture" ng-href="{{service.canonical}}">

    <title ng-bind="service.metaTitle ? service.metaTitle : service.title">
        Patterns of Modular Architecture - DZone Refcardz
    </title>

    <meta name="df-verify" content="df0d76632b4543">

<link rel="stylesheet" type="text/css" href="//dz2cdn3.dzone.com/storage/pub/15894758-combined.css" charset="utf-8"/><link rel="stylesheet" type="text/css" href="//dz2cdn3.dzone.com/storage/pub/15894808-combined.css" charset="utf-8"/></head>
<body>

    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K25QL22"
                height="0" width="0" style="display:none;visibility:hidden">
        </iframe>
    </noscript>

    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://dzone.com",
            "logo": "https://dzone.com/themes/dz20/images/dz_logo_2021_cropped.png",
            "contactPoint": [{
                "@type": "ContactPoint",
                "telephone": "+1-919-678-0300",
                "contactType": "customer service"
            }]
        }
    </script>

    <toast></toast>

    <div class="container-fluid header" th-element="header" th-element-groups="[]" ng-hide="$root.isHidden('header')" data-th-element-name="header"><div class="row mainHeaderRow" th-element="mainHeaderRow" th-element-groups="['header']" ng-hide="$root.isHidden('mainHeaderRow')" data-th-element-name="mainHeaderRow"><div class="col-md-12 mainHeader headerHeaderV2 oUhbWOfRPSwBoUhM" th-element="mainHeader" th-element-groups="['header','mainHeaderRow']" ng-hide="$root.isHidden('mainHeader')" data-th-element-name="mainHeader" data-th-widget="header.headerV2" data-widget-header-header-v2="" ng-controller="mainHeader">
<script type="text/ng-template" id="like-article.html">
        <div class="dz-like"
             ng-class='{liked: status.liked}'
             ng-click='like()'

<a href="#">
    <i ng-class="{'icon-thumbs-up-alt': status.liked, 'icon-thumbs-up liked': !status.liked}"></i>
    <span>Like ({{ status.score }})</span>
</a>
</div>
</script>

<script type="text/ng-template" id="refcard-save.html">
    <button type="button" ng-class="{'icon-star gold': status.saved, 'icon-star-empty': !status.saved}"
            ng-click="save()" class="btn btn-save btn-lg"><span class="save-title">Save</span><span ng-if="status.saved"
                                                                                                    class="d-letter">D</span>
    </button>
</script>

<div class="header-top">
    <div class="header-container">
        <div class="pull-left logo-container">
            <div class="logo" >
                <a class="inner" href="/">
                    <img src="/themes/dz20/images/dz_logo_2021_cropped.png" width="160" height="52" alt="DZone">
                </a>
            </div>

        
        </div>

        <div class="pull-right login-and-search">

                <div class="dz-intro">Over 2 million developers have joined DZone.</div>
                <div class="mobile-invisible sign-in-join" ng-if="!$root.user.authenticated"><a href="#" ng-click="login()">Log In</a> <span class="dz-intro-span">/</span> <a href="#" ng-click="signIn()">Join</a></div>
                <button class="join-icon"><i class="icon-user" ng-if="!$root.user.authenticated" ng-click="login()"></i></button>
                <div class="headerSearch">
                    <button class="icon-search dropdown-toggle" ng-click="focusSearch()" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <li>
                            <form class="form-wrapper">
                                <label for="search" class="sr-only">Search</label>
                                <input id="search" role="search" ng-model="searchT" type="text" placeholder="Search" ng-model-options="{debounce: 500}" required>
                                <input type="button" value="Search" class="btn btn-action search-button" ng-click="allResults()" ng-disabled="searchT.length < 3">
                            </form>
                        </li>

                      <div class="results-area" ng-cloak>
                          <div class="col-md-12"><th-loader flag="loading"></th-loader></div>
                          <li ng-repeat="node in nodes">
                              <div class="results-container">
                                  <img dz-image-fid-width="80" dz-image-fid="{{ node.thumb }}">
                                  <div class="results-content">
                                    <a class="title" target="{{ node.type=='link'? '_blank' : '_self'}}" ng-href="{{node.urlOrigin}}">{{node.title}}</a>
                                    <p class="source">
                                        <span class="type">{{node.type}}</span>
                                        <span class="source-bullet"> &middot;</span>
                                        <span ng-if="node.type=='link'" class="link-source">{{ node.urlSource.name }}</span>
                                        <span ng-if="node.type=='link'" aria-hidden="true" class="source-bullet"> &middot;</span>
                                        <span class="source-date" am-time-ago="node.articleDate"></span>
                                        <span ng-if="node.type != 'guide'">
                                            by <a ng-bind-html="node.authors[0].realName" href="{{ node.authors[0].url }}" target="_blank" class="author-name" th-popup="users.profile.mini" popup-data="{user: node.authors[0].id}"></a>
                                        </span>
                                    </p>
                                    <div class="hover-buttons" ng-if="node.type=='refcard'">
                                        <a type="button" class="btn download" href="{{node.pdf}}"><i class="icon-download"></i> Download</a>
                                        <dz-save template="refcard-save.html" node="node" class="save-btn"></dz-save>
                                        <span class="download-count"><i class="icon-download"></i> {{node.downloads}}</span>
                                    </div>
                                  </div>
                                  <div class="clear"></div>
                              </div>
                          </li>
                      </div>

                      <div class="results-additional-actions" ng-if="totalResults || haveResults">
                        <div class="totalResults" ng-if="totalResults"><span>{{totalResults}} search results</span></div>
                        <li class="btn-vall" ng-if="haveResults">
                            <input type="button" value="View All Results" ng-click="allResults()" class="btn btn-action" ng-disabled="searchT.length < 3">
                        </li>
                      </div>
                    </ul>
                </div>

        </div>
    </div>
</div>

<div class="header-bottom">



    <ul class="portals header-container scrollable-ul">
            <li >
                <a href="/refcardz" id="header-refcardz"
                   
                >
                    <em>
                      Refcardz
                    </em>
                </a>
            </li>
            <li >
                <a href="/trendreports" id="header-research"
                   
                >
                    <em>
                      Trend Reports
                    </em>
                </a>
            </li>
            <li >
                <a href="/webinars" id="header-webinars"
                   
                >
                    <em>
                      Webinars
                    </em>
                </a>
            </li>
            <li class="last-portal-link">
                <a href="/portals" id="header-portals"
                   
                      ng-click="toggleZones('/portals', $event)"
                >
                    <em>
                      Zones
                      <span class="collapsible-toggle {{zonesOpen ? 'open': ''}}">
                        <i class="icon-angle-down"></i>
                        <i class="icon-angle-up"></i>
                      </span>
                    </em>
                </a>
            </li>

        <li class="separator" aria-hidden="true" style="color: #d9dcdd">|</li>
        <li class="portal-topics {{zonesOpen ? 'open': ''}}">
          <ul>
                <li>
                    <a href="/agile-methodology-training-tools-news" id="header-2"
                       ng-class="{'active-state': isActivePortal(2)}"
                    >
                        Agile
                    </a>
                </li>
                <li>
                    <a href="/artificial-intelligence-tutorials-tools-news" id="header-4001"
                       ng-class="{'active-state': isActivePortal(4001)}"
                    >
                        AI
                    </a>
                </li>
                <li>
                    <a href="/big-data-analytics-tutorials-tools-news" id="header-3"
                       ng-class="{'active-state': isActivePortal(3)}"
                    >
                        Big Data
                    </a>
                </li>
                <li>
                    <a href="/cloud-computing-tutorials-tools-news" id="header-4"
                       ng-class="{'active-state': isActivePortal(4)}"
                    >
                        Cloud
                    </a>
                </li>
                <li>
                    <a href="/database-sql-nosql-tutorials-tools-news" id="header-5"
                       ng-class="{'active-state': isActivePortal(5)}"
                    >
                        Database
                    </a>
                </li>
                <li>
                    <a href="/devops-tutorials-tools-news" id="header-6"
                       ng-class="{'active-state': isActivePortal(6)}"
                    >
                        DevOps
                    </a>
                </li>
                <li>
                    <a href="/enterprise-integration-training-tools-news" id="header-7"
                       ng-class="{'active-state': isActivePortal(7)}"
                    >
                        Integration
                    </a>
                </li>
                <li>
                    <a href="/iot-developer-tutorials-tools-news-reviews" id="header-8"
                       ng-class="{'active-state': isActivePortal(8)}"
                    >
                        IoT
                    </a>
                </li>
                <li>
                    <a href="/java-jdk-development-tutorials-tools-news" id="header-1"
                       ng-class="{'active-state': isActivePortal(1)}"
                    >
                        Java
                    </a>
                </li>
                <li>
                    <a href="/microservices-news-tutorials-tools" id="header-6001"
                       ng-class="{'active-state': isActivePortal(6001)}"
                    >
                        Microservices
                    </a>
                </li>
                <li>
                    <a href="/open-source-news-tutorials-tools" id="header-7001"
                       ng-class="{'active-state': isActivePortal(7001)}"
                    >
                        Open Source
                    </a>
                </li>
                <li>
                    <a href="/apm-tools-performance-monitoring-optimization" id="header-10"
                       ng-class="{'active-state': isActivePortal(10)}"
                    >
                        Performance
                    </a>
                </li>
                <li>
                    <a href="/application-web-network-security" id="header-2001"
                       ng-class="{'active-state': isActivePortal(2001)}"
                    >
                        Security
                    </a>
                </li>
                <li>
                    <a href="/web-development-programming-tutorials-tools-news" id="header-11"
                       ng-class="{'active-state': isActivePortal(11)}"
                    >
                        Web Dev
                    </a>
                </li>
          </ul>
        </li>
    </ul>
</div></div></div></div><div class="container-fluid body" th-element="body" th-element-groups="[]" ng-hide="$root.isHidden('body')" data-th-element-name="body"><div class="row mainContentRow" th-element="mainContentRow" th-element-groups="['body']" ng-hide="$root.isHidden('mainContentRow')" data-th-element-name="mainContentRow"><div class="col-md-12 announcementBar1 announcementBar oUhbYlrRaqMaoUhM" th-element="announcementBar1" th-element-groups="['body','mainContentRow']" ng-hide="$root.isHidden('announcementBar1')" data-th-element-name="announcementBar1" data-th-widget="announcementBar" data-widget-announcement-bar="" ng-controller="announcementBar1"><div ng-if="announcement && toShow" back-img hasImage="{{announcement.hasImage}}" img="{{announcement.img}}" imgBackup="{{announcement.img2}}" id="acontainer" class="ann-container" ng-cloak>
    <div class="ann-body">{{announcement.body}}</div><a ng-if="announcement.link" class="ann-link" ng-click="track(announcement.id)" ng-ref="{{announcement.link}}">{{announcement.title}}<span class="icon-right-dir"></span></a>
</div>
</div><div class="col-md-12 refcardzTopHeaderV34 layout-card refcardzTopHeaderV3 oUhbfSbmcnWOfYfWVcC" th-element="refcardzTopHeaderV34" th-element-groups="['body','mainContentRow']" ng-hide="$root.isHidden('refcardzTopHeaderV34')" data-th-element-name="refcardzTopHeaderV34" data-th-widget="refcardz.topHeaderV3" data-widget-refcardz-top-header-v3="" ng-controller="refcardzTopHeaderV34"><div class="refcardz-header">
    <script type="text/ng-template" id="asset-save.html">
<button type="button"
        class="btn btn-save btn-lg "
        ng-class="{'icon-star gold': status.saved, 'icon-star-empty': !status.saved}"
        ng-click="save()">
    <span class="save-title">{{ status.saved ? 'saved' : 'save' }}</span>
</button>
    </script>

        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "BreadcrumbList",
                "itemListElement": [{
                    "@type": "ListItem",
                    "position": 1,
                    "name": "DZone",
                    "item": "https://dzone.com"
                }, {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "Refcardz",
                    "item": "https://dzone.com/refcardz"
                }, {
                    "@type": "ListItem",
                    "position": 3,
                    "name": "Patterns of Modular Architecture",
                    "item": "https://dzone.com/refcardz/patterns-modular-architecture"
                }]
            }
        </script>

    <div class="row asset-details no-mobile">

        <div class="header-background col-xs-12" style="background: url('//dz2cdn3.dzone.com/storage/rc-covers/8772814-refcardheader166.png') no-repeat center center; background-size: cover;">
            <div class="breadcrumb-container row">
                <div class="col-xs-12 breadcrumb-padding">
                    <a href="/">DZone</a>
                    >
                    <a href="/refcardz">Refcardz</a>
                    >
                    <a href="#">Patterns of Modular Architecture</a>
                </div>
            </div>

            <div class="row">
                <div class="cog-area">
                </div>

                <div class="mobile-image col-xs-12">
                    <img class="cover" src="//dz2cdn2.dzone.com/storage/rc-covers/4225-dzone_refcard_166.png" alt="refcard cover">
                </div>
            </div>

            <div class="row info-zone">
                <div class="col-xs-12 col-sm-8">
                    <span class="asset-number">Refcard #166</span>
                    <h1 class="asset-title">Patterns of Modular Architecture</h1>
                </div>
            </div>
        </div>
        <div class="header-info-container col-xs-12">
            <div class="row info-zone">
                <div class="asset-sub-details col-xs-12 col-sm-8">
                      <h2 class="subtitle">18 Patterns for the Java Platform</h2>
                    <p class="asset-description">Covers 18 modularity patterns to help developers incorporate modular design thinking into development initiatives.</p>
                    <div class="button-container">
                        <div class="download-save">
                                <div class="asset-buttons no-campaign">
                                    <dz-download asset="'/asset/download/38831'" user="false" cta="'Refcard'"></dz-download>
                                    <div class="download-label">Free PDF for Easy Reference</div>
                                </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-4 asset-authors-zone">
                    <a type="button" class="cover-download" ng-click="$root.user.authenticated ? showDownload() : showRegistration()">
                        <img class="cover" src="//dz2cdn2.dzone.com/storage/rc-covers/4225-dzone_refcard_166.png" alt="refcard cover">
                    </a>
                    <div class="row">
                        <div class="col-xs-12 asset-authors">
                            <div class="col-xs-12 writing-by">
                                <p>Written By</p>
                            </div>
                            <div class="col-xs-12 asset-authors">
                                    <div class="asset-author">
                                        <a class="asset-author-avatar" href="/users/238461/kirkk.html">
                                            <img src="https://secure.gravatar.com/avatar/15228d196c80f22e5474950ef44604d8?d=identicon&r=PG" alt="author avatar" class="avatar" width="40">
                                        </a>
                                        <span class="asset-author-info">
                                            <a href="/users/238461/kirkk.html" class="asset-author-name" th-popup="users.profile.mini" popup-data="{user: 238461}">
                                                Kirk Knoernschild
                                            </a>
                                            <div>Software Developer, Developer</div>
                                        </span>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 separator"></div>
        </div>
    </div>
</div></div><div class="col-md-12 assetsContentChapters5 layout-card assetsContentChapters oUhbcgvMlhqMSsfboUhM" th-element="assetsContentChapters5" th-element-groups="['body','mainContentRow']" ng-hide="$root.isHidden('assetsContentChapters5')" data-th-element-name="assetsContentChapters5" data-th-widget="assets.content.chapters" data-widget-assets-content-chapters="" ng-controller="assetsContentChapters5"><div class="refcard-details row">
    <div class="obsolete-warning" ng-if="refcard.isOld" ng-cloak>
        <old-warning-message time="refcard.creationDate" body="daysOldBody" type="refcard.rawType" title="daysOldTitle"></old-warning-message>
    </div>

    <div class="refcard-content row">
        <div class="col-xs-12">
            <div id="table-contents">
                <div class="tc-title">
                    <span class="tc-blue">Table of Contents</span>
                    <span class="tc-separator"></span>
                </div>

                <div class="chapter-index">
                                            <a class="tc-chapter-title" ng-click="scrollTo($event, '#section-1')" href="#section-1">
                            <span aria-hidden="true">&#9658;</span>
                            About the Modularity Patterns
                        </a>
                        <a class="tc-chapter-title" ng-click="scrollTo($event, '#section-2')" href="#section-2">
                            <span aria-hidden="true">&#9658;</span>
                            Base Patterns
                        </a>
                        <a class="tc-chapter-title" ng-click="scrollTo($event, '#section-3')" href="#section-3">
                            <span aria-hidden="true">&#9658;</span>
                            Dependency Patterns
                        </a>
                        <a class="tc-chapter-title" ng-click="scrollTo($event, '#section-4')" href="#section-4">
                            <span aria-hidden="true">&#9658;</span>
                            Usability Patterns
                        </a>
                        <a class="tc-chapter-title" ng-click="scrollTo($event, '#section-5')" href="#section-5">
                            <span aria-hidden="true">&#9658;</span>
                            Extensibility Patterns
                        </a>
                        <a class="tc-chapter-title" ng-click="scrollTo($event, '#section-6')" href="#section-6">
                            <span aria-hidden="true">&#9658;</span>
                            Utility Patterns
                        </a>
                </div>
            </div>

                <div class="content">
                    <div id="section-1" class="chapter-box tc-blue">Section 1</div>
                    <h2 class="chapter-title">About the Modularity Patterns</h2>
                    <div class="content-html" dz-code-container ng-non-bindable>
                        <p pid="3">Module frameworks are gaining traction on the Java platform. Though modularity isn't a new concept, it promises to change the way we develop software applications. You'll only be able to realize the benefits of modularity if you understand how to design more modular software systems.</p><p pid="4">The modularity patterns lay the foundation necessary to incorporate modular design thinking into your development initiatives. No module framework is necessary to use these patterns, and you already have many of the tools you need to design modular software. This refcard provides a quick reference to the 18 modularity patterns discussed in the book <em>Java Application Architecture: Modularity Patterns with Examples Using OSGi.</em></p><p pid="5">The modularity patterns are not specific to the Java platform. They can be applied on any platform by treating the unit of release and deployment as the module. Each pattern includes a diagram (except for base patterns), description, and implementation guidance.</p><p pid="6"><strong>Base Patterns:</strong> Fundamental modular design concepts upon which several other patterns exist.</p><p pid="7"><strong>Dependency Patterns:</strong> Used to help you manage dependencies between modules.</p><p pid="8"><strong>Usability Patterns:</strong> Used to help you design modules that are easy to use.</p><p pid="9"><strong>Extensibility Patterns:</strong> Used to help you design flexible modules that you can extend with new functionality.</p><p pid="10"><strong>Utility Patterns:</strong> Used as tools to aid modular development.</p><h3>Logical vs. Modular Design</h3><p pid="11">Almost all well-known principles and patterns that aid software design address logical design. Identifying the methods of a class, relationships between classes, and the system package structure are all logical design issues. The vast majority of development teams spend their time dealing with logical design issues. A flexible logical design eases maintenance and increases extensibility.</p><p pid="12">Logical design is just one piece of the software design and architecture challenge, however. The other is modular design, which focuses on the physical entities and the relationships between them. Identifying the entities containing your logical design constructs and managing dependencies between the units of deployment are examples of modular design. Without modular design, you may not realize the benefits you expect from your logical design. The modularity patterns help you:</p><ul>
 <li>Design software that is extensible, reusable, maintainable, and adaptable.</li>
 <li>Design modular software today, in anticipation of future platform support for modularity.</li>
 <li>Break large software systems into a flexible composite of collaborating modules.</li>
 <li>Understand where to place your architectural focus</li>
 <li>Migrate large-scale monolithic applications to applications with a modular architecture.</li>
</ul><h3>The Two Facets of Modularity</h3><p pid="13">There are two facets of modularity.</p><p pid="14">The runtime model focuses on how to manage software systems at runtime. A module system, such as OSGi, is required to take advantage of the runtime model.</p><p pid="15">The development model deals with how developers create modular software. The development model can be broken down into two subcategories. The programming model is how you interact with a module framework to take advantage of the runtime benefits of modularity. The design paradigm is the set of patterns you apply to design great modules.</p><p pid="16">A module framework gives you runtime support and a programming model for modularity. But a module framework won't help you design great software modules. The patterns in this refcard address the design paradigm and help you design modular software.</p><h3>Module Defined</h3><p pid="17">A software module is a deployable, manageable, natively reusable, composable, stateless unit of software that provides a concise interface to consumers. On the Java platform, a module is a JAR file, as depicted in the diagram. The patterns in this refcard help you design modular software and realize the benefits of modularity.</p><p pid="18"><img alt="module defined" class="fr-dii fr-fil" src="/storage/rc-covers/13440-thumb.png" /></p>
                    </div>
                </div>
                <div class="content">
                    <div id="section-2" class="chapter-box tc-blue">Section 2</div>
                    <h2 class="chapter-title">Base Patterns</h2>
                    <div class="content-html" dz-code-container ng-non-bindable>
                        <p pid="19">The base patterns are the fundamental elements upon which the other patterns exist. They establish the conscientious thought process that goes into designing systems with a modular architecture. They focus on modules as the unit of reuse, dependency management, and cohesion.</p><h3>Manage Relationships</h3><p pid="20">Design module relationships.</p><p pid="21"><strong>Description</strong></p><p pid="22">A relationship between two modules exists when a class within one module imports at least a single class within another module. In other words:</p><div class="hot_tip">
 <p><img alt="Hot Tip" class="hot_tip_icon fr-dii fr-fil" src="/storage/rc-covers/13441-thumb.png" /></p>
 <p>If changing the contents of a module, M2, may impact the contents of another module, M1, we can say that M1 has a physical dependency on M2.</p>
</div><p pid="23">Excessive dependencies will make your modules more difficult to maintain, reuse, and test.</p><p pid="24"><strong>Implementation Guidance</strong></p><ul>
 <li>Avoid modules with excessive incoming and outgoing dependencies.</li>
 <li>Modules with many incoming dependencies should be stable. That is, they should change infrequently</li>
 <li>Use module dependencies as a system of checks and balances. For instance, enforce relationships between software layers using modularity (see Physical Layers).</li>
</ul><h3>Module Reuse</h3><p pid="25">Emphasize reusability at the module level.</p><p pid="26"><strong>Description</strong></p><p pid="27">An oft-cited benefit of object-oriented development is reuse. Unfortunately, objects (or classes) are not an adequate reuse construct. The Reuse Release Equivalence Principle explains why.</p><div class="hot_tip">
 <p><img alt="Hot Tip" class="hot_tip_icon fr-dii fr-fil" src="/storage/rc-covers/13442-thumb.png" /></p>
 <p>The unit of reuse is the unit of release.</p>
</div><p pid="28">Modules are a unit of release and are, therefore, an excellent candidate as the unit of reuse.</p><p pid="29"><strong>Implementation Guidance</strong></p><ul>
 <li>Separate horizontal modules (those that span business domains) from vertical modules (those specific to a business domain).</li>
 <li>Module granularity and weight play a significant role in reuse. Carefully consider each.</li>
 <li>Fine-grained modules with external configuration come with a higher likelihood of reuse. But beware, these modules may be more difficult to use.</li>
</ul><h3>Cohesive Modules</h3><p pid="30">Module behavior should serve a singular purpose.</p><p pid="31"><strong>Description</strong></p><p pid="32">Cohesion is a measure of how closely related and focused the various responsibilities of a module are. Modules that lack cohesion are more difficult to maintain.</p><p pid="33"><strong>Implementation Guidance</strong></p><ul>
 <li>Pay careful attention to how you allocate classes to their respective modules.</li>
 <li>Classes changing at the same rate and typically reused together belong in the same module.</li>
 <li>Classes changing at different rates and typically not reused together belong in separate modules.</li>
</ul>
                    </div>
                </div>
                <div class="content">
                    <div id="section-3" class="chapter-box tc-blue">Section 3</div>
                    <h2 class="chapter-title">Dependency Patterns</h2>
                    <div class="content-html" dz-code-container ng-non-bindable>
                        <p pid="34">The dependency patterns focus on managing the relationships between modules. They provide guidance on managing coupling that increase the likelihood of module reuse.</p><h3>Acyclic Relationships</h3><p pid="35">Module relationships must be acyclic.</p><p pid="36"><img alt="acyclicrelationships" class="fr-fil fr-dib" src="/storage/rc-covers/13443-thumb.png" /></p><p pid="37"><strong>Description</strong></p><p pid="38">Cyclic relationships complicate the module structure. Apply the following rule to identify cyclic relationships.</p><div class="hot_tip">
 <p><img alt="Hot Tip" class="hot_tip_icon fr-dii fr-fil" src="/storage/rc-covers/13444-thumb.png" /></p>
 <p>If beginning with module A, you can follow the dependency relationships between the set of modules that A is directly or indirectly dependent upon and you find any dependency on module A within that set, then a cyclic dependency exists between your module structure.</p>
</div><p pid="39">You should avoid cyclic dependencies.</p><p pid="40"><strong>Implementation Guidance</strong></p><ul>
 <li>Escalation breaks cycles by moving the cause of the cyclic dependency to a managing module at a higher level.</li>
 <li>Demotion breaks cycles by moving the cause of the cyclic dependency to a lower-level module.</li>
 <li>Callbacks break a cycle by defining an abstraction that is injected into the dependent module. This implementation resembles the Observer [GOF] pattern.</li>
</ul><h3>Levelize Modules</h3><p pid="41">Module relationships should be levelized.</p><p pid="42"><img alt="levelizemodules" class="fr-fil fr-dib" src="/storage/rc-covers/13446-thumb.png" /></p><p pid="43"><strong>Description</strong></p><p pid="44">Levelization is similar to layering, but is a finer-grained way to manage acyclic relationships between modules. With levelization, a single layer may contain multiple module levels. To levelize modules, do the following: Assign external modules level 0. Modules dependent only on level 0 modules are assigned level 1. Modules dependent on level 1 are assigned level 2. Modules dependent on level n are assigned level n + 1.</p><p pid="45"><strong>Implementation Guidance</strong></p><ul>
 <li>Levels are more granular than the layers in your system. Use levels to manage relationships within layers.</li>
 <li>Levelization demands module relationships be acyclic. You cannot levelize a module structure with cycles.</li>
 <li>A strict levelization scheme, where modules are dependent only on the level directly beneath it, is conceptually ideal but pragmatically difficult.</li>
</ul><h3>Physical Layers</h3><p pid="46">Module relationships should not violate the conceptual layers.</p><p pid="47"><img alt="physicallayers" class="fr-fil fr-dib" src="/storage/rc-covers/13447-thumb.png" /></p><p pid="48"><strong>Description</strong></p><p pid="49">Layering a system helps ease maintenance and testability of the application. Common layers include presentation (i.e., user interface), domain (i.e., business), and data access. Any conceptually layered software system can be broken down into modules that correspond to these conceptual layers. Physical layers helps increase reusability because each layer is a deployable unit.</p><p pid="50"><strong>Implementation Guidance</strong></p><ul>
 <li>Begin by creating a single coarse-grained module for each layer.</li>
 <li>Enforce the layers using Levelize Build.</li>
 <li>Break out each layer into more cohesive modules and use Levelize Modules to understand and manage the relationships within the layer.</li>
 <li>It's fine if modules within a layer have relationships between them. These modules will be at different levels.</li>
</ul><h3>Container Independence</h3><p pid="51">Modules should be independent of the runtime container.</p><p pid="52"><img alt="containerindependence" class="fr-fil fr-dib" src="/storage/rc-covers/13448-thumb.png" /></p><p pid="53"><strong>Description</strong></p><p pid="54">Heavyweight modules are dependent upon a specific runtime environment and are difficult to reuse across contexts. Environmental dependencies also negatively affect your ability to test modules. Modules independent of the runtime container are more likely reused, and are more easily maintained and testable.</p><p pid="55"><strong>Implementation Guidance</strong></p><ul>
 <li>Avoid importing container-dependent packages in your module's code.</li>
 <li>Use External Configuration to configure a module so that it can operate in different runtime environments.</li>
 <li>Use dependency injection to abstract container dependencies.</li>
</ul><h3>Independent Deployment</h3><p pid="56">Modules should be independently deployable units.</p><p pid="57"><img alt="independent deployment" class="fr-fil fr-dib" src="/storage/rc-covers/13449-thumb.png" /></p><p pid="58"><strong>Description</strong></p><p pid="59">The less outgoing dependencies a module has, the easier the module is to reuse. A module with no outgoing dependencies is independently deployable and can be reused without the worry of identifying which additional modules might be necessary. Lower-level modules inherently have fewer outgoing dependencies and increase the opportunity for reuse.</p><p pid="60"><strong>Implementation Guidance</strong></p><ul>
 <li>Not all modules can be independently deployable. Some module dependencies are always necessary.</li>
 <li>In additional to reducing outgoing dependencies, container dependencies must also be minimized for those modules that are independently deployable.</li>
 <li>Highly cohesive modules are easier to make independently deployable units.</li>
</ul>
                    </div>
                </div>
                <div class="content">
                    <div id="section-4" class="chapter-box tc-blue">Section 4</div>
                    <h2 class="chapter-title">Usability Patterns</h2>
                    <div class="content-html" dz-code-container ng-non-bindable>
                        <p pid="61">We want modules that other developers find easy to interact with. The usability patterns help design modules that are easy to understand and use.</p><h3>Published Interface</h3><p pid="62">Make a module's published interface well known.</p><p pid="63"><img alt="publishedinterface" class="fr-fil fr-dib" src="/storage/rc-covers/13450-thumb.png" /></p><p pid="64"><strong>Description</strong></p><p pid="65">Modules should encapsulate implementation details so that other modules don't need to understand the implementation to use the module. A module's published interface exposes the capabilities you want to make available to other developers.</p><div class="hot_tip">
 <p><img alt="Hot Tip" class="hot_tip_icon fr-dii fr-fil" src="/storage/rc-covers/13451-thumb.png" /></p>
 <p>A published interface consists of the public methods within the public classes within the &quot;exported&quot; packages that other modules are able to invoke.</p>
</div><p pid="66">In standard Java, there is no way to explicitly state which packages a module exports, so it's difficult to enforce a published interface. Module frameworks, such as OSGi, shine in this situation.</p><p pid="67"><strong>Implementation Guidance</strong></p><ul>
 <li>In standard Java, document the published interface you expect other clients to invoke.</li>
 <li>In standard Java, expose the published interface via abstractions and discourage other developers from using the concrete classes.</li>
 <li>Module frameworks, such as OSGi, allow you to export packages and allow you to more easily enforce a published interface.</li>
</ul><h3>External Configuration</h3><p pid="68">Modules should be externally configurable.</p><p pid="69"><img alt="externalconfig" class="fr-fil fr-dib" src="/storage/rc-covers/13452-thumb.png" /></p><p pid="70"><strong>Description</strong></p><p pid="71">Module initialization typically requires configuring the module to its environmental context. Externalizing the configuration decreases context dependencies and allows you to use the module across a wider array of environments. External configuration increases a module's reuse, but makes it more difficult to use because developers must understand how to configure the module.</p><p pid="72"><strong>Implementation Guidance</strong></p><ul>
 <li>Use External Configuration to eliminate a module's environmental dependencies.</li>
 <li>Include a configuration file within the module that defines a default configuration, making the module easier to use.</li>
 <li>Remain cognizant of thus tradeoff between increased reuse and decreased usability. In other words, maximizing reuse complicates use.</li>
</ul><h3>Default Implementation</h3><p pid="73">Provide modules with a default implementation.</p><p pid="74"><img alt="defaultimplementation" class="fr-fil fr-dib" src="/storage/rc-covers/13453-thumb.png" /></p><p pid="75"><strong>Description</strong></p><p pid="76">To maximize reuse, a module must be flexible enough so that it can function in a variety of different operating environments. Yet, making a module easier to use leads us to incorporate more functionality into a module so developers are required to do less when using the module. A default implementation with well-defined extension points helps address this tension.</p><p pid="77"><strong>Implementation Guidance</strong></p><ul>
 <li>When defining a Default Implementation, depend upon the abstract elements of a module (see Abstract Modules or Separate Abstractions).</li>
 <li>Include a default configuration in the module, but make the module externally configurable, as well.</li>
 <li>Always create a Test Module to test the default implementation.</li>
</ul><h3>Module Fa&ccedil;ade</h3><p pid="78">Create a fa&ccedil;ade serving as a coarse-grained entry point to another finegrained module's underlying implementation.</p><p pid="79"><img alt="modulefacade" class="fr-fil fr-dib" src="/storage/rc-covers/13454-thumb.png" /></p><p pid="80"><strong>Description</strong></p><p pid="81">Fine-grained and lightweight modules are inherently more reusable. But fine-grained modules are also typically dependent on several other modules. A Module Fa&ccedil;ade defines a higher level API that coordinates the work of a set of fine-grained modules. The fa&ccedil;ade emphasizes ease of use while the finer-grained modules emphasize reuse.</p><p pid="82"><strong>Implementation Guidance</strong></p><ul>
 <li>Don't emphasize reuse of the fa&ccedil;ade. Use it to wire together and configure multiple fine-grained modules.</li>
 <li>Place context and environmental dependencies in the fa&ccedil;ade.</li>
 <li>Use the fa&ccedil;ade as an entry point for your integration tests.</li>
</ul>
                    </div>
                </div>
                <div class="content">
                    <div id="section-5" class="chapter-box tc-blue">Section 5</div>
                    <h2 class="chapter-title">Extensibility Patterns</h2>
                    <div class="content-html" dz-code-container ng-non-bindable>
                        <p pid="83">We want software that is easy to extend without modifying the existing codebase. We also want to deploy this new functionality without affecting other areas of the system. The extensibility patterns help us achieve this goal.</p><h3>Abstract Modules</h3><p pid="84">Depend upon the abstract elements of a module.</p><p pid="85"><img alt="abstractmodules" class="fr-fil fr-dib" src="/storage/rc-covers/13455-thumb.png" /></p><p pid="86"><strong>Description</strong></p><p pid="87">Depending on the abstract elements of a module gives you greater opportunities to extend the system by defining new modules with classes that implement or extend the abstraction. Any clients of the module also have the ability to define their own implementations and plug them into the module.</p><p pid="88"><strong>Implementation Guidance</strong></p><ul>
 <li>Use an Implementation Factory to create a module's underlying implementation.</li>
 <li>Use Abstract Modules when you have many incoming module dependencies and you want the flexibility to swap out underlying implementations.</li>
 <li>Strive to make the abstraction within a module as stable as possible. That is, avoid changes since it will have many many other modules are dependent upon it.</li>
</ul><h3>Implementation Factory</h3><p pid="89">Use factories to create a module's implementation classes.</p><p pid="90"><img alt="implementation factory" class="fr-fil fr-dib" src="/storage/rc-covers/13456-thumb.png" /></p><p pid="91"><strong>Description</strong></p><p pid="92">Any module whose classes depend upon the abstract elements of another module should avoid referencing any implementation classes. Doing so will compromise your module design. Consider the following rule.</p><div class="hot_tip">
 <p><img alt="Hot Tip" class="hot_tip_icon fr-dii fr-fil" src="/storage/rc-covers/13457-thumb.png" /></p>
 <p>If a class depending on an abstraction must be changed in order to instantiate a new implementation of the abstraction, the design is flawed.</p>
</div><p pid="93">Furthermore, if a module must be changed to accommodate the instantiation, the module design is compromised.</p><p pid="94"><strong>Implementation Guidance</strong></p><ul>
 <li>The factory must be separated from the module containing the class instances it creates as well as the module dependent upon the abstractions.</li>
 <li>Externalize the creation of a module's implementation to a configuration file.</li>
 <li>Consider using a dependency injection framework like Spring, OSGi Blueprint, or OSGi Declarative Services. These will serve as your factory to wire together the appropriate implementations at runtime.</li>
</ul><h3>Separate Abstractions</h3><p pid="95">Place abstractions and the classes that implement them in separate modules.</p><p pid="96"><img alt="separate abstractions" class="fr-fil fr-dib" src="/storage/rc-covers/13458-thumb.png" /></p><p pid="97"><strong>Description</strong></p><p pid="98">Separating abstractions from their implementation offers the greatest flexibility to provide new implementations that completely replace existing implementations. With Separate Abstractions, you can define new behavior and plug it into your system without affecting existing system modules. Separate Abstractions can be used to develop a plug-in architecture. As a general guideline, apply the following rule.</p><div class="hot_tip">
 <p><img alt="Hot Tip" class="hot_tip_icon fr-dii fr-fil" src="/storage/rc-covers/13459-thumb.png" /></p>
 <p>Keep the abstraction closer to the classes that depend upon it and further from the classes that extend or implement it.</p>
</div><p pid="99"><strong>Implementation Guidance</strong></p><ul>
 <li>If all classes that depend upon an abstraction live in a single module, then place the classes and the abstraction in the same module.</li>
 <li>If the classes dependent upon an abstraction live in separate modules, place the abstraction in a module separate from the classes that depend upon it.</li>
 <li>Separating abstractions lends the ultimately flexibility to extend your system, but also increases it's complexity.</li>
</ul>
                    </div>
                </div>
                <div class="content">
                    <div id="section-6" class="chapter-box tc-blue">Section 6</div>
                    <h2 class="chapter-title">Utility Patterns</h2>
                    <div class="content-html" dz-code-container ng-non-bindable>
                        <p pid="100">The utility patterns are additional tools and techniques that aid modular development. They help you enforce your modular design and ensure quality.</p><h3>Colocate Exceptions</h3><p pid="101">Exceptions should be close to the class or interface that throws them.</p><p pid="102"><img alt="colocate" class="fr-fil fr-dib" src="/storage/rc-covers/13460-thumb.png" /></p><p pid="103"><strong>Description</strong></p><p pid="104">Allocation of exceptions to modules has implications on module dependencies. Putting exceptions close to the classes that catch them creates a dependency from the module that throws the exception to the module containing the exception. Because invoking a method can introduce a module dependency, exceptions should be in the same module as the class containing the method that throws the exception.</p><p pid="105"><strong>Implementation Guidance</strong></p><ul>
 <li>Throw the exception on the interface or abstract class you're bound to and place the exception in the same module as the interface or abstract class.</li>
 <li>If abstractions across several modules throw the same exception, demote the exception to a completely separate module at a lower level.</li>
</ul><h3>Levelize Build</h3><p pid="106">Execute the build in accordance with module levelization.</p><p pid="107"><img alt="levelizebuild" class="fr-fil fr-dib" src="/storage/rc-covers/13461-thumb.png" /></p><p pid="108"><strong>Description</strong></p><p pid="109">Enforcing module relationships is difficult. Though conceptually you may believe you have an acyclic module structure and fully comprehend the module relationships, a single build target with everything on the classpath allows undesirable cycles and dependencies to creep in. A levelized build helps you enforce your module dependencies. Any dependencies that violate your defined module structure will result in a build failure.</p><p pid="110"><strong>Implementation Guidance</strong></p><ul>
 <li>Avoid a full classpath build, where all classes are built using a single compile target.</li>
 <li>Define separate build targets for modules in different levels. Level 1 modules can be built with only external level 0 modules. At higher levels, include only the modules from lower levels that are required for a successful build.</li>
 <li>Defining new module dependencies will require modifying the build for that module. This is not necessarily undesirable.</li>
</ul><h3>Test Module</h3><p pid="111">Each module should have a corresponding test module.</p><p pid="112"><img alt="testmodule" class="fr-fil fr-dib" src="/storage/rc-covers/13462-thumb.png" /></p><p pid="113"><strong>Description</strong></p><p pid="114">Test modules contain all of the tests for the classes in a specific module. They allow you to test a module's underlying implementation. A Test Module may contain unit tests that test a module's classes, as well as integration tests that test the entire module's functionality.</p><p pid="115"><strong>Implementation Guidance</strong></p><ul>
 <li>Depending on Abstract Modules make it easier to define mocks and stubs for testing a module independently.</li>
 <li>For larger tests suites, or situations where performance is paramount, separate different types of tests (i.e., unit tests, integration tests, performance tests, etc.) out into separate test modules.</li>
 <li>Ideally, you'll only include the test module and the module under test in the classpath when executing the tests. Pragmatically, some modules may require other dependent modules.</li>
</ul>
                    </div>
                </div>

            <div class="row">
                <div class="related col-xs-12">
                    <h3>Like This Refcard? Read More From DZone</h3>
                    <div class="relateddiv">
                        <div ng-repeat="related in refcard.relatedArticles" class="related-container">
                            <a ng-href="{{::related.url}}?fromrel=true">
                                <img class="relatedimg lazyload"
                                     dz-image-fid-width="120"
                                     dz-image-fid="{{related.img}}"
                                     data-lazy="true"
                                     alt="related article thumbnail"
                                     width="60">
                            </a>
                            <a ng-href="{{::related.url}}?fromrel=true" class="relatedres-text">
                                <p class="relatedres">DZone Article</p>
                                <div ng-bind="related.title"></div>
                            </a>
                        </div>

                        <div ng-repeat="related in refcard.relatedRefcards" class="related-container">
                            <a href="{{::related.url}}?fromrel=true">
                                <img class="relatedimg lazyload"
                                     dz-image-fid-width="120"
                                     dz-image-fid="{{related.img}}"
                                     data-lazy="true"
                                     alt="related refcard thumbnail"
                                     width="60">
                            </a>
                            <a href="{{::related.url}}?fromrel=true" class="relatedres-text">
                                <p class="relatedres">Free DZone Refcard</p>
                                <div ng-bind="related.title"></div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div></div></div></div><div class="container-fluid footerOuter" th-element="footerOuter" th-element-groups="[]" ng-hide="$root.isHidden('footerOuter')" data-th-element-name="footerOuter"><div class="row row2" th-element="row2" th-element-groups="['footerOuter']" ng-hide="$root.isHidden('row2')" data-th-element-name="row2"><div class="col-md-12 container3" th-element="container3" th-element-groups="['footerOuter','row2']" ng-hide="$root.isHidden('container3')" data-th-element-name="container3"><div class="container container3" th-element="container3" th-element-groups="['footerOuter','row2','container3']" ng-hide="$root.isHidden('container3')" data-th-element-name="container3"><div class="row footer" th-element="footer" th-element-groups="['footerOuter','row2','container3','container3']" ng-hide="$root.isHidden('footer')" data-th-element-name="footer"><div class="col-md-12 footerFooterV28 footerFooterV2 oUhbdrfPmhwBdrfXM" th-element="footerFooterV28" th-element-groups="['footerOuter','row2','container3','container3','footer']" ng-hide="$root.isHidden('footerFooterV28')" data-th-element-name="footerFooterV28" data-th-widget="footer.footerV2" data-widget-footer-footer-v2="" ng-controller="footerFooterV28"><div class="row footerContainer">
    <div class="left col-xs-12 col-sm-7">
        <div class="col-xs-12 social-media-icons footer-mobile">
            <ul class="icons-only">
                <li class="rss-icon" id="rss-footer-1">
                    <a href="/pages/feeds" target="_blank" rel="noreferrer noopener">
                        <i class="icon-rss-1"></i>
                    </a>
                </li>
                <li class="twitter-icon">
                    <a href="https://twitter.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                        <i class="icon-twitter"></i>
                    </a>
                </li>
                <li class="facebook-icon">
                    <a href="https://www.facebook.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                        <i class="icon-facebook-1"></i>
                    </a>
                </li>
                <li class="linkedin-icon">
                    <a href="https://www.linkedin.com/company/dzone/" target="_blank" rel="noreferrer noopener">
                        <i class="icon-linkedin-1"></i>
                    </a>
                </li>
            </ul>
        </div>

        <div class="top-section col-xs-12">
            <div class="col-xs-12 col-sm-6">
                <p class="section-header">ABOUT US</p>
                <ul class="link-group">
                    <li><a href="/pages/about" rel="noreferrer noopener">About DZone</a></li>
                    <li><a href="mailto:support@dzone.com" rel="noreferrer noopener">Send feedback</a></li>
                    <li><a href="https://careers.dzone.com/" target="_blank" rel="noreferrer noopener">Careers</a></li>
                                            <li><a href="/sitemap" rel="noreferrer noopener">Sitemap</a></li>
                </ul>
            </div>
            <div class="col-xs-12 col-sm-6">
                <p class="section-header">ADVERTISE</p>
                <ul class="link-group">
                    <li><a href="https://advertise.dzone.com" target="_blank" rel="noreferrer noopener">Advertise with DZone</a></li>
                </ul>
            </div>
        </div>

        <div class="bottom-section col-xs-12">
            <div class="col-xs-12 col-sm-6">
                <p class="section-header">CONTRIBUTE ON DZONE</p>
                <ul class="bottom-top-list link-group">
                    <li><a href="/articles/dzones-article-submission-guidelines">Article Submission Guidelines</a></li>
                    <li><a href="/pages/mvb" rel="noreferrer noopener">MVB Program</a></li>
                    <li><a href="/pages/contribute" rel="noreferrer noopener">Become a Contributor</a></li>
                    <li><a href="/writers-zone" rel="noreferrer noopener">Visit the Writers' Zone</a></li>
                </ul>

                <p class="section-header">LEGAL</p>
                <ul class="link-group">
                    <li><a href="/pages/tos" rel="noreferrer noopener">Terms of Service</a></li>
                    <li><a href="/pages/privacy" rel="noreferrer noopener">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="col-xs-12 col-sm-6">
                <p class="section-header">CONTACT US</p>
                <ul class="link-group">
                    <li>600 Park Offices Drive</li>
                    <li>Suite 300</li>
                    <li>Durham, NC 27709</li>
                    <li><a href="mailto:support@dzone.com" rel="noreferrer noopener">support@dzone.com</a></li>
                    <li><a href="tel:+19196780300" rel="noreferrer noopener">+1 (919) 678-0300</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="right col-xs-12 col-sm-5">

        <p class="connect-text">Let's be friends:</p>
        <div class="col-xs-12 social-media-icons footer-wide">
            <ul class="icons-only">
                <li class="rss-icon" id="rss-footer-1">
                    <a href="/pages/feeds" target="_blank" rel="noreferrer noopener">
                        <i class="icon-rss-1"></i>
                    </a>
                </li>
                <li class="twitter-icon">
                    <a href="https://twitter.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                        <i class="icon-twitter"></i>
                    </a>
                </li>
                <li class="facebook-icon">
                    <a href="https://www.facebook.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                        <i class="icon-facebook-1"></i>
                    </a>
                </li>
                <li class="linkedin-icon">
                    <a href="https://www.linkedin.com/company/dzone/" target="_blank" rel="noreferrer noopener">
                        <i class="icon-linkedin-1"></i>
                    </a>
                </li>
            </ul>
        </div>

        <div class="col-xs-12 powered-by">
            <p>DZone.com is powered by&nbsp;</p>
            <a href="https://devada.com/answerhub/" rel="noreferrer noopener">
                <img src="" data-src="/themes/dz20/images/answerhub_logo_white_footer.png" class="lazyload"
                     width="150" height="56" alt="AnswerHub logo">
            </a>
        </div>
    </div>
</div>
</div></div></div></div></div></div><div class=" componentsSlider6 componentsSlider oUhballbvbdSaoUhM" th-element="componentsSlider6" th-element-groups="[]" ng-hide="$root.isHidden('componentsSlider6')" data-th-element-name="componentsSlider6" data-th-widget="components.slider" data-widget-components-slider="" ng-controller="componentsSlider6"><div class="background" ng-class="{open: _sliderOpen}" ng-if="_ready" ng-click="close()">
</div>

<div class="slider-outer-wrapper" ng-class="{open: _sliderOpen}">

    <div class="row slider-inner-wrapper" ng-if="_ready">
        <div class=" componentsSlider6.widgets" th-element="componentsSlider6.widgets" th-element-groups="['componentsSlider6']" ng-hide="$root.isHidden('componentsSlider6.widgets')" data-th-element-name="componentsSlider6.widgets"><div class="col-md-12 contentCommentsSlider7 contentCommentsSlider oUhbaqbcaibvnWffWVcC" th-element="contentCommentsSlider7" th-element-groups="['componentsSlider6','componentsSlider6.widgets']" ng-hide="$root.isHidden('contentCommentsSlider7')" data-th-element-name="contentCommentsSlider7" data-th-widget="content.commentsSlider" data-widget-content-comments-slider="" ng-controller="contentCommentsSlider7"><script type="text/ng-template" id="link-article-save.html">
    <div ng-class="{'icon-star gold': status.saved, 'icon-star-empty': !status.saved}" ng-click="save()" class="save"><span class="save-title">Save</span><span ng-if="status.saved" class="d-letter">d</span></div>
</script>

<div class="comment-slider-content">

    <div class="node-info">
        <div class="comment-title">
            <h1 class="parent-title">{{ parent.title || parent.header.title}}</h1>
            <p ng-if="parent.tldr"  class="tldr">{{ parent.tldr }}</p>
            <h3 ng-if="parent.title" class="link-description" >{{ parent.linkDescription }}</h3>
            <a ng-if="parent.title" ng-href="{{parent.url}}" class="link-source">{{ parent.urlSource.name }}</a>
        </div>
    </div>
    <div class="author-n-article-info">
        <div class="author-avatar">
            <a ng-href="{{ parent.authors[0].url || parent.authorUrl }}">
                <img dz-image-fid-width="80" dz-image-fid="{{ parent.authors[0].avatar || parent.authorAvatar }}" class="avatar" width="40" />
            </a>
        </div>
        <div class="author-name">
            by
            <a ng-bind-html="parent.authors[0].realName ? parent.authors[0].realName : parent.author" th-popup="users.profile.mini" popup-data="{user: parent.authors[0].id || parent.authorId }" ng-href="{{ parent.authors[0].url || parent.authorUrl }}"></a>

            <div ng-if="parent.authors[0].isStaff || parent.isStaff" class="mbv-award staff-area">
                <i tooltip="Staff of DZone" class="icon-staff"></i>
            </div>

            <div ng-if="parent.authors[0].isMVB || parent.isMVB" class="mbv-award">
                <i tooltip="Most Valuable Blogger" class="icon-mvb-1"></i>
            </div>

            <div class="mvb-partner">
                <user-is-partner user="parent.authors[0].id"></user-is-partner>
            </div>

            <div class="badge-container badge-text-md" ng-if="parent.authors[0].isCore || parent.isCore">
                <i tooltip="DZone Core" class="icon-core-1"></i>CORE
            </div>

            <div class="zone-leader">
                <user-is-zone-leader user="parent.authors[0].id"></user-is-zone-leader>
            </div>

        </div>
        <div class="publish-date">
            &middot; <span class="author-date">{{ parent.articleDate | date:'MMM. dd, yyyy' }} {{ parent.linkDate | date:'MMM. dd, yyyy' }}</span>
        </div>
        <div class="portal-link">
            &middot; <a href="{{ parent.portal.url }}" id="portal-name" ng-cloak><span class="portal-name">{{ parent.portal.name }} Zone</span></a>
        </div>
    </div>
    <div class="user-actions">
        <div class="like action" ng-if="parent.title">
            <dz-like template="like-article.html" callback="addVoter()" node="parent" ng-if="parent.articleDate"></dz-like>
            <dz-like callback="addVoter()" callback="addVoter()" node="parent" ng-if="parent.linkDate"></dz-like>
        </div>

        <div class="like action" ng-if="!parent.title">
            <dz-like template="like-article.html" callback="addVoter()" node="parent"></dz-like>
        </div>

        <div class="save-article action"><dz-save template="link-article-save.html" node="parent" class="save"></dz-save></div>

        <div class="tweet action">
            <a ng-href="#" ng-click='shareTwitter($event, parent.title || parent.header.title,parent.linkSource || parent.url)' class="title" target="_blank"><i class="icon-twitter"></i>Tweet</a>
        </div>

        <div class="pull-right">
            <div class="view-count action">
                <i class="icon-eye"></i> {{ parent.views }} <span ng-if="!parent.title">Views</span><span ng-if="parent.title" class="action-label">Clicks</span>
            </div>

            <div class="user-n-admin-action action" ng-if="canEdit(parent) || canDelete(parent)">
                <div class="mod-tools" dropdown is-open="dropdown.open">
                    <span dropdown-toggle><i class="icon-cog"></i></span>
                    <ul class="dropdown-menu">
                        <li><a ng-href="/content/{{ parent.id }}/edit.html">Edit</a></li>
                        <li><a href="#" ng-if="canDelete(parent)" ng-click="deleteLink(parent)">Delete</a></li>
                        <li><a href="#" ng-if="canPublish && !parent.title" ng-click="toggleComments(parent)">{{ parent.isLocked ? 'Enable' : 'Disable' }} comments</a></li>
                        <li><a href="#" ng-if="canPublish && !parent.isLocked && !parent.title" ng-click="toggleLimitComments(parent)">
                            {{ parent.isLimited ? 'Remove comment limits' : 'Enable moderated comments' }}
                        </a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div th-defer-until="_sliderOpen">
        <!--<div content-comment-box parent="parent.id" count="parent.nComments" limited="parent.isLimited" class="comment-box"></div>-->
    </div>
</div></div></div>    </div>
</div>

</div>

    <div class="row">
        <a href="#" class="back-to-top"><i class="icon-up-big"></i></a>
    </div>


    <script type="text/ng-template" id="/themes/dz20/widgets/header/sections/widget.html">
<span dropdown is-open="dropdown.open" ng-class="{small: width < 768}">
    <span dropdown-toggle class="sections"><i class="icon-menu"></i>
        <span class="menuLabel" ng-if="width < 768"></span></span>
    <ul class="dropdown-menu ul-first" ng-style="width < 768 ? {'top': headerSize + 0 + 'px', 'padding-top': '15px'} : {}">
        <li><a href="/links">Links</a></li>
        <li><a href="/refcardz">Refcardz</a></li>
        <li><a href="/guides">Guides</a></li>
        <li><a href="/about">About Us</a></li>
        <li class="divider"></li>

        <li class="post-title"><span>Zones</span></li>
        <li ng-repeat="topic in portals" class="dropdown">
            <a ng-href="{{ topic.url }}">{{ topic.name }}</a>
        </li>
        <li class="divider"></li>
        <li class="post-title"><span>Post</span></li>
        <li><a href="/links">Link</a></li>
        <li><a href="/article/post.html">Article</a></li>
    </ul>
</span>


    </script>

<script type="text/ng-template" id="followus.html">
<div class="top-social">
    <p>Let's be friends:</p>
    <ul class="icons-only" ng-class="{open: isOpen}" click-outside="outside()">
        <li class="rss-icon" id="rss-spotlight-1">
            <a href="/pages/feeds"><i class="icon-rss-1"></i></a>
        </li>
        <li class="twitter-icon">
            <a href="https://twitter.com/DZoneInc" target="_blank"><i class="icon-twitter"></i></a>
        </li>
        <li class="facebook-icon">
            <a href="https://www.facebook.com/DZoneInc" target="_blank"><i class="icon-facebook-1"></i></a>
        </li>
        <li class="linkedin-icon">
            <a href="https://www.linkedin.com/company/devada-team" target="_blank"><i class="icon-linkedin-1"></i></a>
        </li>

            <ul class="social-dropdown dropdown-menu">
                <li class="rss" id="rss-spotlight"><a href="/pages/feeds"><i class="icon-rss-squared"></i> <span>RSS Feed</span></a></li>
                <li class="twitter" id="twitter-spotlight">
                    <a href="https://twitter.com/DZoneInc" class="twitter-follow-button" data-show-count="true"
                       data-show-screen-name="false">Follow @DZoneInc</a>
                </li>
                <li class="fb-like" id="fb-spotlight" data-href="https://www.facebook.com/DZoneInc"
                    data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></li>
                <li class="linkedin" id="linkedin-spotlight">
                    <script type="IN/FollowCompany" data-id="114427" data-counter="right"></script>
                </li>
            </ul>
    </ul>
</div>
</script><script type="text/ng-template" id="recaptcha.html"><script async defer src="https://www.google.com/recaptcha/api.js?render=6LevLMUUAAAAAIHR_NiM-0FV6xtDGFZSQ0IHuKK8"></script></script><script type="text/ng-template" id="dzlike.html">
<div class="dz-like " ng-class="{liked: status.liked}" ng-click="like()">
    <a href="#">
        <i class="icon-up-dir"></i>
        <span>{{ status.score }}</span>
    </a>
</div>
</script><script type="text/ng-template" id="dztopicselect.html"><ui-select  ng-if="canAddTopics" ng-model="editing.topics" theme="bootstrap" multiple tagging tagging-label="(add topic)"
           tagging-tokens=",">
    <ui-select-match class="input-tags"><div class="topics-tag">{{ $item }}</div></ui-select-match>
    <ui-select-choices
            refresh="topicsRefresh($select.search)"
            refresh-delay="250"
            repeat="topic in foundTopics | filter: $select.search">
        <div ng-bind-html="topic | highlight: $select.search"></div>
    </ui-select-choices>
</ui-select>
<ui-select ng-if="!canAddTopics" ng-model="editing.topics" theme="bootstrap" multiple>
    <ui-select-match><div class="topics-tag">{{ $item }}</div></ui-select-match>
    <ui-select-choices
            refresh="topicsRefresh($select.search)"
            refresh-delay="250"
            repeat="topic in foundTopics | filter: $select.search">
        <div ng-bind-html="topic | highlight: $select.search"></div>
    </ui-select-choices>
</ui-select></script><script type="text/ng-template" id="dzsave.html"><i class="icon-star-empty" ng-class="{'icon-star gold': status.saved, 'icon-star-empty': !status.saved}" tooltip-html-unsafe="{{status.saved ? 'Saved' : 'Save'}}" ng-click="save()"></i>
<!--<span ng-class="{'gold count': status.saved}">{{ status.count }}</span>--></script><script type="text/ng-template" id="overlay.html"><div class="ngdialog th-overlay">
    <div class="ngdialog-overlay">
        <div class="overlay-box">
            <i class="icon-spin5 animate-spin"></i>

            <p>{{ message }}</p>
        </div>
    </div>
</div></script><script type="text/ng-template" id="inline-editable.html"><div class="inline-editable" ng-if="!status.editing" ng-click="edit()" ng-transclude></div>
<div class="inline-editor-wrapper" ng-if="status.editing">
    <textarea class="inline-editor" ng-model="status.editValue" ng-if="type == 'textarea'"></textarea>
    <input class="inline-editor" ng-model="status.editValue" ng-if="type == 'input'"></textarea>
    <div class="inline-editor-tools">
        <button class="btn select-ok" ng-disabled="!status.editValue" ng-click="save()"><i class="icon-check-1"></i></button>
        <button class="btn select-cancel" ng-disabled="!editable" ng-click="cancel()"><i class="icon-cancel-1"></i></button>
    </div>
</div></script><script type="text/ng-template" id="dzupload.html"><span class="btn btn-upload" >
    <div ng-bind-html="label"></div>
    <div class="progress-container" ng-style="{visibility: uploading ? 'visible' : 'hidden'}">
        <progressbar max="100" value="progress"><span>{{ progress }}</span></progressbar>
    </div>
    <input type="file" ng-file-drop ng-file-select ng-file-change="upload($files)" />
</span></script><script type="text/ng-template" id="dzfollow.html"><button class="btn btn-follow" ng-class="{'btn-success': !status.followed, 'btn-warning': status.followed, 'hidden': followed.id == $root.user.id}" ng-click="follow()"><span ng-if="!status.followed"><i class="icon-plus"></i> Follow</span><span ng-if="status.followed" class="following">Following</span><span ng-if="status.followed" class="hover">Unfollow</span></button></script><script type="text/ng-template" id="dzphoto.html"><i class="icon-camera-alt photo" type="file" ng-file-drop ng-file-select ng-file-change="upload($files)"></i></script><script type="text/ng-template" id="dialog.confirm.html"><p>{{ message }}</p></script><script type="text/ng-template" id="dialog.confirm-custom.html"><p ng-bind-html="trustAsHtml(message)"></p></script><script type="text/ng-template" id="dialog.skeleton.html"><div class="dialog-title">
    <h1 ng-if="$dialog.title">{{ $dialog.title }}</h1>
</div>
<div class="dialog-body {{ $dialog.extraClass }}" ng-include="$dialog.template"></div>
<div class="dialog-footer">
    <div class="dialog-buttons" ng-if="$dialog.buttons">
        <button ng-repeat="button in $dialog.buttons" ng-hide="button.hidden" ng-disabled="button.disabled || $dialog.executing"
                class="btn btn-{{ button.type || 'info' }}" ng-click="$dialog.runAction(button)">
            <span class="icon-spin6 animate-spin" ng-if="button.executing"></span>{{ button.label || button.name }}</button>
    </div>
</div></script><script type="text/ng-template" id="dialog.message.html"><div class="message-icon">
    <i class="icon-{{ icon }}"></i>
</div>
<div class="message-text">
    <p class="message-title" ng-bind-html="trustAsHtml(title)"></p>
    <p ng-bind-html="trustAsHtml(message)"></p>
</div>
</script><script type="text/ng-template" id="dialog.delete-article.html"><p>{{ message }}</p>
<label for="modal-textarea" style="font-weight: 200; margin-top: 1em;">Editor's feedback:</label>
<textarea id="modal-textarea" class="form-control" placeholder="Optional" rows="3" maxlength="8000" style="height: auto; font-weight: 200;"></textarea></script>
<script type="text/javascript">

    var TH_CORE_VARS = {};

    try {
        TH_CORE_VARS.additional = {};

        TH_CORE_VARS.additional.matchedUrl = {"name":"refcard:view","mapping":"/refcardz/**","mappingPatterns":{}};
        TH_CORE_VARS.additional.request = [{"site":{"keywords":"programming, software development, devops, java, agile, web, iot, database, mobile, big data, cloud","name":"DZone.com","description":"Programming, Web Development, and DevOps news, tutorials and tools for beginners to experts. Hundreds of free publications, over 1M members, totally free.","id":7,"title":"DZone: Programming & DevOps news, tutorials & tools"},"dev":false,"context":"","theme":"dz20","cdn":["dz2cdn1.dzone.com","dz2cdn2.dzone.com","dz2cdn3.dzone.com","dz2cdn4.dzone.com"],"user":{"realName":null,"authenticated":false,"profile":"/users/2500002/anon-user.html","name":"Anonymous","jobRole":"","GDPRStatus":null,"id":2500002,"avatar":"https://secure.gravatar.com/avatar/?d=identicon&r=PG","companySize":""}}];
        TH_CORE_VARS.additional.loadedScripts = [["/lib/jquery/jquery.js","/lib/lodash/lodash.js","/lib/moment/moment.js","/scripts/utils.js","/lib/angular/angular.js","/lib/angular/angular-sanitize.js","/lib/local-storage/angular-local-storage.js","/lib/bootstrap/dropdown.js","/lib/angular-ui/bootstrap.js","/lib/angular-ui/select.js","/lib/bootstrap-switch/bootstrap-switch.js","/lib/ngDialog/js/ngDialog.js","/lib/angular-moment/angular-moment.js","/scripts/app.js","/scripts/socket.js","/scripts/services.js","/scripts/ui-services.js","/scripts/directives.js","/scripts/filters.js","/lib/angular/angular-cookies.js","/lib/angulartics/angulartics.js","/lib/angulartics/angulartics-ga.js","/lib/angular-touch/angular-touch.min.js","/lib/elastic/elastic.js","/lib/ng-file-upload/angular-file-upload-all.js","/scripts/ads.js","/scripts/social-media.js","/scripts/head.js","/scripts/links.js","/scripts/utilities/ad-manager.js","/scripts/utilities/directives.js","/scripts/utilities/editor.js","/scripts/utilities/recaptcha.js","/scripts/utilities/services.js","/lib/bootstrap-slider/bootstrap-slider.js","/lib/bootstrap-slider/directive.js","/lib/angular-animate.min.js","/lib/ngToast.min.js","/lib/lazysizes.min.js","/widgets/components/slider/service.js","/widgets/header/headerV2/resize.js"]];
        TH_CORE_VARS.additional.botInfo = [{"isRenderBot":false}];
        TH_CORE_VARS.additional.portals = [[{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"agile","color":"red","name":"Agile","topic":8,"id":2,"shortTitle":"agile-methodology-training-tools-news","url":"/agile-methodology-training-tools-news"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"ai","color":"purple","name":"AI","topic":2551,"id":4001,"shortTitle":"artificial-intelligence-tutorials-tools-news","url":"/artificial-intelligence-tutorials-tools-news"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"big-data","color":"green","name":"Big Data","topic":6129,"id":3,"shortTitle":"big-data-analytics-tutorials-tools-news","url":"/big-data-analytics-tutorials-tools-news"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"cloud","color":"orange","name":"Cloud","topic":30,"id":4,"shortTitle":"cloud-computing-tutorials-tools-news","url":"/cloud-computing-tutorials-tools-news"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"database","color":"purple","name":"Database","topic":59,"id":5,"shortTitle":"database-sql-nosql-tutorials-tools-news","url":"/database-sql-nosql-tutorials-tools-news"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"devops","color":"yellow","name":"DevOps","topic":31,"id":6,"shortTitle":"devops-tutorials-tools-news","url":"/devops-tutorials-tools-news"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"integration","color":"green","name":"Integration","topic":1138,"id":7,"shortTitle":"enterprise-integration-training-tools-news","url":"/enterprise-integration-training-tools-news"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"iot","color":"orange","name":"IoT","topic":48,"id":8,"shortTitle":"iot-developer-tutorials-tools-news-reviews","url":"/iot-developer-tutorials-tools-news-reviews"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"java","color":"purple","name":"Java","topic":1,"id":1,"shortTitle":"java-jdk-development-tutorials-tools-news","url":"/java-jdk-development-tutorials-tools-news"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"microservices","color":"green","name":"Microservices","topic":13268,"id":6001,"shortTitle":"microservices-news-tutorials-tools","url":"/microservices-news-tutorials-tools"},{"hideFromHomepageWidgets":true,"hideFromNav":true,"code":"mobile","color":"yellow","name":"Mobile","topic":29,"id":9,"shortTitle":"mobile-app-developer-tutorials-tools-news","url":"/mobile-app-developer-tutorials-tools-news"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"open-source","color":"purple","name":"Open Source","topic":75,"id":7001,"shortTitle":"open-source-news-tutorials-tools","url":"/open-source-news-tutorials-tools"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"performance","color":"red","name":"Performance","topic":653,"id":10,"shortTitle":"apm-tools-performance-monitoring-optimization","url":"/apm-tools-performance-monitoring-optimization"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"security","color":"green","name":"Security","topic":85,"id":2001,"shortTitle":"application-web-network-security","url":"/application-web-network-security"},{"hideFromHomepageWidgets":false,"hideFromNav":false,"code":"webdev","color":"orange","name":"Web Dev","topic":35,"id":11,"shortTitle":"web-development-programming-tutorials-tools-news","url":"/web-development-programming-tutorials-tools-news"},{"hideFromHomepageWidgets":true,"hideFromNav":true,"code":"inspiration-station ","color":"purple","name":"Writers","topic":16873,"id":3001,"shortTitle":"writers-zone","url":"/writers-zone"}]];
        TH_CORE_VARS.additional.loadedStyles = [["/lib/bootstrap/bootstrap.less","/lib/fontello/css/fontello.css","/lib/fontello/css/animation.css","/lib/angular-ui/select.css","/lib/ngDialog/css/ngDialog.css","/less/ngDialog-theme.less","/less/container.less","/lib/bootstrap-switch/bootstrap-switch.css","/less/dzone20.less","/lib/bootstrap-slider/bootstrap-slider.css","/lib/codemirror/lib/codemirror.css","/less/layout.less","/widgets/announcementBar/widget.less","/widgets/assets/content/chapters/widget.less","/widgets/components/slider/widget.less","/widgets/content/commentsSlider/widget.less","/widgets/footer/footerV2/footerV2.less","/widgets/header/headerV2/widget.less","/widgets/refcardz/topHeaderV3/widget.less"]];
        TH_CORE_VARS.additional.model = [{"metaData":{"title":"Patterns of Modular Architecture - DZone Refcardz","description":"This Refcard offers a quick reference to the 18 modularity patterns discussed in Kirk Knoernschild's book, Java Application Architecture: Modularity Patterns with Examples Using OSGi. Included in this card are diagrams and descriptions of base patterns, dependency patterns, usability patterns, and more.","keywords":"patterns of modular architecture,java,devops,refcard","siteName":"dzone.com","url":"/refcardz/patterns-modular-architecture","img":"","imgprop":"og:image","twitterImage":"","type":"article","wordCount":42,"canonical":"https://dzone.com/refcardz/patterns-modular-architecture","noIndex":false,"noFollow":false,"showCanonical":true,"prevPage":null,"nextPage":null,"pubDate":"2012-11-28 11:56:14.0","id":520282,"author":"Kirk Knoernschild","section":"Integration","useEscapedFragment":false,"useNoSiteLinkSearchBox":false,"isProd":true,"robots":false,"robotsTag":""},"enableThreadedComments":true,"contentType":"refcard","content":{"id":"520282","type":"refcard","creationDate":1354103774000,"creationDateFormatted":"11/28/2012 11:56 AM","title":"Patterns of Modular Architecture","body":"<p pid=\"2\" class=\"author_name\">By Kirk Knoernschild</p><h2>About the Modularity Patterns</h2><p pid=\"3\">Module frameworks are gaining traction on the Java platform. Though modularity isn't a new concept, it promises to change the way we develop software applications. You'll only be able to realize the benefits of modularity if you understand how to design more modular software systems.</p><p pid=\"4\">The modularity patterns lay the foundation necessary to incorporate modular design thinking into your development initiatives. No module framework is necessary to use these patterns, and you already have many of the tools you need to design modular software. This refcard provides a quick reference to the 18 modularity patterns discussed in the book <em>Java Application Architecture: Modularity Patterns with Examples Using OSGi.</em></p><p pid=\"5\">The modularity patterns are not specific to the Java platform. They can be applied on any platform by treating the unit of release and deployment as the module. Each pattern includes a diagram (except for base patterns), description, and implementation guidance.</p><p pid=\"6\"><strong>Base Patterns:</strong> Fundamental modular design concepts upon which several other patterns exist.</p><p pid=\"7\"><strong>Dependency Patterns:</strong> Used to help you manage dependencies between modules.</p><p pid=\"8\"><strong>Usability Patterns:</strong> Used to help you design modules that are easy to use.</p><p pid=\"9\"><strong>Extensibility Patterns:</strong> Used to help you design flexible modules that you can extend with new functionality.</p><p pid=\"10\"><strong>Utility Patterns:</strong> Used as tools to aid modular development.</p><h3>Logical vs. Modular Design</h3><p pid=\"11\">Almost all well-known principles and patterns that aid software design address logical design. Identifying the methods of a class, relationships between classes, and the system package structure are all logical design issues. The vast majority of development teams spend their time dealing with logical design issues. A flexible logical design eases maintenance and increases extensibility.</p><p pid=\"12\">Logical design is just one piece of the software design and architecture challenge, however. The other is modular design, which focuses on the physical entities and the relationships between them. Identifying the entities containing your logical design constructs and managing dependencies between the units of deployment are examples of modular design. Without modular design, you may not realize the benefits you expect from your logical design. The modularity patterns help you:</p><ul><li>Design software that is extensible, reusable, maintainable, and adaptable.</li><li>Design modular software today, in anticipation of future platform support for modularity.</li><li>Break large software systems into a flexible composite of collaborating modules.</li><li>Understand where to place your architectural focus</li><li>Migrate large-scale monolithic applications to applications with a modular architecture.</li></ul><h3>The Two Facets of Modularity</h3><p pid=\"13\">There are two facets of modularity.</p><p pid=\"14\">The runtime model focuses on how to manage software systems at runtime. A module system, such as OSGi, is required to take advantage of the runtime model.</p><p pid=\"15\">The development model deals with how developers create modular software. The development model can be broken down into two subcategories. The programming model is how you interact with a module framework to take advantage of the runtime benefits of modularity. The design paradigm is the set of patterns you apply to design great modules.</p><p pid=\"16\">A module framework gives you runtime support and a programming model for modularity. But a module framework won't help you design great software modules. The patterns in this refcard address the design paradigm and help you design modular software.</p><h3>Module Defined</h3><p pid=\"17\">A software module is a deployable, manageable, natively reusable, composable, stateless unit of software that provides a concise interface to consumers. On the Java platform, a module is a JAR file, as depicted in the diagram. The patterns in this refcard help you design modular software and realize the benefits of modularity.</p><p pid=\"18\"><img alt=\"module defined\" class=\"fr-dii fr-fil\" src=\"/storage/rc-covers/13440-thumb.png\"></p><h2>Base Patterns</h2><p pid=\"19\">The base patterns are the fundamental elements upon which the other patterns exist. They establish the conscientious thought process that goes into designing systems with a modular architecture. They focus on modules as the unit of reuse, dependency management, and cohesion.</p><h3>Manage Relationships</h3><p pid=\"20\">Design module relationships.</p><p pid=\"21\"><strong>Description</strong></p><p pid=\"22\">A relationship between two modules exists when a class within one module imports at least a single class within another module. In other words:</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13441-thumb.png\"></p><p>If changing the contents of a module, M2, may impact the contents of another module, M1, we can say that M1 has a physical dependency on M2.</p></div><p pid=\"23\">Excessive dependencies will make your modules more difficult to maintain, reuse, and test.</p><p pid=\"24\"><strong>Implementation Guidance</strong></p><ul><li>Avoid modules with excessive incoming and outgoing dependencies.</li><li>Modules with many incoming dependencies should be stable. That is, they should change infrequently</li><li>Use module dependencies as a system of checks and balances. For instance, enforce relationships between software layers using modularity (see Physical Layers).</li></ul><h3>Module Reuse</h3><p pid=\"25\">Emphasize reusability at the module level.</p><p pid=\"26\"><strong>Description</strong></p><p pid=\"27\">An oft-cited benefit of object-oriented development is reuse. Unfortunately, objects (or classes) are not an adequate reuse construct. The Reuse Release Equivalence Principle explains why.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13442-thumb.png\"></p><p>The unit of reuse is the unit of release.</p></div><p pid=\"28\">Modules are a unit of release and are, therefore, an excellent candidate as the unit of reuse.</p><p pid=\"29\"><strong>Implementation Guidance</strong></p><ul><li>Separate horizontal modules (those that span business domains) from vertical modules (those specific to a business domain).</li><li>Module granularity and weight play a significant role in reuse. Carefully consider each.</li><li>Fine-grained modules with external configuration come with a higher likelihood of reuse. But beware, these modules may be more difficult to use.</li></ul><h3>Cohesive Modules</h3><p pid=\"30\">Module behavior should serve a singular purpose.</p><p pid=\"31\"><strong>Description</strong></p><p pid=\"32\">Cohesion is a measure of how closely related and focused the various responsibilities of a module are. Modules that lack cohesion are more difficult to maintain.</p><p pid=\"33\"><strong>Implementation Guidance</strong></p><ul><li>Pay careful attention to how you allocate classes to their respective modules.</li><li>Classes changing at the same rate and typically reused together belong in the same module.</li><li>Classes changing at different rates and typically not reused together belong in separate modules.</li></ul><h2>Dependency Patterns</h2><p pid=\"34\">The dependency patterns focus on managing the relationships between modules. They provide guidance on managing coupling that increase the likelihood of module reuse.</p><h3>Acyclic Relationships</h3><p pid=\"35\">Module relationships must be acyclic.</p><p pid=\"36\"><img alt=\"acyclicrelationships\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13443-thumb.png\"></p><p pid=\"37\"><strong>Description</strong></p><p pid=\"38\">Cyclic relationships complicate the module structure. Apply the following rule to identify cyclic relationships.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13444-thumb.png\"></p><p>If beginning with module A, you can follow the dependency relationships between the set of modules that A is directly or indirectly dependent upon and you find any dependency on module A within that set, then a cyclic dependency exists between your module structure.</p></div><p pid=\"39\">You should avoid cyclic dependencies.</p><p pid=\"40\"><strong>Implementation Guidance</strong></p><ul><li>Escalation breaks cycles by moving the cause of the cyclic dependency to a managing module at a higher level.</li><li>Demotion breaks cycles by moving the cause of the cyclic dependency to a lower-level module.</li><li>Callbacks break a cycle by defining an abstraction that is injected into the dependent module. This implementation resembles the Observer [GOF] pattern.</li></ul><h3>Levelize Modules</h3><p pid=\"41\">Module relationships should be levelized.</p><p pid=\"42\"><img alt=\"levelizemodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13446-thumb.png\"></p><p pid=\"43\"><strong>Description</strong></p><p pid=\"44\">Levelization is similar to layering, but is a finer-grained way to manage acyclic relationships between modules. With levelization, a single layer may contain multiple module levels. To levelize modules, do the following: Assign external modules level 0. Modules dependent only on level 0 modules are assigned level 1. Modules dependent on level 1 are assigned level 2. Modules dependent on level n are assigned level n + 1.</p><p pid=\"45\"><strong>Implementation Guidance</strong></p><ul><li>Levels are more granular than the layers in your system. Use levels to manage relationships within layers.</li><li>Levelization demands module relationships be acyclic. You cannot levelize a module structure with cycles.</li><li>A strict levelization scheme, where modules are dependent only on the level directly beneath it, is conceptually ideal but pragmatically difficult.</li></ul><h3>Physical Layers</h3><p pid=\"46\">Module relationships should not violate the conceptual layers.</p><p pid=\"47\"><img alt=\"physicallayers\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13447-thumb.png\"></p><p pid=\"48\"><strong>Description</strong></p><p pid=\"49\">Layering a system helps ease maintenance and testability of the application. Common layers include presentation (i.e., user interface), domain (i.e., business), and data access. Any conceptually layered software system can be broken down into modules that correspond to these conceptual layers. Physical layers helps increase reusability because each layer is a deployable unit.</p><p pid=\"50\"><strong>Implementation Guidance</strong></p><ul><li>Begin by creating a single coarse-grained module for each layer.</li><li>Enforce the layers using Levelize Build.</li><li>Break out each layer into more cohesive modules and use Levelize Modules to understand and manage the relationships within the layer.</li><li>It's fine if modules within a layer have relationships between them. These modules will be at different levels.</li></ul><h3>Container Independence</h3><p pid=\"51\">Modules should be independent of the runtime container.</p><p pid=\"52\"><img alt=\"containerindependence\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13448-thumb.png\"></p><p pid=\"53\"><strong>Description</strong></p><p pid=\"54\">Heavyweight modules are dependent upon a specific runtime environment and are difficult to reuse across contexts. Environmental dependencies also negatively affect your ability to test modules. Modules independent of the runtime container are more likely reused, and are more easily maintained and testable.</p><p pid=\"55\"><strong>Implementation Guidance</strong></p><ul><li>Avoid importing container-dependent packages in your module's code.</li><li>Use External Configuration to configure a module so that it can operate in different runtime environments.</li><li>Use dependency injection to abstract container dependencies.</li></ul><h3>Independent Deployment</h3><p pid=\"56\">Modules should be independently deployable units.</p><p pid=\"57\"><img alt=\"independent deployment\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13449-thumb.png\"></p><p pid=\"58\"><strong>Description</strong></p><p pid=\"59\">The less outgoing dependencies a module has, the easier the module is to reuse. A module with no outgoing dependencies is independently deployable and can be reused without the worry of identifying which additional modules might be necessary. Lower-level modules inherently have fewer outgoing dependencies and increase the opportunity for reuse.</p><p pid=\"60\"><strong>Implementation Guidance</strong></p><ul><li>Not all modules can be independently deployable. Some module dependencies are always necessary.</li><li>In additional to reducing outgoing dependencies, container dependencies must also be minimized for those modules that are independently deployable.</li><li>Highly cohesive modules are easier to make independently deployable units.</li></ul><h2>Usability Patterns</h2><p pid=\"61\">We want modules that other developers find easy to interact with. The usability patterns help design modules that are easy to understand and use.</p><h3>Published Interface</h3><p pid=\"62\">Make a module's published interface well known.</p><p pid=\"63\"><img alt=\"publishedinterface\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13450-thumb.png\"></p><p pid=\"64\"><strong>Description</strong></p><p pid=\"65\">Modules should encapsulate implementation details so that other modules don't need to understand the implementation to use the module. A module's published interface exposes the capabilities you want to make available to other developers.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13451-thumb.png\"></p><p>A published interface consists of the public methods within the public classes within the \"exported\" packages that other modules are able to invoke.</p></div><p pid=\"66\">In standard Java, there is no way to explicitly state which packages a module exports, so it's difficult to enforce a published interface. Module frameworks, such as OSGi, shine in this situation.</p><p pid=\"67\"><strong>Implementation Guidance</strong></p><ul><li>In standard Java, document the published interface you expect other clients to invoke.</li><li>In standard Java, expose the published interface via abstractions and discourage other developers from using the concrete classes.</li><li>Module frameworks, such as OSGi, allow you to export packages and allow you to more easily enforce a published interface.</li></ul><h3>External Configuration</h3><p pid=\"68\">Modules should be externally configurable.</p><p pid=\"69\"><img alt=\"externalconfig\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13452-thumb.png\"></p><p pid=\"70\"><strong>Description</strong></p><p pid=\"71\">Module initialization typically requires configuring the module to its environmental context. Externalizing the configuration decreases context dependencies and allows you to use the module across a wider array of environments. External configuration increases a module's reuse, but makes it more difficult to use because developers must understand how to configure the module.</p><p pid=\"72\"><strong>Implementation Guidance</strong></p><ul><li>Use External Configuration to eliminate a module's environmental dependencies.</li><li>Include a configuration file within the module that defines a default configuration, making the module easier to use.</li><li>Remain cognizant of thus tradeoff between increased reuse and decreased usability. In other words, maximizing reuse complicates use.</li></ul><h3>Default Implementation</h3><p pid=\"73\">Provide modules with a default implementation.</p><p pid=\"74\"><img alt=\"defaultimplementation\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13453-thumb.png\"></p><p pid=\"75\"><strong>Description</strong></p><p pid=\"76\">To maximize reuse, a module must be flexible enough so that it can function in a variety of different operating environments. Yet, making a module easier to use leads us to incorporate more functionality into a module so developers are required to do less when using the module. A default implementation with well-defined extension points helps address this tension.</p><p pid=\"77\"><strong>Implementation Guidance</strong></p><ul><li>When defining a Default Implementation, depend upon the abstract elements of a module (see Abstract Modules or Separate Abstractions).</li><li>Include a default configuration in the module, but make the module externally configurable, as well.</li><li>Always create a Test Module to test the default implementation.</li></ul><h3>Module Faade</h3><p pid=\"78\">Create a faade serving as a coarse-grained entry point to another finegrained module's underlying implementation.</p><p pid=\"79\"><img alt=\"modulefacade\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13454-thumb.png\"></p><p pid=\"80\"><strong>Description</strong></p><p pid=\"81\">Fine-grained and lightweight modules are inherently more reusable. But fine-grained modules are also typically dependent on several other modules. A Module Faade defines a higher level API that coordinates the work of a set of fine-grained modules. The faade emphasizes ease of use while the finer-grained modules emphasize reuse.</p><p pid=\"82\"><strong>Implementation Guidance</strong></p><ul><li>Don't emphasize reuse of the faade. Use it to wire together and configure multiple fine-grained modules.</li><li>Place context and environmental dependencies in the faade.</li><li>Use the faade as an entry point for your integration tests.</li></ul><h2>Extensibility Patterns</h2><p pid=\"83\">We want software that is easy to extend without modifying the existing codebase. We also want to deploy this new functionality without affecting other areas of the system. The extensibility patterns help us achieve this goal.</p><h3>Abstract Modules</h3><p pid=\"84\">Depend upon the abstract elements of a module.</p><p pid=\"85\"><img alt=\"abstractmodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13455-thumb.png\"></p><p pid=\"86\"><strong>Description</strong></p><p pid=\"87\">Depending on the abstract elements of a module gives you greater opportunities to extend the system by defining new modules with classes that implement or extend the abstraction. Any clients of the module also have the ability to define their own implementations and plug them into the module.</p><p pid=\"88\"><strong>Implementation Guidance</strong></p><ul><li>Use an Implementation Factory to create a module's underlying implementation.</li><li>Use Abstract Modules when you have many incoming module dependencies and you want the flexibility to swap out underlying implementations.</li><li>Strive to make the abstraction within a module as stable as possible. That is, avoid changes since it will have many many other modules are dependent upon it.</li></ul><h3>Implementation Factory</h3><p pid=\"89\">Use factories to create a module's implementation classes.</p><p pid=\"90\"><img alt=\"implementation factory\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13456-thumb.png\"></p><p pid=\"91\"><strong>Description</strong></p><p pid=\"92\">Any module whose classes depend upon the abstract elements of another module should avoid referencing any implementation classes. Doing so will compromise your module design. Consider the following rule.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13457-thumb.png\"></p><p>If a class depending on an abstraction must be changed in order to instantiate a new implementation of the abstraction, the design is flawed.</p></div><p pid=\"93\">Furthermore, if a module must be changed to accommodate the instantiation, the module design is compromised.</p><p pid=\"94\"><strong>Implementation Guidance</strong></p><ul><li>The factory must be separated from the module containing the class instances it creates as well as the module dependent upon the abstractions.</li><li>Externalize the creation of a module's implementation to a configuration file.</li><li>Consider using a dependency injection framework like Spring, OSGi Blueprint, or OSGi Declarative Services. These will serve as your factory to wire together the appropriate implementations at runtime.</li></ul><h3>Separate Abstractions</h3><p pid=\"95\">Place abstractions and the classes that implement them in separate modules.</p><p pid=\"96\"><img alt=\"separate abstractions\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13458-thumb.png\"></p><p pid=\"97\"><strong>Description</strong></p><p pid=\"98\">Separating abstractions from their implementation offers the greatest flexibility to provide new implementations that completely replace existing implementations. With Separate Abstractions, you can define new behavior and plug it into your system without affecting existing system modules. Separate Abstractions can be used to develop a plug-in architecture. As a general guideline, apply the following rule.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13459-thumb.png\"></p><p>Keep the abstraction closer to the classes that depend upon it and further from the classes that extend or implement it.</p></div><p pid=\"99\"><strong>Implementation Guidance</strong></p><ul><li>If all classes that depend upon an abstraction live in a single module, then place the classes and the abstraction in the same module.</li><li>If the classes dependent upon an abstraction live in separate modules, place the abstraction in a module separate from the classes that depend upon it.</li><li>Separating abstractions lends the ultimately flexibility to extend your system, but also increases it's complexity.</li></ul><h2>Utility Patterns</h2><p pid=\"100\">The utility patterns are additional tools and techniques that aid modular development. They help you enforce your modular design and ensure quality.</p><h3>Colocate Exceptions</h3><p pid=\"101\">Exceptions should be close to the class or interface that throws them.</p><p pid=\"102\"><img alt=\"colocate\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13460-thumb.png\"></p><p pid=\"103\"><strong>Description</strong></p><p pid=\"104\">Allocation of exceptions to modules has implications on module dependencies. Putting exceptions close to the classes that catch them creates a dependency from the module that throws the exception to the module containing the exception. Because invoking a method can introduce a module dependency, exceptions should be in the same module as the class containing the method that throws the exception.</p><p pid=\"105\"><strong>Implementation Guidance</strong></p><ul><li>Throw the exception on the interface or abstract class you're bound to and place the exception in the same module as the interface or abstract class.</li><li>If abstractions across several modules throw the same exception, demote the exception to a completely separate module at a lower level.</li></ul><h3>Levelize Build</h3><p pid=\"106\">Execute the build in accordance with module levelization.</p><p pid=\"107\"><img alt=\"levelizebuild\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13461-thumb.png\"></p><p pid=\"108\"><strong>Description</strong></p><p pid=\"109\">Enforcing module relationships is difficult. Though conceptually you may believe you have an acyclic module structure and fully comprehend the module relationships, a single build target with everything on the classpath allows undesirable cycles and dependencies to creep in. A levelized build helps you enforce your module dependencies. Any dependencies that violate your defined module structure will result in a build failure.</p><p pid=\"110\"><strong>Implementation Guidance</strong></p><ul><li>Avoid a full classpath build, where all classes are built using a single compile target.</li><li>Define separate build targets for modules in different levels. Level 1 modules can be built with only external level 0 modules. At higher levels, include only the modules from lower levels that are required for a successful build.</li><li>Defining new module dependencies will require modifying the build for that module. This is not necessarily undesirable.</li></ul><h3>Test Module</h3><p pid=\"111\">Each module should have a corresponding test module.</p><p pid=\"112\"><img alt=\"testmodule\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13462-thumb.png\"></p><p pid=\"113\"><strong>Description</strong></p><p pid=\"114\">Test modules contain all of the tests for the classes in a specific module. They allow you to test a module's underlying implementation. A Test Module may contain unit tests that test a module's classes, as well as integration tests that test the entire module's functionality.</p><p pid=\"115\"><strong>Implementation Guidance</strong></p><ul><li>Depending on Abstract Modules make it easier to define mocks and stubs for testing a module independently.</li><li>For larger tests suites, or situations where performance is paramount, separate different types of tests (i.e., unit tests, integration tests, performance tests, etc.) out into separate test modules.</li><li>Ideally, you'll only include the test module and the module under test in the classpath when executing the tests. Pragmatically, some modules may require other dependent modules.</li></ul>","bodyAsHTML":"<p pid=\"2\" class=\"author_name\">By Kirk Knoernschild</p><h2>About the Modularity Patterns</h2><p pid=\"3\">Module frameworks are gaining traction on the Java platform. Though modularity isn't a new concept, it promises to change the way we develop software applications. You'll only be able to realize the benefits of modularity if you understand how to design more modular software systems.</p><p pid=\"4\">The modularity patterns lay the foundation necessary to incorporate modular design thinking into your development initiatives. No module framework is necessary to use these patterns, and you already have many of the tools you need to design modular software. This refcard provides a quick reference to the 18 modularity patterns discussed in the book <em>Java Application Architecture: Modularity Patterns with Examples Using OSGi.</em></p><p pid=\"5\">The modularity patterns are not specific to the Java platform. They can be applied on any platform by treating the unit of release and deployment as the module. Each pattern includes a diagram (except for base patterns), description, and implementation guidance.</p><p pid=\"6\"><strong>Base Patterns:</strong> Fundamental modular design concepts upon which several other patterns exist.</p><p pid=\"7\"><strong>Dependency Patterns:</strong> Used to help you manage dependencies between modules.</p><p pid=\"8\"><strong>Usability Patterns:</strong> Used to help you design modules that are easy to use.</p><p pid=\"9\"><strong>Extensibility Patterns:</strong> Used to help you design flexible modules that you can extend with new functionality.</p><p pid=\"10\"><strong>Utility Patterns:</strong> Used as tools to aid modular development.</p><h3>Logical vs. Modular Design</h3><p pid=\"11\">Almost all well-known principles and patterns that aid software design address logical design. Identifying the methods of a class, relationships between classes, and the system package structure are all logical design issues. The vast majority of development teams spend their time dealing with logical design issues. A flexible logical design eases maintenance and increases extensibility.</p><p pid=\"12\">Logical design is just one piece of the software design and architecture challenge, however. The other is modular design, which focuses on the physical entities and the relationships between them. Identifying the entities containing your logical design constructs and managing dependencies between the units of deployment are examples of modular design. Without modular design, you may not realize the benefits you expect from your logical design. The modularity patterns help you:</p><ul><li>Design software that is extensible, reusable, maintainable, and adaptable.</li><li>Design modular software today, in anticipation of future platform support for modularity.</li><li>Break large software systems into a flexible composite of collaborating modules.</li><li>Understand where to place your architectural focus</li><li>Migrate large-scale monolithic applications to applications with a modular architecture.</li></ul><h3>The Two Facets of Modularity</h3><p pid=\"13\">There are two facets of modularity.</p><p pid=\"14\">The runtime model focuses on how to manage software systems at runtime. A module system, such as OSGi, is required to take advantage of the runtime model.</p><p pid=\"15\">The development model deals with how developers create modular software. The development model can be broken down into two subcategories. The programming model is how you interact with a module framework to take advantage of the runtime benefits of modularity. The design paradigm is the set of patterns you apply to design great modules.</p><p pid=\"16\">A module framework gives you runtime support and a programming model for modularity. But a module framework won't help you design great software modules. The patterns in this refcard address the design paradigm and help you design modular software.</p><h3>Module Defined</h3><p pid=\"17\">A software module is a deployable, manageable, natively reusable, composable, stateless unit of software that provides a concise interface to consumers. On the Java platform, a module is a JAR file, as depicted in the diagram. The patterns in this refcard help you design modular software and realize the benefits of modularity.</p><p pid=\"18\"><img alt=\"module defined\" class=\"fr-dii fr-fil\" src=\"/storage/rc-covers/13440-thumb.png\"></p><h2>Base Patterns</h2><p pid=\"19\">The base patterns are the fundamental elements upon which the other patterns exist. They establish the conscientious thought process that goes into designing systems with a modular architecture. They focus on modules as the unit of reuse, dependency management, and cohesion.</p><h3>Manage Relationships</h3><p pid=\"20\">Design module relationships.</p><p pid=\"21\"><strong>Description</strong></p><p pid=\"22\">A relationship between two modules exists when a class within one module imports at least a single class within another module. In other words:</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13441-thumb.png\"></p><p>If changing the contents of a module, M2, may impact the contents of another module, M1, we can say that M1 has a physical dependency on M2.</p></div><p pid=\"23\">Excessive dependencies will make your modules more difficult to maintain, reuse, and test.</p><p pid=\"24\"><strong>Implementation Guidance</strong></p><ul><li>Avoid modules with excessive incoming and outgoing dependencies.</li><li>Modules with many incoming dependencies should be stable. That is, they should change infrequently</li><li>Use module dependencies as a system of checks and balances. For instance, enforce relationships between software layers using modularity (see Physical Layers).</li></ul><h3>Module Reuse</h3><p pid=\"25\">Emphasize reusability at the module level.</p><p pid=\"26\"><strong>Description</strong></p><p pid=\"27\">An oft-cited benefit of object-oriented development is reuse. Unfortunately, objects (or classes) are not an adequate reuse construct. The Reuse Release Equivalence Principle explains why.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13442-thumb.png\"></p><p>The unit of reuse is the unit of release.</p></div><p pid=\"28\">Modules are a unit of release and are, therefore, an excellent candidate as the unit of reuse.</p><p pid=\"29\"><strong>Implementation Guidance</strong></p><ul><li>Separate horizontal modules (those that span business domains) from vertical modules (those specific to a business domain).</li><li>Module granularity and weight play a significant role in reuse. Carefully consider each.</li><li>Fine-grained modules with external configuration come with a higher likelihood of reuse. But beware, these modules may be more difficult to use.</li></ul><h3>Cohesive Modules</h3><p pid=\"30\">Module behavior should serve a singular purpose.</p><p pid=\"31\"><strong>Description</strong></p><p pid=\"32\">Cohesion is a measure of how closely related and focused the various responsibilities of a module are. Modules that lack cohesion are more difficult to maintain.</p><p pid=\"33\"><strong>Implementation Guidance</strong></p><ul><li>Pay careful attention to how you allocate classes to their respective modules.</li><li>Classes changing at the same rate and typically reused together belong in the same module.</li><li>Classes changing at different rates and typically not reused together belong in separate modules.</li></ul><h2>Dependency Patterns</h2><p pid=\"34\">The dependency patterns focus on managing the relationships between modules. They provide guidance on managing coupling that increase the likelihood of module reuse.</p><h3>Acyclic Relationships</h3><p pid=\"35\">Module relationships must be acyclic.</p><p pid=\"36\"><img alt=\"acyclicrelationships\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13443-thumb.png\"></p><p pid=\"37\"><strong>Description</strong></p><p pid=\"38\">Cyclic relationships complicate the module structure. Apply the following rule to identify cyclic relationships.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13444-thumb.png\"></p><p>If beginning with module A, you can follow the dependency relationships between the set of modules that A is directly or indirectly dependent upon and you find any dependency on module A within that set, then a cyclic dependency exists between your module structure.</p></div><p pid=\"39\">You should avoid cyclic dependencies.</p><p pid=\"40\"><strong>Implementation Guidance</strong></p><ul><li>Escalation breaks cycles by moving the cause of the cyclic dependency to a managing module at a higher level.</li><li>Demotion breaks cycles by moving the cause of the cyclic dependency to a lower-level module.</li><li>Callbacks break a cycle by defining an abstraction that is injected into the dependent module. This implementation resembles the Observer [GOF] pattern.</li></ul><h3>Levelize Modules</h3><p pid=\"41\">Module relationships should be levelized.</p><p pid=\"42\"><img alt=\"levelizemodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13446-thumb.png\"></p><p pid=\"43\"><strong>Description</strong></p><p pid=\"44\">Levelization is similar to layering, but is a finer-grained way to manage acyclic relationships between modules. With levelization, a single layer may contain multiple module levels. To levelize modules, do the following: Assign external modules level 0. Modules dependent only on level 0 modules are assigned level 1. Modules dependent on level 1 are assigned level 2. Modules dependent on level n are assigned level n + 1.</p><p pid=\"45\"><strong>Implementation Guidance</strong></p><ul><li>Levels are more granular than the layers in your system. Use levels to manage relationships within layers.</li><li>Levelization demands module relationships be acyclic. You cannot levelize a module structure with cycles.</li><li>A strict levelization scheme, where modules are dependent only on the level directly beneath it, is conceptually ideal but pragmatically difficult.</li></ul><h3>Physical Layers</h3><p pid=\"46\">Module relationships should not violate the conceptual layers.</p><p pid=\"47\"><img alt=\"physicallayers\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13447-thumb.png\"></p><p pid=\"48\"><strong>Description</strong></p><p pid=\"49\">Layering a system helps ease maintenance and testability of the application. Common layers include presentation (i.e., user interface), domain (i.e., business), and data access. Any conceptually layered software system can be broken down into modules that correspond to these conceptual layers. Physical layers helps increase reusability because each layer is a deployable unit.</p><p pid=\"50\"><strong>Implementation Guidance</strong></p><ul><li>Begin by creating a single coarse-grained module for each layer.</li><li>Enforce the layers using Levelize Build.</li><li>Break out each layer into more cohesive modules and use Levelize Modules to understand and manage the relationships within the layer.</li><li>It's fine if modules within a layer have relationships between them. These modules will be at different levels.</li></ul><h3>Container Independence</h3><p pid=\"51\">Modules should be independent of the runtime container.</p><p pid=\"52\"><img alt=\"containerindependence\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13448-thumb.png\"></p><p pid=\"53\"><strong>Description</strong></p><p pid=\"54\">Heavyweight modules are dependent upon a specific runtime environment and are difficult to reuse across contexts. Environmental dependencies also negatively affect your ability to test modules. Modules independent of the runtime container are more likely reused, and are more easily maintained and testable.</p><p pid=\"55\"><strong>Implementation Guidance</strong></p><ul><li>Avoid importing container-dependent packages in your module's code.</li><li>Use External Configuration to configure a module so that it can operate in different runtime environments.</li><li>Use dependency injection to abstract container dependencies.</li></ul><h3>Independent Deployment</h3><p pid=\"56\">Modules should be independently deployable units.</p><p pid=\"57\"><img alt=\"independent deployment\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13449-thumb.png\"></p><p pid=\"58\"><strong>Description</strong></p><p pid=\"59\">The less outgoing dependencies a module has, the easier the module is to reuse. A module with no outgoing dependencies is independently deployable and can be reused without the worry of identifying which additional modules might be necessary. Lower-level modules inherently have fewer outgoing dependencies and increase the opportunity for reuse.</p><p pid=\"60\"><strong>Implementation Guidance</strong></p><ul><li>Not all modules can be independently deployable. Some module dependencies are always necessary.</li><li>In additional to reducing outgoing dependencies, container dependencies must also be minimized for those modules that are independently deployable.</li><li>Highly cohesive modules are easier to make independently deployable units.</li></ul><h2>Usability Patterns</h2><p pid=\"61\">We want modules that other developers find easy to interact with. The usability patterns help design modules that are easy to understand and use.</p><h3>Published Interface</h3><p pid=\"62\">Make a module's published interface well known.</p><p pid=\"63\"><img alt=\"publishedinterface\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13450-thumb.png\"></p><p pid=\"64\"><strong>Description</strong></p><p pid=\"65\">Modules should encapsulate implementation details so that other modules don't need to understand the implementation to use the module. A module's published interface exposes the capabilities you want to make available to other developers.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13451-thumb.png\"></p><p>A published interface consists of the public methods within the public classes within the \"exported\" packages that other modules are able to invoke.</p></div><p pid=\"66\">In standard Java, there is no way to explicitly state which packages a module exports, so it's difficult to enforce a published interface. Module frameworks, such as OSGi, shine in this situation.</p><p pid=\"67\"><strong>Implementation Guidance</strong></p><ul><li>In standard Java, document the published interface you expect other clients to invoke.</li><li>In standard Java, expose the published interface via abstractions and discourage other developers from using the concrete classes.</li><li>Module frameworks, such as OSGi, allow you to export packages and allow you to more easily enforce a published interface.</li></ul><h3>External Configuration</h3><p pid=\"68\">Modules should be externally configurable.</p><p pid=\"69\"><img alt=\"externalconfig\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13452-thumb.png\"></p><p pid=\"70\"><strong>Description</strong></p><p pid=\"71\">Module initialization typically requires configuring the module to its environmental context. Externalizing the configuration decreases context dependencies and allows you to use the module across a wider array of environments. External configuration increases a module's reuse, but makes it more difficult to use because developers must understand how to configure the module.</p><p pid=\"72\"><strong>Implementation Guidance</strong></p><ul><li>Use External Configuration to eliminate a module's environmental dependencies.</li><li>Include a configuration file within the module that defines a default configuration, making the module easier to use.</li><li>Remain cognizant of thus tradeoff between increased reuse and decreased usability. In other words, maximizing reuse complicates use.</li></ul><h3>Default Implementation</h3><p pid=\"73\">Provide modules with a default implementation.</p><p pid=\"74\"><img alt=\"defaultimplementation\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13453-thumb.png\"></p><p pid=\"75\"><strong>Description</strong></p><p pid=\"76\">To maximize reuse, a module must be flexible enough so that it can function in a variety of different operating environments. Yet, making a module easier to use leads us to incorporate more functionality into a module so developers are required to do less when using the module. A default implementation with well-defined extension points helps address this tension.</p><p pid=\"77\"><strong>Implementation Guidance</strong></p><ul><li>When defining a Default Implementation, depend upon the abstract elements of a module (see Abstract Modules or Separate Abstractions).</li><li>Include a default configuration in the module, but make the module externally configurable, as well.</li><li>Always create a Test Module to test the default implementation.</li></ul><h3>Module Faade</h3><p pid=\"78\">Create a faade serving as a coarse-grained entry point to another finegrained module's underlying implementation.</p><p pid=\"79\"><img alt=\"modulefacade\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13454-thumb.png\"></p><p pid=\"80\"><strong>Description</strong></p><p pid=\"81\">Fine-grained and lightweight modules are inherently more reusable. But fine-grained modules are also typically dependent on several other modules. A Module Faade defines a higher level API that coordinates the work of a set of fine-grained modules. The faade emphasizes ease of use while the finer-grained modules emphasize reuse.</p><p pid=\"82\"><strong>Implementation Guidance</strong></p><ul><li>Don't emphasize reuse of the faade. Use it to wire together and configure multiple fine-grained modules.</li><li>Place context and environmental dependencies in the faade.</li><li>Use the faade as an entry point for your integration tests.</li></ul><h2>Extensibility Patterns</h2><p pid=\"83\">We want software that is easy to extend without modifying the existing codebase. We also want to deploy this new functionality without affecting other areas of the system. The extensibility patterns help us achieve this goal.</p><h3>Abstract Modules</h3><p pid=\"84\">Depend upon the abstract elements of a module.</p><p pid=\"85\"><img alt=\"abstractmodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13455-thumb.png\"></p><p pid=\"86\"><strong>Description</strong></p><p pid=\"87\">Depending on the abstract elements of a module gives you greater opportunities to extend the system by defining new modules with classes that implement or extend the abstraction. Any clients of the module also have the ability to define their own implementations and plug them into the module.</p><p pid=\"88\"><strong>Implementation Guidance</strong></p><ul><li>Use an Implementation Factory to create a module's underlying implementation.</li><li>Use Abstract Modules when you have many incoming module dependencies and you want the flexibility to swap out underlying implementations.</li><li>Strive to make the abstraction within a module as stable as possible. That is, avoid changes since it will have many many other modules are dependent upon it.</li></ul><h3>Implementation Factory</h3><p pid=\"89\">Use factories to create a module's implementation classes.</p><p pid=\"90\"><img alt=\"implementation factory\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13456-thumb.png\"></p><p pid=\"91\"><strong>Description</strong></p><p pid=\"92\">Any module whose classes depend upon the abstract elements of another module should avoid referencing any implementation classes. Doing so will compromise your module design. Consider the following rule.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13457-thumb.png\"></p><p>If a class depending on an abstraction must be changed in order to instantiate a new implementation of the abstraction, the design is flawed.</p></div><p pid=\"93\">Furthermore, if a module must be changed to accommodate the instantiation, the module design is compromised.</p><p pid=\"94\"><strong>Implementation Guidance</strong></p><ul><li>The factory must be separated from the module containing the class instances it creates as well as the module dependent upon the abstractions.</li><li>Externalize the creation of a module's implementation to a configuration file.</li><li>Consider using a dependency injection framework like Spring, OSGi Blueprint, or OSGi Declarative Services. These will serve as your factory to wire together the appropriate implementations at runtime.</li></ul><h3>Separate Abstractions</h3><p pid=\"95\">Place abstractions and the classes that implement them in separate modules.</p><p pid=\"96\"><img alt=\"separate abstractions\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13458-thumb.png\"></p><p pid=\"97\"><strong>Description</strong></p><p pid=\"98\">Separating abstractions from their implementation offers the greatest flexibility to provide new implementations that completely replace existing implementations. With Separate Abstractions, you can define new behavior and plug it into your system without affecting existing system modules. Separate Abstractions can be used to develop a plug-in architecture. As a general guideline, apply the following rule.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13459-thumb.png\"></p><p>Keep the abstraction closer to the classes that depend upon it and further from the classes that extend or implement it.</p></div><p pid=\"99\"><strong>Implementation Guidance</strong></p><ul><li>If all classes that depend upon an abstraction live in a single module, then place the classes and the abstraction in the same module.</li><li>If the classes dependent upon an abstraction live in separate modules, place the abstraction in a module separate from the classes that depend upon it.</li><li>Separating abstractions lends the ultimately flexibility to extend your system, but also increases it's complexity.</li></ul><h2>Utility Patterns</h2><p pid=\"100\">The utility patterns are additional tools and techniques that aid modular development. They help you enforce your modular design and ensure quality.</p><h3>Colocate Exceptions</h3><p pid=\"101\">Exceptions should be close to the class or interface that throws them.</p><p pid=\"102\"><img alt=\"colocate\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13460-thumb.png\"></p><p pid=\"103\"><strong>Description</strong></p><p pid=\"104\">Allocation of exceptions to modules has implications on module dependencies. Putting exceptions close to the classes that catch them creates a dependency from the module that throws the exception to the module containing the exception. Because invoking a method can introduce a module dependency, exceptions should be in the same module as the class containing the method that throws the exception.</p><p pid=\"105\"><strong>Implementation Guidance</strong></p><ul><li>Throw the exception on the interface or abstract class you're bound to and place the exception in the same module as the interface or abstract class.</li><li>If abstractions across several modules throw the same exception, demote the exception to a completely separate module at a lower level.</li></ul><h3>Levelize Build</h3><p pid=\"106\">Execute the build in accordance with module levelization.</p><p pid=\"107\"><img alt=\"levelizebuild\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13461-thumb.png\"></p><p pid=\"108\"><strong>Description</strong></p><p pid=\"109\">Enforcing module relationships is difficult. Though conceptually you may believe you have an acyclic module structure and fully comprehend the module relationships, a single build target with everything on the classpath allows undesirable cycles and dependencies to creep in. A levelized build helps you enforce your module dependencies. Any dependencies that violate your defined module structure will result in a build failure.</p><p pid=\"110\"><strong>Implementation Guidance</strong></p><ul><li>Avoid a full classpath build, where all classes are built using a single compile target.</li><li>Define separate build targets for modules in different levels. Level 1 modules can be built with only external level 0 modules. At higher levels, include only the modules from lower levels that are required for a successful build.</li><li>Defining new module dependencies will require modifying the build for that module. This is not necessarily undesirable.</li></ul><h3>Test Module</h3><p pid=\"111\">Each module should have a corresponding test module.</p><p pid=\"112\"><img alt=\"testmodule\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13462-thumb.png\"></p><p pid=\"113\"><strong>Description</strong></p><p pid=\"114\">Test modules contain all of the tests for the classes in a specific module. They allow you to test a module's underlying implementation. A Test Module may contain unit tests that test a module's classes, as well as integration tests that test the entire module's functionality.</p><p pid=\"115\"><strong>Implementation Guidance</strong></p><ul><li>Depending on Abstract Modules make it easier to define mocks and stubs for testing a module independently.</li><li>For larger tests suites, or situations where performance is paramount, separate different types of tests (i.e., unit tests, integration tests, performance tests, etc.) out into separate test modules.</li><li>Ideally, you'll only include the test module and the module under test in the classpath when executing the tests. Pragmatically, some modules may require other dependent modules.</li></ul>","author":{"id":975993,"username":"egenesky","avatar":"https://secure.gravatar.com/avatar/4b023ff01147957f1efc5915f0f31918?d=identicon&r=PG","reputation":337},"lastEditedAction":27160817,"activeRevisionId":3023951,"revisionIds":[3023951,2732621,1220242,1220241,1220238,1220237,1220236,1104152,937583,937178,937176,935595,935594,927380,637865,637864,637863,637862,637861],"lastActiveUserId":3048562,"lastActiveDate":1523386320000,"parentId":null,"parentAuthor":null,"originalParentId":null,"childrenIds":[],"commentIds":[],"marked":true,"topics":["java","devops","patterns of modular architecture"],"primaryContainerId":8,"containerIds":[7,8],"plug":"patterns-modular-architecture","wiki":false,"score":0,"depth":0}}];
        TH_CORE_VARS.additional.requiresModule = ["generalDirectives","monospaced.elastic","angularFileUpload","ui.bootstrap-slider","angulartics","angulartics.google.analytics","ngCookies","ngSanitize","ui.select","ui.bootstrap","angularMoment","ngTouch","ngDialog","LocalStorageModule"];
        TH_CORE_VARS.additional.TH_CSRF = "-8517822248813976728";
            } catch (e) {
        console.error(e);
    }
</script>
<script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>

<script>
    const peer39Enabled = true;
</script>

<script type="text/javascript" src="//dz2cdn2.dzone.com/storage/pub/15894760-combined.js" charset="utf-8"></script><script type="text/javascript" src="//dz2cdn2.dzone.com/storage/pub/15894784-combined.js" charset="utf-8"></script>    <script>
        window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
        ga('create', 'UA-410289-1', 'auto');
        ga('require', 'linkid', 'linkid.js');
        ga('require', 'GTM-TSD9TZP');
        ga('set', 'siteSpeedSampleRate', 25);
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>

    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-K25QL22');
    </script>

<script>
    !function (e, o, n, i) {
        if (!e) {
            e = e || {}, window.permutive = e, e.q = [];
            var t = function () {
                return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (e) {
                    return (e ^ (window.crypto || window.msCrypto).getRandomValues(new Uint8Array(1))[0] & 15 >> e / 4).toString(16)
                })
            };
            e.config = i || {}, e.config.apiKey = o, e.config.workspaceId = n, e.config.environment = e.config.environment || "production", (window.crypto || window.msCrypto) && (e.config.viewId = t());
            for (var g = ["addon", "identify", "track", "trigger", "query", "segment", "segments", "ready", "on", "once", "user", "consent"], r = 0; r < g.length; r++) {
                var w = g[r];
                e[w] = function (o) {
                    return function () {
                        var n = Array.prototype.slice.call(arguments, 0);
                        e.q.push({
                            functionName: o,
                            arguments: n
                        })
                    }
                }(w)
            }
        }
    }(window.permutive, "bca90777-e088-4f2a-96c2-13ad18deeccc", "18ad0c5b-460c-4d19-a729-dc537805538f", {});
    window.googletag = window.googletag || {}, window.googletag.cmd = window.googletag.cmd || [], window.googletag.cmd.push(function () {
        if (0 === window.googletag.pubads().getTargeting("permutive").length) {
            var e = window.localStorage.getItem("_pdfps");
            window.googletag.pubads().setTargeting("permutive", e ? JSON.parse(e) : []);
            var o = window.localStorage.getItem("permutive-id");
            o && (window.googletag.pubads().setTargeting("puid", o), window.googletag.pubads().setTargeting("ptime", Date.now().toString())), window.permutive.config.viewId && window.googletag.pubads().setTargeting("prmtvvid", window.permutive.config.viewId), window.permutive.config.workspaceId && window.googletag.pubads().setTargeting("prmtvwid", window.permutive.config.workspaceId)
        }
    });


        permutive.addon('web', {
            'page': {
                'category': 'Integration',
                'node': {
                    'authorCompany': 'Developer',
                    'authors': [238461, ],
                    'publishDate': new Date(1523386320000),
                    'sponsorAuthor': false,
                    'tags': ['patterns of modular architecture', 'java', 'devops', ],
                    'title': 'Patterns of Modular Architecture',
                    'type': 'refcard',
                },
                'section': 'refcard',
            }
        });
</script>
<script async src="https://18ad0c5b-460c-4d19-a729-dc537805538f.edge.permutive.app/18ad0c5b-460c-4d19-a729-dc537805538f-web.js"></script>



<script type="text/javascript">
    (function() {
            function controller($scope, TH$Dialog, $location, $rootScope, $timeout, TH$SharedVars, $service, TH$LocalStorage) {

    $scope.searchT ='';
    $scope.zonesOpen = false;

    $scope.login = function() {
        TH$Dialog.open({
            loadWidget: 'users.loginForm',
            size: 'modalForm',
            showClose: true
        });
    };

    $scope.signIn = function() {
        TH$Dialog.open({
            loadWidget: 'users.registration',
            size: 'modalFormExtended',
            showClose: true
        });
    };

    $scope.allResults = function() {
        window.location='/search';
    };

    $("#search").keyup(function(e) {
        var length = ($scope.searchT ? $scope.searchT.length : 0);
        $scope.searchT = ($scope.searchT ? $scope.searchT : '');

        if (e.keyCode === 13 && length > 2) {
            $scope.allResults();
        }
    });

    $scope.focusSearch = function() {
        $timeout(function() {
            $("#search").focus();
        }, 100)
    };

    $scope.search = function() {
        var length = ($scope.searchT ? $scope.searchT.length : 0);
        $scope.loading = (length > 2);
        if (length < 3) {
            if ($scope.nodes || $scope.nodes == []) {
                $timeout(function() {
                    $scope.nodes = [];
                    $scope.cType = [];
                    $scope.related = [];
                    $scope.pager = [];
                    $scope.searchParam = [];
                    $scope.totalResults = null;

                }, 100)
            }
            return false;
        }

        var term = $scope.searchT;
        if ($scope.prevTerm == term) {
            return;
        }

        $scope.prevTerm = term;

        TH$LocalStorage.value('searchValue', term);
        term = (term ? term : '');
        $service.nextPage({term: term, pageSize: 7}, null, true).then(function(data) {
            $scope.loading = false;
            var curPage = 1;
            $scope.nodes = data.pages.newest[curPage];
            $scope.haveResults = ($scope.nodes) ? true : false;
            $scope.totalResults = data.totalItems;
        });
    }

    $scope.toggleZones = function(url, $event) {
        $event.preventDefault();
        $scope.zonesOpen = !$scope.zonesOpen;
    }

    $scope.$watch('searchT', function(t) {
        $scope.search();

        if (t && t.length) {
            permutive.track('Search', {
                searchQuery: t
            });
        }
    });
}

            var WMODEL_DATA = {};
            WMODEL_DATA.isAdmin = false;
        WMODEL_DATA.getPortals = null;
        WMODEL_DATA.OPTIONS = {};
        WMODEL_DATA.user = {"karma":40,"country":null,"website":null,"city":null,"about":null,"avatar":"https://secure.gravatar.com/avatar/?d=identicon&r=PG","realName":"$$ANON_USER$$","websiteUrl":"","jobRole":null,"tagline":null,"company":null,"id":2500002,"job":null};
        TH.installWidgetController('header.headerV2', 'mainHeader', WMODEL_DATA, typeof controller == 'function' ? controller : null, [{name: 'nextPage', data: true}], ' oUhbWOfRPSwBoUhM', null);
        })();
        (function() {
            function controller($scope, TH$Dialog, TH$Service, $window, $rootScope) {

    var body = $(".body"),
        announcement = $(".announcementBar"),
        marginRight = body.css("marginRight"),
        marginLeft = body.css("marginLeft");

    $scope.goToRegistration = function() {
        TH$Dialog.open({
            loadWidget: 'users.registration',
            size: 'modalFormExtended',
            showClose: true,
            data: {
                fromDownload: true,
                redirectUrl: $scope.announcement.link
            }
        });
    };

    $scope.track = function(id) {
        var data = {
            siteNotification: id
        };
        if ($rootScope.user.authenticated) {
            TH$Service.exec('dzoneUsers.trackAnnouncementBar', data).then(function() {
            });
            $window.location.href = $scope.announcement.link;
        } else {
            $scope.goToRegistration();
        }
    };

    $(window).resize(function() {
        marginRight = body.css("marginRight");
        marginLeft = body.css("marginLeft");
        $scope.setBarWidth()
    });

    if (!(announcement.next().is(".layout-card"))) {
        announcement.css("margin-bottom", "10px");
    }

    $scope.toShow = ($scope.announcement && $scope.announcement.anononly) ? !($rootScope.user.authenticated) : true;

    $scope.setBarWidth = function() {
        var container = $("#acontainer");
        container.css("margin-right", "-" + marginRight);
        container.css("margin-left", "-" + marginLeft);
    }
}

TH.directive('backImg', function() {
    return function(scope, element, attrs) {
        if (attrs.hasimage == "true") {
            var img = new Image();
            img.onload = a(attrs.img, element, scope);
            img.onerror = a(attrs.imgbackup, element, scope);
            img.src = attrs.img;
        }
        scope.setBarWidth();
    };
});

var a = function(url, element) {
    element.css({
        'background-image': 'url(' + url + ')',
        'background-size': 'cover'
    });
};
            var WMODEL_DATA = {};
            WMODEL_DATA.OPTIONS = {};
        WMODEL_DATA.announcement = {"id":4911195,"body":"[New Research] Check out DZone's 2022 Trend Report on \"Data Pipelines: Ingestion, Warehousing, and Processing\"","link":"https://dzone.tradepub.com/c/pubRD.mpl?secure=1&sr=pp&_t=pp:&qf=w_defa2593&ch=sitenote","title":"Read the report","img2":"/notificationImage.html?id=4911195","img":"https://dz2cdn1.dzone.com/notificationImage.html?id=4911195","hasImage":false,"anononly":false};
        TH.installWidgetController('announcementBar', 'announcementBar1', WMODEL_DATA, typeof controller == 'function' ? controller : null, null, ' oUhbYlrRaqMaoUhM', null);
        })();
        (function() {
            function controller($scope, $location, DZHeadService, TH$SharedVars, TH$Dialog, TH$Service) {

    TH$SharedVars.bind($scope, 'campaign', 'refcardCampaign', true);

    $scope.editUrl = function() {
        return '/dzone/staff/refcardz/' + $scope.asset.id + '/edit.html';
    };

    $scope.showRegistration = function() {
        TH$Dialog.open({
            loadWidget: 'users.registration',
            size: 'modalFormExtended',
            showClose: true,
            data: {
                asset: $scope.asset.pdf,
                fromDownload: true
            }
        });
    };

    $scope.showDownload = function() {
        TH$Service.data('dzoneUsers.getNextQuestion', { asset: $scope.asset.pdf }).then(function(result) {
            if (result) {
                TH$Dialog.open({
                    loadWidget: 'users.questionForm',
                    size: 'modalForm',
                    showClose: true,
                    closeByDocument: true,
                    closeByEscape: true,
                    data: {
                        asset: $scope.asset.pdf,
                        question: result,
                        fromDownload: true,
                        portalId: result.portalId,
                        portalName: result.portalName,
                        portalAlreadySubscribed: result.portalSubscribed,
                    }
                });
            } else {
                $location.url($scope.asset.pdf);
            }
        });
    };

    DZHeadService.title = TH_CORE_VARS.additional.model[0].metaData.title;
    DZHeadService.description = TH_CORE_VARS.additional.model[0].metaData.description;
    DZHeadService.url = $location.absUrl();
}
            var WMODEL_DATA = {};
            WMODEL_DATA.reprint = false;
        WMODEL_DATA.directPdf = false;
        WMODEL_DATA.perms = {"canEdit":false};
        WMODEL_DATA.type = "refcard";
        WMODEL_DATA.asset = {"assetDate":1354103774000,"description":"This Refcard offers a quick reference to the 18 modularity patterns discussed in Kirk Knoernschild's book, Java Application Architecture: Modularity Patterns with Examples Using OSGi. Included in this card are diagrams and descriptions of base patterns, dependency patterns, usability patterns, and more.","title":"Patterns of Modular Architecture","url":"/refcardz/patterns-modular-architecture","tags":["patterns of modular architecture","java","devops"],"cover":"//dz2cdn2.dzone.com/storage/rc-covers/4225-dzone_refcard_166.png","saveStatus":{"saved":false,"count":629,"canSave":false},"editUrl":"/dzone/staff/refcardz/520282/edit.html","pages":null,"pdf":"/asset/download/38831","featuredImage":"","headerImage":"//dz2cdn3.dzone.com/storage/rc-covers/8772814-refcardheader166.png","subtitle":"18 Patterns for the Java Platform","cardId":"#166","shortDesc":"Covers 18 modularity patterns to help developers incorporate modular design thinking into development initiatives.","id":520282,"portal":"Integration","views":114698,"authors":[{"firstName":"Kirk","lastName":"Knoernschild","realName":"Kirk Knoernschild","aboutAuthor":"Kirk is a software developer who has filled most roles on the software developer team. He is the author of Java Design: Objects, UML, and Process (Addison-Wesley, 2002) and he contributed to No Fluff Just Stuff 2006 Anthology (Pragmatic Bookshelf, 2006). His most recent book, Java Application Architecture: Modularity Patterns with Examples Using OSGi was published in 2012. ","jobTitle":"Software Developer","companyName":"Developer","name":"kirkk","id":238461,"avatar":"https://secure.gravatar.com/avatar/15228d196c80f22e5474950ef44604d8?d=identicon&r=PG","url":"/users/238461/kirkk.html"}]};
        WMODEL_DATA.OPTIONS = {"type":"refcard"};
        TH.installWidgetController('refcardz.topHeaderV3', 'refcardzTopHeaderV34', WMODEL_DATA, typeof controller == 'function' ? controller : null, null, ' oUhbfSbmcnWOfYfWVcC', null);
        })();
        (function() {
            function controller($scope, $rootScope, TH$Dialog, TH$SharedVars, $timeout, TH$Location, TH$Service, $location,
                    $analytics) {

    if ($scope.refcard && $scope.refcard.topicNames) {
        var portal = ($scope.refcard.portal && $scope.refcard.portal.id ? $scope.refcard.portal.id : null);
        // Find related articles and refcards for the refcard template
        TH$Service.data('articles.getRelatedArticlesAndRefcards', {
            article: $scope.refcard.id,
            topicNames: $scope.refcard.topicNames,
            articleLimit: 4,
            refcardPortal: portal,
            refcardLimit: 4
        }).then(function(result) {
            $scope.refcard.relatedArticles = result.articles;
            $scope.refcard.relatedRefcards = result.refcards;
        });
    }

     // Build comma separated list of author ids
    $scope.refcardAuthorIds = $scope.refcard.authors.map(function(elem) {
        return elem.id.toString();
    });

     $scope.loginForm = function() {
        TH$Dialog.open({
            loadWidget: 'users.loginForm',
            size: 'modalForm',
            showClose: true
        });
    };

     $scope.scrollTo = function($event, anchor) {
         $event.preventDefault();

         $('html,body').animate({
             scrollTop: $(anchor).offset().top - 100}, 'slow', function () {
             window.location.hash = anchor;
         });
     }

    TH$SharedVars.bind($scope, 'chapter', 'currentChapter');
    TH$SharedVars.bind($scope, 'campaign', 'refcardCampaign');

    $analytics.pageTrack($location.absUrl());
}

            var WMODEL_DATA = {};
            WMODEL_DATA.preview = "";
        WMODEL_DATA.daysOldBody = "Technology moves quickly and this #type was published #time.  Some or all of its contents may be outdated.";
        WMODEL_DATA.chapterList = {"ordered":[{"chapter":1,"new":false,"active":true,"body":"<p pid=\"3\">Module frameworks are gaining traction on the Java platform. Though modularity isn't a new concept, it promises to change the way we develop software applications. You'll only be able to realize the benefits of modularity if you understand how to design more modular software systems.</p><p pid=\"4\">The modularity patterns lay the foundation necessary to incorporate modular design thinking into your development initiatives. No module framework is necessary to use these patterns, and you already have many of the tools you need to design modular software. This refcard provides a quick reference to the 18 modularity patterns discussed in the book <em>Java Application Architecture: Modularity Patterns with Examples Using OSGi.</em></p><p pid=\"5\">The modularity patterns are not specific to the Java platform. They can be applied on any platform by treating the unit of release and deployment as the module. Each pattern includes a diagram (except for base patterns), description, and implementation guidance.</p><p pid=\"6\"><strong>Base Patterns:</strong> Fundamental modular design concepts upon which several other patterns exist.</p><p pid=\"7\"><strong>Dependency Patterns:</strong> Used to help you manage dependencies between modules.</p><p pid=\"8\"><strong>Usability Patterns:</strong> Used to help you design modules that are easy to use.</p><p pid=\"9\"><strong>Extensibility Patterns:</strong> Used to help you design flexible modules that you can extend with new functionality.</p><p pid=\"10\"><strong>Utility Patterns:</strong> Used as tools to aid modular development.</p><h3>Logical vs. Modular Design</h3><p pid=\"11\">Almost all well-known principles and patterns that aid software design address logical design. Identifying the methods of a class, relationships between classes, and the system package structure are all logical design issues. The vast majority of development teams spend their time dealing with logical design issues. A flexible logical design eases maintenance and increases extensibility.</p><p pid=\"12\">Logical design is just one piece of the software design and architecture challenge, however. The other is modular design, which focuses on the physical entities and the relationships between them. Identifying the entities containing your logical design constructs and managing dependencies between the units of deployment are examples of modular design. Without modular design, you may not realize the benefits you expect from your logical design. The modularity patterns help you:</p><ul>\n <li>Design software that is extensible, reusable, maintainable, and adaptable.</li>\n <li>Design modular software today, in anticipation of future platform support for modularity.</li>\n <li>Break large software systems into a flexible composite of collaborating modules.</li>\n <li>Understand where to place your architectural focus</li>\n <li>Migrate large-scale monolithic applications to applications with a modular architecture.</li>\n</ul><h3>The Two Facets of Modularity</h3><p pid=\"13\">There are two facets of modularity.</p><p pid=\"14\">The runtime model focuses on how to manage software systems at runtime. A module system, such as OSGi, is required to take advantage of the runtime model.</p><p pid=\"15\">The development model deals with how developers create modular software. The development model can be broken down into two subcategories. The programming model is how you interact with a module framework to take advantage of the runtime benefits of modularity. The design paradigm is the set of patterns you apply to design great modules.</p><p pid=\"16\">A module framework gives you runtime support and a programming model for modularity. But a module framework won't help you design great software modules. The patterns in this refcard address the design paradigm and help you design modular software.</p><h3>Module Defined</h3><p pid=\"17\">A software module is a deployable, manageable, natively reusable, composable, stateless unit of software that provides a concise interface to consumers. On the Java platform, a module is a JAR file, as depicted in the diagram. The patterns in this refcard help you design modular software and realize the benefits of modularity.</p><p pid=\"18\"><img alt=\"module defined\" class=\"fr-dii fr-fil\" src=\"/storage/rc-covers/13440-thumb.png\" /></p>","creationDate":1435760394000,"creationDateFormatted":"07/01/2015 02:19 PM","title":"About the Modularity Patterns","revision":1,"modificationDate":null,"id":1773493},{"chapter":2,"new":false,"active":true,"body":"<p pid=\"19\">The base patterns are the fundamental elements upon which the other patterns exist. They establish the conscientious thought process that goes into designing systems with a modular architecture. They focus on modules as the unit of reuse, dependency management, and cohesion.</p><h3>Manage Relationships</h3><p pid=\"20\">Design module relationships.</p><p pid=\"21\"><strong>Description</strong></p><p pid=\"22\">A relationship between two modules exists when a class within one module imports at least a single class within another module. In other words:</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13441-thumb.png\" /></p>\n <p>If changing the contents of a module, M2, may impact the contents of another module, M1, we can say that M1 has a physical dependency on M2.</p>\n</div><p pid=\"23\">Excessive dependencies will make your modules more difficult to maintain, reuse, and test.</p><p pid=\"24\"><strong>Implementation Guidance</strong></p><ul>\n <li>Avoid modules with excessive incoming and outgoing dependencies.</li>\n <li>Modules with many incoming dependencies should be stable. That is, they should change infrequently</li>\n <li>Use module dependencies as a system of checks and balances. For instance, enforce relationships between software layers using modularity (see Physical Layers).</li>\n</ul><h3>Module Reuse</h3><p pid=\"25\">Emphasize reusability at the module level.</p><p pid=\"26\"><strong>Description</strong></p><p pid=\"27\">An oft-cited benefit of object-oriented development is reuse. Unfortunately, objects (or classes) are not an adequate reuse construct. The Reuse Release Equivalence Principle explains why.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13442-thumb.png\" /></p>\n <p>The unit of reuse is the unit of release.</p>\n</div><p pid=\"28\">Modules are a unit of release and are, therefore, an excellent candidate as the unit of reuse.</p><p pid=\"29\"><strong>Implementation Guidance</strong></p><ul>\n <li>Separate horizontal modules (those that span business domains) from vertical modules (those specific to a business domain).</li>\n <li>Module granularity and weight play a significant role in reuse. Carefully consider each.</li>\n <li>Fine-grained modules with external configuration come with a higher likelihood of reuse. But beware, these modules may be more difficult to use.</li>\n</ul><h3>Cohesive Modules</h3><p pid=\"30\">Module behavior should serve a singular purpose.</p><p pid=\"31\"><strong>Description</strong></p><p pid=\"32\">Cohesion is a measure of how closely related and focused the various responsibilities of a module are. Modules that lack cohesion are more difficult to maintain.</p><p pid=\"33\"><strong>Implementation Guidance</strong></p><ul>\n <li>Pay careful attention to how you allocate classes to their respective modules.</li>\n <li>Classes changing at the same rate and typically reused together belong in the same module.</li>\n <li>Classes changing at different rates and typically not reused together belong in separate modules.</li>\n</ul>","creationDate":1435760394000,"creationDateFormatted":"07/01/2015 02:19 PM","title":"Base Patterns","revision":1,"modificationDate":null,"id":1773494},{"chapter":3,"new":false,"active":true,"body":"<p pid=\"34\">The dependency patterns focus on managing the relationships between modules. They provide guidance on managing coupling that increase the likelihood of module reuse.</p><h3>Acyclic Relationships</h3><p pid=\"35\">Module relationships must be acyclic.</p><p pid=\"36\"><img alt=\"acyclicrelationships\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13443-thumb.png\" /></p><p pid=\"37\"><strong>Description</strong></p><p pid=\"38\">Cyclic relationships complicate the module structure. Apply the following rule to identify cyclic relationships.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13444-thumb.png\" /></p>\n <p>If beginning with module A, you can follow the dependency relationships between the set of modules that A is directly or indirectly dependent upon and you find any dependency on module A within that set, then a cyclic dependency exists between your module structure.</p>\n</div><p pid=\"39\">You should avoid cyclic dependencies.</p><p pid=\"40\"><strong>Implementation Guidance</strong></p><ul>\n <li>Escalation breaks cycles by moving the cause of the cyclic dependency to a managing module at a higher level.</li>\n <li>Demotion breaks cycles by moving the cause of the cyclic dependency to a lower-level module.</li>\n <li>Callbacks break a cycle by defining an abstraction that is injected into the dependent module. This implementation resembles the Observer [GOF] pattern.</li>\n</ul><h3>Levelize Modules</h3><p pid=\"41\">Module relationships should be levelized.</p><p pid=\"42\"><img alt=\"levelizemodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13446-thumb.png\" /></p><p pid=\"43\"><strong>Description</strong></p><p pid=\"44\">Levelization is similar to layering, but is a finer-grained way to manage acyclic relationships between modules. With levelization, a single layer may contain multiple module levels. To levelize modules, do the following: Assign external modules level 0. Modules dependent only on level 0 modules are assigned level 1. Modules dependent on level 1 are assigned level 2. Modules dependent on level n are assigned level n + 1.</p><p pid=\"45\"><strong>Implementation Guidance</strong></p><ul>\n <li>Levels are more granular than the layers in your system. Use levels to manage relationships within layers.</li>\n <li>Levelization demands module relationships be acyclic. You cannot levelize a module structure with cycles.</li>\n <li>A strict levelization scheme, where modules are dependent only on the level directly beneath it, is conceptually ideal but pragmatically difficult.</li>\n</ul><h3>Physical Layers</h3><p pid=\"46\">Module relationships should not violate the conceptual layers.</p><p pid=\"47\"><img alt=\"physicallayers\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13447-thumb.png\" /></p><p pid=\"48\"><strong>Description</strong></p><p pid=\"49\">Layering a system helps ease maintenance and testability of the application. Common layers include presentation (i.e., user interface), domain (i.e., business), and data access. Any conceptually layered software system can be broken down into modules that correspond to these conceptual layers. Physical layers helps increase reusability because each layer is a deployable unit.</p><p pid=\"50\"><strong>Implementation Guidance</strong></p><ul>\n <li>Begin by creating a single coarse-grained module for each layer.</li>\n <li>Enforce the layers using Levelize Build.</li>\n <li>Break out each layer into more cohesive modules and use Levelize Modules to understand and manage the relationships within the layer.</li>\n <li>It's fine if modules within a layer have relationships between them. These modules will be at different levels.</li>\n</ul><h3>Container Independence</h3><p pid=\"51\">Modules should be independent of the runtime container.</p><p pid=\"52\"><img alt=\"containerindependence\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13448-thumb.png\" /></p><p pid=\"53\"><strong>Description</strong></p><p pid=\"54\">Heavyweight modules are dependent upon a specific runtime environment and are difficult to reuse across contexts. Environmental dependencies also negatively affect your ability to test modules. Modules independent of the runtime container are more likely reused, and are more easily maintained and testable.</p><p pid=\"55\"><strong>Implementation Guidance</strong></p><ul>\n <li>Avoid importing container-dependent packages in your module's code.</li>\n <li>Use External Configuration to configure a module so that it can operate in different runtime environments.</li>\n <li>Use dependency injection to abstract container dependencies.</li>\n</ul><h3>Independent Deployment</h3><p pid=\"56\">Modules should be independently deployable units.</p><p pid=\"57\"><img alt=\"independent deployment\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13449-thumb.png\" /></p><p pid=\"58\"><strong>Description</strong></p><p pid=\"59\">The less outgoing dependencies a module has, the easier the module is to reuse. A module with no outgoing dependencies is independently deployable and can be reused without the worry of identifying which additional modules might be necessary. Lower-level modules inherently have fewer outgoing dependencies and increase the opportunity for reuse.</p><p pid=\"60\"><strong>Implementation Guidance</strong></p><ul>\n <li>Not all modules can be independently deployable. Some module dependencies are always necessary.</li>\n <li>In additional to reducing outgoing dependencies, container dependencies must also be minimized for those modules that are independently deployable.</li>\n <li>Highly cohesive modules are easier to make independently deployable units.</li>\n</ul>","creationDate":1442501950000,"creationDateFormatted":"09/17/2015 02:59 PM","title":"Dependency Patterns","revision":2,"modificationDate":null,"id":1897105},{"chapter":4,"new":false,"active":true,"body":"<p pid=\"61\">We want modules that other developers find easy to interact with. The usability patterns help design modules that are easy to understand and use.</p><h3>Published Interface</h3><p pid=\"62\">Make a module's published interface well known.</p><p pid=\"63\"><img alt=\"publishedinterface\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13450-thumb.png\" /></p><p pid=\"64\"><strong>Description</strong></p><p pid=\"65\">Modules should encapsulate implementation details so that other modules don't need to understand the implementation to use the module. A module's published interface exposes the capabilities you want to make available to other developers.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13451-thumb.png\" /></p>\n <p>A published interface consists of the public methods within the public classes within the &quot;exported&quot; packages that other modules are able to invoke.</p>\n</div><p pid=\"66\">In standard Java, there is no way to explicitly state which packages a module exports, so it's difficult to enforce a published interface. Module frameworks, such as OSGi, shine in this situation.</p><p pid=\"67\"><strong>Implementation Guidance</strong></p><ul>\n <li>In standard Java, document the published interface you expect other clients to invoke.</li>\n <li>In standard Java, expose the published interface via abstractions and discourage other developers from using the concrete classes.</li>\n <li>Module frameworks, such as OSGi, allow you to export packages and allow you to more easily enforce a published interface.</li>\n</ul><h3>External Configuration</h3><p pid=\"68\">Modules should be externally configurable.</p><p pid=\"69\"><img alt=\"externalconfig\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13452-thumb.png\" /></p><p pid=\"70\"><strong>Description</strong></p><p pid=\"71\">Module initialization typically requires configuring the module to its environmental context. Externalizing the configuration decreases context dependencies and allows you to use the module across a wider array of environments. External configuration increases a module's reuse, but makes it more difficult to use because developers must understand how to configure the module.</p><p pid=\"72\"><strong>Implementation Guidance</strong></p><ul>\n <li>Use External Configuration to eliminate a module's environmental dependencies.</li>\n <li>Include a configuration file within the module that defines a default configuration, making the module easier to use.</li>\n <li>Remain cognizant of thus tradeoff between increased reuse and decreased usability. In other words, maximizing reuse complicates use.</li>\n</ul><h3>Default Implementation</h3><p pid=\"73\">Provide modules with a default implementation.</p><p pid=\"74\"><img alt=\"defaultimplementation\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13453-thumb.png\" /></p><p pid=\"75\"><strong>Description</strong></p><p pid=\"76\">To maximize reuse, a module must be flexible enough so that it can function in a variety of different operating environments. Yet, making a module easier to use leads us to incorporate more functionality into a module so developers are required to do less when using the module. A default implementation with well-defined extension points helps address this tension.</p><p pid=\"77\"><strong>Implementation Guidance</strong></p><ul>\n <li>When defining a Default Implementation, depend upon the abstract elements of a module (see Abstract Modules or Separate Abstractions).</li>\n <li>Include a default configuration in the module, but make the module externally configurable, as well.</li>\n <li>Always create a Test Module to test the default implementation.</li>\n</ul><h3>Module Fa&ccedil;ade</h3><p pid=\"78\">Create a fa&ccedil;ade serving as a coarse-grained entry point to another finegrained module's underlying implementation.</p><p pid=\"79\"><img alt=\"modulefacade\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13454-thumb.png\" /></p><p pid=\"80\"><strong>Description</strong></p><p pid=\"81\">Fine-grained and lightweight modules are inherently more reusable. But fine-grained modules are also typically dependent on several other modules. A Module Fa&ccedil;ade defines a higher level API that coordinates the work of a set of fine-grained modules. The fa&ccedil;ade emphasizes ease of use while the finer-grained modules emphasize reuse.</p><p pid=\"82\"><strong>Implementation Guidance</strong></p><ul>\n <li>Don't emphasize reuse of the fa&ccedil;ade. Use it to wire together and configure multiple fine-grained modules.</li>\n <li>Place context and environmental dependencies in the fa&ccedil;ade.</li>\n <li>Use the fa&ccedil;ade as an entry point for your integration tests.</li>\n</ul>","creationDate":1442501950000,"creationDateFormatted":"09/17/2015 02:59 PM","title":"Usability Patterns","revision":2,"modificationDate":null,"id":1897106},{"chapter":5,"new":false,"active":true,"body":"<p pid=\"83\">We want software that is easy to extend without modifying the existing codebase. We also want to deploy this new functionality without affecting other areas of the system. The extensibility patterns help us achieve this goal.</p><h3>Abstract Modules</h3><p pid=\"84\">Depend upon the abstract elements of a module.</p><p pid=\"85\"><img alt=\"abstractmodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13455-thumb.png\" /></p><p pid=\"86\"><strong>Description</strong></p><p pid=\"87\">Depending on the abstract elements of a module gives you greater opportunities to extend the system by defining new modules with classes that implement or extend the abstraction. Any clients of the module also have the ability to define their own implementations and plug them into the module.</p><p pid=\"88\"><strong>Implementation Guidance</strong></p><ul>\n <li>Use an Implementation Factory to create a module's underlying implementation.</li>\n <li>Use Abstract Modules when you have many incoming module dependencies and you want the flexibility to swap out underlying implementations.</li>\n <li>Strive to make the abstraction within a module as stable as possible. That is, avoid changes since it will have many many other modules are dependent upon it.</li>\n</ul><h3>Implementation Factory</h3><p pid=\"89\">Use factories to create a module's implementation classes.</p><p pid=\"90\"><img alt=\"implementation factory\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13456-thumb.png\" /></p><p pid=\"91\"><strong>Description</strong></p><p pid=\"92\">Any module whose classes depend upon the abstract elements of another module should avoid referencing any implementation classes. Doing so will compromise your module design. Consider the following rule.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13457-thumb.png\" /></p>\n <p>If a class depending on an abstraction must be changed in order to instantiate a new implementation of the abstraction, the design is flawed.</p>\n</div><p pid=\"93\">Furthermore, if a module must be changed to accommodate the instantiation, the module design is compromised.</p><p pid=\"94\"><strong>Implementation Guidance</strong></p><ul>\n <li>The factory must be separated from the module containing the class instances it creates as well as the module dependent upon the abstractions.</li>\n <li>Externalize the creation of a module's implementation to a configuration file.</li>\n <li>Consider using a dependency injection framework like Spring, OSGi Blueprint, or OSGi Declarative Services. These will serve as your factory to wire together the appropriate implementations at runtime.</li>\n</ul><h3>Separate Abstractions</h3><p pid=\"95\">Place abstractions and the classes that implement them in separate modules.</p><p pid=\"96\"><img alt=\"separate abstractions\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13458-thumb.png\" /></p><p pid=\"97\"><strong>Description</strong></p><p pid=\"98\">Separating abstractions from their implementation offers the greatest flexibility to provide new implementations that completely replace existing implementations. With Separate Abstractions, you can define new behavior and plug it into your system without affecting existing system modules. Separate Abstractions can be used to develop a plug-in architecture. As a general guideline, apply the following rule.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13459-thumb.png\" /></p>\n <p>Keep the abstraction closer to the classes that depend upon it and further from the classes that extend or implement it.</p>\n</div><p pid=\"99\"><strong>Implementation Guidance</strong></p><ul>\n <li>If all classes that depend upon an abstraction live in a single module, then place the classes and the abstraction in the same module.</li>\n <li>If the classes dependent upon an abstraction live in separate modules, place the abstraction in a module separate from the classes that depend upon it.</li>\n <li>Separating abstractions lends the ultimately flexibility to extend your system, but also increases it's complexity.</li>\n</ul>","creationDate":1442501950000,"creationDateFormatted":"09/17/2015 02:59 PM","title":"Extensibility Patterns","revision":2,"modificationDate":null,"id":1897107},{"chapter":6,"new":false,"active":true,"body":"<p pid=\"100\">The utility patterns are additional tools and techniques that aid modular development. They help you enforce your modular design and ensure quality.</p><h3>Colocate Exceptions</h3><p pid=\"101\">Exceptions should be close to the class or interface that throws them.</p><p pid=\"102\"><img alt=\"colocate\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13460-thumb.png\" /></p><p pid=\"103\"><strong>Description</strong></p><p pid=\"104\">Allocation of exceptions to modules has implications on module dependencies. Putting exceptions close to the classes that catch them creates a dependency from the module that throws the exception to the module containing the exception. Because invoking a method can introduce a module dependency, exceptions should be in the same module as the class containing the method that throws the exception.</p><p pid=\"105\"><strong>Implementation Guidance</strong></p><ul>\n <li>Throw the exception on the interface or abstract class you're bound to and place the exception in the same module as the interface or abstract class.</li>\n <li>If abstractions across several modules throw the same exception, demote the exception to a completely separate module at a lower level.</li>\n</ul><h3>Levelize Build</h3><p pid=\"106\">Execute the build in accordance with module levelization.</p><p pid=\"107\"><img alt=\"levelizebuild\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13461-thumb.png\" /></p><p pid=\"108\"><strong>Description</strong></p><p pid=\"109\">Enforcing module relationships is difficult. Though conceptually you may believe you have an acyclic module structure and fully comprehend the module relationships, a single build target with everything on the classpath allows undesirable cycles and dependencies to creep in. A levelized build helps you enforce your module dependencies. Any dependencies that violate your defined module structure will result in a build failure.</p><p pid=\"110\"><strong>Implementation Guidance</strong></p><ul>\n <li>Avoid a full classpath build, where all classes are built using a single compile target.</li>\n <li>Define separate build targets for modules in different levels. Level 1 modules can be built with only external level 0 modules. At higher levels, include only the modules from lower levels that are required for a successful build.</li>\n <li>Defining new module dependencies will require modifying the build for that module. This is not necessarily undesirable.</li>\n</ul><h3>Test Module</h3><p pid=\"111\">Each module should have a corresponding test module.</p><p pid=\"112\"><img alt=\"testmodule\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13462-thumb.png\" /></p><p pid=\"113\"><strong>Description</strong></p><p pid=\"114\">Test modules contain all of the tests for the classes in a specific module. They allow you to test a module's underlying implementation. A Test Module may contain unit tests that test a module's classes, as well as integration tests that test the entire module's functionality.</p><p pid=\"115\"><strong>Implementation Guidance</strong></p><ul>\n <li>Depending on Abstract Modules make it easier to define mocks and stubs for testing a module independently.</li>\n <li>For larger tests suites, or situations where performance is paramount, separate different types of tests (i.e., unit tests, integration tests, performance tests, etc.) out into separate test modules.</li>\n <li>Ideally, you'll only include the test module and the module under test in the classpath when executing the tests. Pragmatically, some modules may require other dependent modules.</li>\n</ul>","creationDate":1442501950000,"creationDateFormatted":"09/17/2015 02:59 PM","title":"Utility Patterns","revision":2,"modificationDate":null,"id":1897108}],"map":{"1":{"chapter":1,"new":false,"active":true,"body":"<p pid=\"3\">Module frameworks are gaining traction on the Java platform. Though modularity isn't a new concept, it promises to change the way we develop software applications. You'll only be able to realize the benefits of modularity if you understand how to design more modular software systems.</p><p pid=\"4\">The modularity patterns lay the foundation necessary to incorporate modular design thinking into your development initiatives. No module framework is necessary to use these patterns, and you already have many of the tools you need to design modular software. This refcard provides a quick reference to the 18 modularity patterns discussed in the book <em>Java Application Architecture: Modularity Patterns with Examples Using OSGi.</em></p><p pid=\"5\">The modularity patterns are not specific to the Java platform. They can be applied on any platform by treating the unit of release and deployment as the module. Each pattern includes a diagram (except for base patterns), description, and implementation guidance.</p><p pid=\"6\"><strong>Base Patterns:</strong> Fundamental modular design concepts upon which several other patterns exist.</p><p pid=\"7\"><strong>Dependency Patterns:</strong> Used to help you manage dependencies between modules.</p><p pid=\"8\"><strong>Usability Patterns:</strong> Used to help you design modules that are easy to use.</p><p pid=\"9\"><strong>Extensibility Patterns:</strong> Used to help you design flexible modules that you can extend with new functionality.</p><p pid=\"10\"><strong>Utility Patterns:</strong> Used as tools to aid modular development.</p><h3>Logical vs. Modular Design</h3><p pid=\"11\">Almost all well-known principles and patterns that aid software design address logical design. Identifying the methods of a class, relationships between classes, and the system package structure are all logical design issues. The vast majority of development teams spend their time dealing with logical design issues. A flexible logical design eases maintenance and increases extensibility.</p><p pid=\"12\">Logical design is just one piece of the software design and architecture challenge, however. The other is modular design, which focuses on the physical entities and the relationships between them. Identifying the entities containing your logical design constructs and managing dependencies between the units of deployment are examples of modular design. Without modular design, you may not realize the benefits you expect from your logical design. The modularity patterns help you:</p><ul>\n <li>Design software that is extensible, reusable, maintainable, and adaptable.</li>\n <li>Design modular software today, in anticipation of future platform support for modularity.</li>\n <li>Break large software systems into a flexible composite of collaborating modules.</li>\n <li>Understand where to place your architectural focus</li>\n <li>Migrate large-scale monolithic applications to applications with a modular architecture.</li>\n</ul><h3>The Two Facets of Modularity</h3><p pid=\"13\">There are two facets of modularity.</p><p pid=\"14\">The runtime model focuses on how to manage software systems at runtime. A module system, such as OSGi, is required to take advantage of the runtime model.</p><p pid=\"15\">The development model deals with how developers create modular software. The development model can be broken down into two subcategories. The programming model is how you interact with a module framework to take advantage of the runtime benefits of modularity. The design paradigm is the set of patterns you apply to design great modules.</p><p pid=\"16\">A module framework gives you runtime support and a programming model for modularity. But a module framework won't help you design great software modules. The patterns in this refcard address the design paradigm and help you design modular software.</p><h3>Module Defined</h3><p pid=\"17\">A software module is a deployable, manageable, natively reusable, composable, stateless unit of software that provides a concise interface to consumers. On the Java platform, a module is a JAR file, as depicted in the diagram. The patterns in this refcard help you design modular software and realize the benefits of modularity.</p><p pid=\"18\"><img alt=\"module defined\" class=\"fr-dii fr-fil\" src=\"/storage/rc-covers/13440-thumb.png\" /></p>","creationDate":1435760394000,"creationDateFormatted":"07/01/2015 02:19 PM","title":"About the Modularity Patterns","revision":1,"modificationDate":null,"id":1773493},"2":{"chapter":2,"new":false,"active":true,"body":"<p pid=\"19\">The base patterns are the fundamental elements upon which the other patterns exist. They establish the conscientious thought process that goes into designing systems with a modular architecture. They focus on modules as the unit of reuse, dependency management, and cohesion.</p><h3>Manage Relationships</h3><p pid=\"20\">Design module relationships.</p><p pid=\"21\"><strong>Description</strong></p><p pid=\"22\">A relationship between two modules exists when a class within one module imports at least a single class within another module. In other words:</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13441-thumb.png\" /></p>\n <p>If changing the contents of a module, M2, may impact the contents of another module, M1, we can say that M1 has a physical dependency on M2.</p>\n</div><p pid=\"23\">Excessive dependencies will make your modules more difficult to maintain, reuse, and test.</p><p pid=\"24\"><strong>Implementation Guidance</strong></p><ul>\n <li>Avoid modules with excessive incoming and outgoing dependencies.</li>\n <li>Modules with many incoming dependencies should be stable. That is, they should change infrequently</li>\n <li>Use module dependencies as a system of checks and balances. For instance, enforce relationships between software layers using modularity (see Physical Layers).</li>\n</ul><h3>Module Reuse</h3><p pid=\"25\">Emphasize reusability at the module level.</p><p pid=\"26\"><strong>Description</strong></p><p pid=\"27\">An oft-cited benefit of object-oriented development is reuse. Unfortunately, objects (or classes) are not an adequate reuse construct. The Reuse Release Equivalence Principle explains why.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13442-thumb.png\" /></p>\n <p>The unit of reuse is the unit of release.</p>\n</div><p pid=\"28\">Modules are a unit of release and are, therefore, an excellent candidate as the unit of reuse.</p><p pid=\"29\"><strong>Implementation Guidance</strong></p><ul>\n <li>Separate horizontal modules (those that span business domains) from vertical modules (those specific to a business domain).</li>\n <li>Module granularity and weight play a significant role in reuse. Carefully consider each.</li>\n <li>Fine-grained modules with external configuration come with a higher likelihood of reuse. But beware, these modules may be more difficult to use.</li>\n</ul><h3>Cohesive Modules</h3><p pid=\"30\">Module behavior should serve a singular purpose.</p><p pid=\"31\"><strong>Description</strong></p><p pid=\"32\">Cohesion is a measure of how closely related and focused the various responsibilities of a module are. Modules that lack cohesion are more difficult to maintain.</p><p pid=\"33\"><strong>Implementation Guidance</strong></p><ul>\n <li>Pay careful attention to how you allocate classes to their respective modules.</li>\n <li>Classes changing at the same rate and typically reused together belong in the same module.</li>\n <li>Classes changing at different rates and typically not reused together belong in separate modules.</li>\n</ul>","creationDate":1435760394000,"creationDateFormatted":"07/01/2015 02:19 PM","title":"Base Patterns","revision":1,"modificationDate":null,"id":1773494},"3":{"chapter":3,"new":false,"active":true,"body":"<p pid=\"34\">The dependency patterns focus on managing the relationships between modules. They provide guidance on managing coupling that increase the likelihood of module reuse.</p><h3>Acyclic Relationships</h3><p pid=\"35\">Module relationships must be acyclic.</p><p pid=\"36\"><img alt=\"acyclicrelationships\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13443-thumb.png\" /></p><p pid=\"37\"><strong>Description</strong></p><p pid=\"38\">Cyclic relationships complicate the module structure. Apply the following rule to identify cyclic relationships.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13444-thumb.png\" /></p>\n <p>If beginning with module A, you can follow the dependency relationships between the set of modules that A is directly or indirectly dependent upon and you find any dependency on module A within that set, then a cyclic dependency exists between your module structure.</p>\n</div><p pid=\"39\">You should avoid cyclic dependencies.</p><p pid=\"40\"><strong>Implementation Guidance</strong></p><ul>\n <li>Escalation breaks cycles by moving the cause of the cyclic dependency to a managing module at a higher level.</li>\n <li>Demotion breaks cycles by moving the cause of the cyclic dependency to a lower-level module.</li>\n <li>Callbacks break a cycle by defining an abstraction that is injected into the dependent module. This implementation resembles the Observer [GOF] pattern.</li>\n</ul><h3>Levelize Modules</h3><p pid=\"41\">Module relationships should be levelized.</p><p pid=\"42\"><img alt=\"levelizemodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13446-thumb.png\" /></p><p pid=\"43\"><strong>Description</strong></p><p pid=\"44\">Levelization is similar to layering, but is a finer-grained way to manage acyclic relationships between modules. With levelization, a single layer may contain multiple module levels. To levelize modules, do the following: Assign external modules level 0. Modules dependent only on level 0 modules are assigned level 1. Modules dependent on level 1 are assigned level 2. Modules dependent on level n are assigned level n + 1.</p><p pid=\"45\"><strong>Implementation Guidance</strong></p><ul>\n <li>Levels are more granular than the layers in your system. Use levels to manage relationships within layers.</li>\n <li>Levelization demands module relationships be acyclic. You cannot levelize a module structure with cycles.</li>\n <li>A strict levelization scheme, where modules are dependent only on the level directly beneath it, is conceptually ideal but pragmatically difficult.</li>\n</ul><h3>Physical Layers</h3><p pid=\"46\">Module relationships should not violate the conceptual layers.</p><p pid=\"47\"><img alt=\"physicallayers\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13447-thumb.png\" /></p><p pid=\"48\"><strong>Description</strong></p><p pid=\"49\">Layering a system helps ease maintenance and testability of the application. Common layers include presentation (i.e., user interface), domain (i.e., business), and data access. Any conceptually layered software system can be broken down into modules that correspond to these conceptual layers. Physical layers helps increase reusability because each layer is a deployable unit.</p><p pid=\"50\"><strong>Implementation Guidance</strong></p><ul>\n <li>Begin by creating a single coarse-grained module for each layer.</li>\n <li>Enforce the layers using Levelize Build.</li>\n <li>Break out each layer into more cohesive modules and use Levelize Modules to understand and manage the relationships within the layer.</li>\n <li>It's fine if modules within a layer have relationships between them. These modules will be at different levels.</li>\n</ul><h3>Container Independence</h3><p pid=\"51\">Modules should be independent of the runtime container.</p><p pid=\"52\"><img alt=\"containerindependence\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13448-thumb.png\" /></p><p pid=\"53\"><strong>Description</strong></p><p pid=\"54\">Heavyweight modules are dependent upon a specific runtime environment and are difficult to reuse across contexts. Environmental dependencies also negatively affect your ability to test modules. Modules independent of the runtime container are more likely reused, and are more easily maintained and testable.</p><p pid=\"55\"><strong>Implementation Guidance</strong></p><ul>\n <li>Avoid importing container-dependent packages in your module's code.</li>\n <li>Use External Configuration to configure a module so that it can operate in different runtime environments.</li>\n <li>Use dependency injection to abstract container dependencies.</li>\n</ul><h3>Independent Deployment</h3><p pid=\"56\">Modules should be independently deployable units.</p><p pid=\"57\"><img alt=\"independent deployment\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13449-thumb.png\" /></p><p pid=\"58\"><strong>Description</strong></p><p pid=\"59\">The less outgoing dependencies a module has, the easier the module is to reuse. A module with no outgoing dependencies is independently deployable and can be reused without the worry of identifying which additional modules might be necessary. Lower-level modules inherently have fewer outgoing dependencies and increase the opportunity for reuse.</p><p pid=\"60\"><strong>Implementation Guidance</strong></p><ul>\n <li>Not all modules can be independently deployable. Some module dependencies are always necessary.</li>\n <li>In additional to reducing outgoing dependencies, container dependencies must also be minimized for those modules that are independently deployable.</li>\n <li>Highly cohesive modules are easier to make independently deployable units.</li>\n</ul>","creationDate":1442501950000,"creationDateFormatted":"09/17/2015 02:59 PM","title":"Dependency Patterns","revision":2,"modificationDate":null,"id":1897105},"4":{"chapter":4,"new":false,"active":true,"body":"<p pid=\"61\">We want modules that other developers find easy to interact with. The usability patterns help design modules that are easy to understand and use.</p><h3>Published Interface</h3><p pid=\"62\">Make a module's published interface well known.</p><p pid=\"63\"><img alt=\"publishedinterface\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13450-thumb.png\" /></p><p pid=\"64\"><strong>Description</strong></p><p pid=\"65\">Modules should encapsulate implementation details so that other modules don't need to understand the implementation to use the module. A module's published interface exposes the capabilities you want to make available to other developers.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13451-thumb.png\" /></p>\n <p>A published interface consists of the public methods within the public classes within the &quot;exported&quot; packages that other modules are able to invoke.</p>\n</div><p pid=\"66\">In standard Java, there is no way to explicitly state which packages a module exports, so it's difficult to enforce a published interface. Module frameworks, such as OSGi, shine in this situation.</p><p pid=\"67\"><strong>Implementation Guidance</strong></p><ul>\n <li>In standard Java, document the published interface you expect other clients to invoke.</li>\n <li>In standard Java, expose the published interface via abstractions and discourage other developers from using the concrete classes.</li>\n <li>Module frameworks, such as OSGi, allow you to export packages and allow you to more easily enforce a published interface.</li>\n</ul><h3>External Configuration</h3><p pid=\"68\">Modules should be externally configurable.</p><p pid=\"69\"><img alt=\"externalconfig\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13452-thumb.png\" /></p><p pid=\"70\"><strong>Description</strong></p><p pid=\"71\">Module initialization typically requires configuring the module to its environmental context. Externalizing the configuration decreases context dependencies and allows you to use the module across a wider array of environments. External configuration increases a module's reuse, but makes it more difficult to use because developers must understand how to configure the module.</p><p pid=\"72\"><strong>Implementation Guidance</strong></p><ul>\n <li>Use External Configuration to eliminate a module's environmental dependencies.</li>\n <li>Include a configuration file within the module that defines a default configuration, making the module easier to use.</li>\n <li>Remain cognizant of thus tradeoff between increased reuse and decreased usability. In other words, maximizing reuse complicates use.</li>\n</ul><h3>Default Implementation</h3><p pid=\"73\">Provide modules with a default implementation.</p><p pid=\"74\"><img alt=\"defaultimplementation\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13453-thumb.png\" /></p><p pid=\"75\"><strong>Description</strong></p><p pid=\"76\">To maximize reuse, a module must be flexible enough so that it can function in a variety of different operating environments. Yet, making a module easier to use leads us to incorporate more functionality into a module so developers are required to do less when using the module. A default implementation with well-defined extension points helps address this tension.</p><p pid=\"77\"><strong>Implementation Guidance</strong></p><ul>\n <li>When defining a Default Implementation, depend upon the abstract elements of a module (see Abstract Modules or Separate Abstractions).</li>\n <li>Include a default configuration in the module, but make the module externally configurable, as well.</li>\n <li>Always create a Test Module to test the default implementation.</li>\n</ul><h3>Module Fa&ccedil;ade</h3><p pid=\"78\">Create a fa&ccedil;ade serving as a coarse-grained entry point to another finegrained module's underlying implementation.</p><p pid=\"79\"><img alt=\"modulefacade\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13454-thumb.png\" /></p><p pid=\"80\"><strong>Description</strong></p><p pid=\"81\">Fine-grained and lightweight modules are inherently more reusable. But fine-grained modules are also typically dependent on several other modules. A Module Fa&ccedil;ade defines a higher level API that coordinates the work of a set of fine-grained modules. The fa&ccedil;ade emphasizes ease of use while the finer-grained modules emphasize reuse.</p><p pid=\"82\"><strong>Implementation Guidance</strong></p><ul>\n <li>Don't emphasize reuse of the fa&ccedil;ade. Use it to wire together and configure multiple fine-grained modules.</li>\n <li>Place context and environmental dependencies in the fa&ccedil;ade.</li>\n <li>Use the fa&ccedil;ade as an entry point for your integration tests.</li>\n</ul>","creationDate":1442501950000,"creationDateFormatted":"09/17/2015 02:59 PM","title":"Usability Patterns","revision":2,"modificationDate":null,"id":1897106},"5":{"chapter":5,"new":false,"active":true,"body":"<p pid=\"83\">We want software that is easy to extend without modifying the existing codebase. We also want to deploy this new functionality without affecting other areas of the system. The extensibility patterns help us achieve this goal.</p><h3>Abstract Modules</h3><p pid=\"84\">Depend upon the abstract elements of a module.</p><p pid=\"85\"><img alt=\"abstractmodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13455-thumb.png\" /></p><p pid=\"86\"><strong>Description</strong></p><p pid=\"87\">Depending on the abstract elements of a module gives you greater opportunities to extend the system by defining new modules with classes that implement or extend the abstraction. Any clients of the module also have the ability to define their own implementations and plug them into the module.</p><p pid=\"88\"><strong>Implementation Guidance</strong></p><ul>\n <li>Use an Implementation Factory to create a module's underlying implementation.</li>\n <li>Use Abstract Modules when you have many incoming module dependencies and you want the flexibility to swap out underlying implementations.</li>\n <li>Strive to make the abstraction within a module as stable as possible. That is, avoid changes since it will have many many other modules are dependent upon it.</li>\n</ul><h3>Implementation Factory</h3><p pid=\"89\">Use factories to create a module's implementation classes.</p><p pid=\"90\"><img alt=\"implementation factory\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13456-thumb.png\" /></p><p pid=\"91\"><strong>Description</strong></p><p pid=\"92\">Any module whose classes depend upon the abstract elements of another module should avoid referencing any implementation classes. Doing so will compromise your module design. Consider the following rule.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13457-thumb.png\" /></p>\n <p>If a class depending on an abstraction must be changed in order to instantiate a new implementation of the abstraction, the design is flawed.</p>\n</div><p pid=\"93\">Furthermore, if a module must be changed to accommodate the instantiation, the module design is compromised.</p><p pid=\"94\"><strong>Implementation Guidance</strong></p><ul>\n <li>The factory must be separated from the module containing the class instances it creates as well as the module dependent upon the abstractions.</li>\n <li>Externalize the creation of a module's implementation to a configuration file.</li>\n <li>Consider using a dependency injection framework like Spring, OSGi Blueprint, or OSGi Declarative Services. These will serve as your factory to wire together the appropriate implementations at runtime.</li>\n</ul><h3>Separate Abstractions</h3><p pid=\"95\">Place abstractions and the classes that implement them in separate modules.</p><p pid=\"96\"><img alt=\"separate abstractions\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13458-thumb.png\" /></p><p pid=\"97\"><strong>Description</strong></p><p pid=\"98\">Separating abstractions from their implementation offers the greatest flexibility to provide new implementations that completely replace existing implementations. With Separate Abstractions, you can define new behavior and plug it into your system without affecting existing system modules. Separate Abstractions can be used to develop a plug-in architecture. As a general guideline, apply the following rule.</p><div class=\"hot_tip\">\n <p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13459-thumb.png\" /></p>\n <p>Keep the abstraction closer to the classes that depend upon it and further from the classes that extend or implement it.</p>\n</div><p pid=\"99\"><strong>Implementation Guidance</strong></p><ul>\n <li>If all classes that depend upon an abstraction live in a single module, then place the classes and the abstraction in the same module.</li>\n <li>If the classes dependent upon an abstraction live in separate modules, place the abstraction in a module separate from the classes that depend upon it.</li>\n <li>Separating abstractions lends the ultimately flexibility to extend your system, but also increases it's complexity.</li>\n</ul>","creationDate":1442501950000,"creationDateFormatted":"09/17/2015 02:59 PM","title":"Extensibility Patterns","revision":2,"modificationDate":null,"id":1897107},"6":{"chapter":6,"new":false,"active":true,"body":"<p pid=\"100\">The utility patterns are additional tools and techniques that aid modular development. They help you enforce your modular design and ensure quality.</p><h3>Colocate Exceptions</h3><p pid=\"101\">Exceptions should be close to the class or interface that throws them.</p><p pid=\"102\"><img alt=\"colocate\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13460-thumb.png\" /></p><p pid=\"103\"><strong>Description</strong></p><p pid=\"104\">Allocation of exceptions to modules has implications on module dependencies. Putting exceptions close to the classes that catch them creates a dependency from the module that throws the exception to the module containing the exception. Because invoking a method can introduce a module dependency, exceptions should be in the same module as the class containing the method that throws the exception.</p><p pid=\"105\"><strong>Implementation Guidance</strong></p><ul>\n <li>Throw the exception on the interface or abstract class you're bound to and place the exception in the same module as the interface or abstract class.</li>\n <li>If abstractions across several modules throw the same exception, demote the exception to a completely separate module at a lower level.</li>\n</ul><h3>Levelize Build</h3><p pid=\"106\">Execute the build in accordance with module levelization.</p><p pid=\"107\"><img alt=\"levelizebuild\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13461-thumb.png\" /></p><p pid=\"108\"><strong>Description</strong></p><p pid=\"109\">Enforcing module relationships is difficult. Though conceptually you may believe you have an acyclic module structure and fully comprehend the module relationships, a single build target with everything on the classpath allows undesirable cycles and dependencies to creep in. A levelized build helps you enforce your module dependencies. Any dependencies that violate your defined module structure will result in a build failure.</p><p pid=\"110\"><strong>Implementation Guidance</strong></p><ul>\n <li>Avoid a full classpath build, where all classes are built using a single compile target.</li>\n <li>Define separate build targets for modules in different levels. Level 1 modules can be built with only external level 0 modules. At higher levels, include only the modules from lower levels that are required for a successful build.</li>\n <li>Defining new module dependencies will require modifying the build for that module. This is not necessarily undesirable.</li>\n</ul><h3>Test Module</h3><p pid=\"111\">Each module should have a corresponding test module.</p><p pid=\"112\"><img alt=\"testmodule\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13462-thumb.png\" /></p><p pid=\"113\"><strong>Description</strong></p><p pid=\"114\">Test modules contain all of the tests for the classes in a specific module. They allow you to test a module's underlying implementation. A Test Module may contain unit tests that test a module's classes, as well as integration tests that test the entire module's functionality.</p><p pid=\"115\"><strong>Implementation Guidance</strong></p><ul>\n <li>Depending on Abstract Modules make it easier to define mocks and stubs for testing a module independently.</li>\n <li>For larger tests suites, or situations where performance is paramount, separate different types of tests (i.e., unit tests, integration tests, performance tests, etc.) out into separate test modules.</li>\n <li>Ideally, you'll only include the test module and the module under test in the classpath when executing the tests. Pragmatically, some modules may require other dependent modules.</li>\n</ul>","creationDate":1442501950000,"creationDateFormatted":"09/17/2015 02:59 PM","title":"Utility Patterns","revision":2,"modificationDate":null,"id":1897108}}};
        WMODEL_DATA.chapters = null;
        WMODEL_DATA.refcard = {"isOld":false,"rawType":"refcard","author":"Eric Genesky","description":"<p pid=\"2\" class=\"author_name\">By Kirk Knoernschild</p><h2>About the Modularity Patterns</h2><p pid=\"3\">Module frameworks are gaining traction on the Java platform. Though modularity isn't a new concept, it promises to change the way we develop software applications. You'll only be able to realize the benefits of modularity if you understand how to design more modular software systems.</p><p pid=\"4\">The modularity patterns lay the foundation necessary to incorporate modular design thinking into your development initiatives. No module framework is necessary to use these patterns, and you already have many of the tools you need to design modular software. This refcard provides a quick reference to the 18 modularity patterns discussed in the book <em>Java Application Architecture: Modularity Patterns with Examples Using OSGi.</em></p><p pid=\"5\">The modularity patterns are not specific to the Java platform. They can be applied on any platform by treating the unit of release and deployment as the module. Each pattern includes a diagram (except for base patterns), description, and implementation guidance.</p><p pid=\"6\"><strong>Base Patterns:</strong> Fundamental modular design concepts upon which several other patterns exist.</p><p pid=\"7\"><strong>Dependency Patterns:</strong> Used to help you manage dependencies between modules.</p><p pid=\"8\"><strong>Usability Patterns:</strong> Used to help you design modules that are easy to use.</p><p pid=\"9\"><strong>Extensibility Patterns:</strong> Used to help you design flexible modules that you can extend with new functionality.</p><p pid=\"10\"><strong>Utility Patterns:</strong> Used as tools to aid modular development.</p><h3>Logical vs. Modular Design</h3><p pid=\"11\">Almost all well-known principles and patterns that aid software design address logical design. Identifying the methods of a class, relationships between classes, and the system package structure are all logical design issues. The vast majority of development teams spend their time dealing with logical design issues. A flexible logical design eases maintenance and increases extensibility.</p><p pid=\"12\">Logical design is just one piece of the software design and architecture challenge, however. The other is modular design, which focuses on the physical entities and the relationships between them. Identifying the entities containing your logical design constructs and managing dependencies between the units of deployment are examples of modular design. Without modular design, you may not realize the benefits you expect from your logical design. The modularity patterns help you:</p><ul><li>Design software that is extensible, reusable, maintainable, and adaptable.</li><li>Design modular software today, in anticipation of future platform support for modularity.</li><li>Break large software systems into a flexible composite of collaborating modules.</li><li>Understand where to place your architectural focus</li><li>Migrate large-scale monolithic applications to applications with a modular architecture.</li></ul><h3>The Two Facets of Modularity</h3><p pid=\"13\">There are two facets of modularity.</p><p pid=\"14\">The runtime model focuses on how to manage software systems at runtime. A module system, such as OSGi, is required to take advantage of the runtime model.</p><p pid=\"15\">The development model deals with how developers create modular software. The development model can be broken down into two subcategories. The programming model is how you interact with a module framework to take advantage of the runtime benefits of modularity. The design paradigm is the set of patterns you apply to design great modules.</p><p pid=\"16\">A module framework gives you runtime support and a programming model for modularity. But a module framework won't help you design great software modules. The patterns in this refcard address the design paradigm and help you design modular software.</p><h3>Module Defined</h3><p pid=\"17\">A software module is a deployable, manageable, natively reusable, composable, stateless unit of software that provides a concise interface to consumers. On the Java platform, a module is a JAR file, as depicted in the diagram. The patterns in this refcard help you design modular software and realize the benefits of modularity.</p><p pid=\"18\"><img alt=\"module defined\" class=\"fr-dii fr-fil\" src=\"/storage/rc-covers/13440-thumb.png\"></p><h2>Base Patterns</h2><p pid=\"19\">The base patterns are the fundamental elements upon which the other patterns exist. They establish the conscientious thought process that goes into designing systems with a modular architecture. They focus on modules as the unit of reuse, dependency management, and cohesion.</p><h3>Manage Relationships</h3><p pid=\"20\">Design module relationships.</p><p pid=\"21\"><strong>Description</strong></p><p pid=\"22\">A relationship between two modules exists when a class within one module imports at least a single class within another module. In other words:</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13441-thumb.png\"></p><p>If changing the contents of a module, M2, may impact the contents of another module, M1, we can say that M1 has a physical dependency on M2.</p></div><p pid=\"23\">Excessive dependencies will make your modules more difficult to maintain, reuse, and test.</p><p pid=\"24\"><strong>Implementation Guidance</strong></p><ul><li>Avoid modules with excessive incoming and outgoing dependencies.</li><li>Modules with many incoming dependencies should be stable. That is, they should change infrequently</li><li>Use module dependencies as a system of checks and balances. For instance, enforce relationships between software layers using modularity (see Physical Layers).</li></ul><h3>Module Reuse</h3><p pid=\"25\">Emphasize reusability at the module level.</p><p pid=\"26\"><strong>Description</strong></p><p pid=\"27\">An oft-cited benefit of object-oriented development is reuse. Unfortunately, objects (or classes) are not an adequate reuse construct. The Reuse Release Equivalence Principle explains why.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13442-thumb.png\"></p><p>The unit of reuse is the unit of release.</p></div><p pid=\"28\">Modules are a unit of release and are, therefore, an excellent candidate as the unit of reuse.</p><p pid=\"29\"><strong>Implementation Guidance</strong></p><ul><li>Separate horizontal modules (those that span business domains) from vertical modules (those specific to a business domain).</li><li>Module granularity and weight play a significant role in reuse. Carefully consider each.</li><li>Fine-grained modules with external configuration come with a higher likelihood of reuse. But beware, these modules may be more difficult to use.</li></ul><h3>Cohesive Modules</h3><p pid=\"30\">Module behavior should serve a singular purpose.</p><p pid=\"31\"><strong>Description</strong></p><p pid=\"32\">Cohesion is a measure of how closely related and focused the various responsibilities of a module are. Modules that lack cohesion are more difficult to maintain.</p><p pid=\"33\"><strong>Implementation Guidance</strong></p><ul><li>Pay careful attention to how you allocate classes to their respective modules.</li><li>Classes changing at the same rate and typically reused together belong in the same module.</li><li>Classes changing at different rates and typically not reused together belong in separate modules.</li></ul><h2>Dependency Patterns</h2><p pid=\"34\">The dependency patterns focus on managing the relationships between modules. They provide guidance on managing coupling that increase the likelihood of module reuse.</p><h3>Acyclic Relationships</h3><p pid=\"35\">Module relationships must be acyclic.</p><p pid=\"36\"><img alt=\"acyclicrelationships\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13443-thumb.png\"></p><p pid=\"37\"><strong>Description</strong></p><p pid=\"38\">Cyclic relationships complicate the module structure. Apply the following rule to identify cyclic relationships.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13444-thumb.png\"></p><p>If beginning with module A, you can follow the dependency relationships between the set of modules that A is directly or indirectly dependent upon and you find any dependency on module A within that set, then a cyclic dependency exists between your module structure.</p></div><p pid=\"39\">You should avoid cyclic dependencies.</p><p pid=\"40\"><strong>Implementation Guidance</strong></p><ul><li>Escalation breaks cycles by moving the cause of the cyclic dependency to a managing module at a higher level.</li><li>Demotion breaks cycles by moving the cause of the cyclic dependency to a lower-level module.</li><li>Callbacks break a cycle by defining an abstraction that is injected into the dependent module. This implementation resembles the Observer [GOF] pattern.</li></ul><h3>Levelize Modules</h3><p pid=\"41\">Module relationships should be levelized.</p><p pid=\"42\"><img alt=\"levelizemodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13446-thumb.png\"></p><p pid=\"43\"><strong>Description</strong></p><p pid=\"44\">Levelization is similar to layering, but is a finer-grained way to manage acyclic relationships between modules. With levelization, a single layer may contain multiple module levels. To levelize modules, do the following: Assign external modules level 0. Modules dependent only on level 0 modules are assigned level 1. Modules dependent on level 1 are assigned level 2. Modules dependent on level n are assigned level n + 1.</p><p pid=\"45\"><strong>Implementation Guidance</strong></p><ul><li>Levels are more granular than the layers in your system. Use levels to manage relationships within layers.</li><li>Levelization demands module relationships be acyclic. You cannot levelize a module structure with cycles.</li><li>A strict levelization scheme, where modules are dependent only on the level directly beneath it, is conceptually ideal but pragmatically difficult.</li></ul><h3>Physical Layers</h3><p pid=\"46\">Module relationships should not violate the conceptual layers.</p><p pid=\"47\"><img alt=\"physicallayers\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13447-thumb.png\"></p><p pid=\"48\"><strong>Description</strong></p><p pid=\"49\">Layering a system helps ease maintenance and testability of the application. Common layers include presentation (i.e., user interface), domain (i.e., business), and data access. Any conceptually layered software system can be broken down into modules that correspond to these conceptual layers. Physical layers helps increase reusability because each layer is a deployable unit.</p><p pid=\"50\"><strong>Implementation Guidance</strong></p><ul><li>Begin by creating a single coarse-grained module for each layer.</li><li>Enforce the layers using Levelize Build.</li><li>Break out each layer into more cohesive modules and use Levelize Modules to understand and manage the relationships within the layer.</li><li>It's fine if modules within a layer have relationships between them. These modules will be at different levels.</li></ul><h3>Container Independence</h3><p pid=\"51\">Modules should be independent of the runtime container.</p><p pid=\"52\"><img alt=\"containerindependence\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13448-thumb.png\"></p><p pid=\"53\"><strong>Description</strong></p><p pid=\"54\">Heavyweight modules are dependent upon a specific runtime environment and are difficult to reuse across contexts. Environmental dependencies also negatively affect your ability to test modules. Modules independent of the runtime container are more likely reused, and are more easily maintained and testable.</p><p pid=\"55\"><strong>Implementation Guidance</strong></p><ul><li>Avoid importing container-dependent packages in your module's code.</li><li>Use External Configuration to configure a module so that it can operate in different runtime environments.</li><li>Use dependency injection to abstract container dependencies.</li></ul><h3>Independent Deployment</h3><p pid=\"56\">Modules should be independently deployable units.</p><p pid=\"57\"><img alt=\"independent deployment\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13449-thumb.png\"></p><p pid=\"58\"><strong>Description</strong></p><p pid=\"59\">The less outgoing dependencies a module has, the easier the module is to reuse. A module with no outgoing dependencies is independently deployable and can be reused without the worry of identifying which additional modules might be necessary. Lower-level modules inherently have fewer outgoing dependencies and increase the opportunity for reuse.</p><p pid=\"60\"><strong>Implementation Guidance</strong></p><ul><li>Not all modules can be independently deployable. Some module dependencies are always necessary.</li><li>In additional to reducing outgoing dependencies, container dependencies must also be minimized for those modules that are independently deployable.</li><li>Highly cohesive modules are easier to make independently deployable units.</li></ul><h2>Usability Patterns</h2><p pid=\"61\">We want modules that other developers find easy to interact with. The usability patterns help design modules that are easy to understand and use.</p><h3>Published Interface</h3><p pid=\"62\">Make a module's published interface well known.</p><p pid=\"63\"><img alt=\"publishedinterface\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13450-thumb.png\"></p><p pid=\"64\"><strong>Description</strong></p><p pid=\"65\">Modules should encapsulate implementation details so that other modules don't need to understand the implementation to use the module. A module's published interface exposes the capabilities you want to make available to other developers.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13451-thumb.png\"></p><p>A published interface consists of the public methods within the public classes within the \"exported\" packages that other modules are able to invoke.</p></div><p pid=\"66\">In standard Java, there is no way to explicitly state which packages a module exports, so it's difficult to enforce a published interface. Module frameworks, such as OSGi, shine in this situation.</p><p pid=\"67\"><strong>Implementation Guidance</strong></p><ul><li>In standard Java, document the published interface you expect other clients to invoke.</li><li>In standard Java, expose the published interface via abstractions and discourage other developers from using the concrete classes.</li><li>Module frameworks, such as OSGi, allow you to export packages and allow you to more easily enforce a published interface.</li></ul><h3>External Configuration</h3><p pid=\"68\">Modules should be externally configurable.</p><p pid=\"69\"><img alt=\"externalconfig\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13452-thumb.png\"></p><p pid=\"70\"><strong>Description</strong></p><p pid=\"71\">Module initialization typically requires configuring the module to its environmental context. Externalizing the configuration decreases context dependencies and allows you to use the module across a wider array of environments. External configuration increases a module's reuse, but makes it more difficult to use because developers must understand how to configure the module.</p><p pid=\"72\"><strong>Implementation Guidance</strong></p><ul><li>Use External Configuration to eliminate a module's environmental dependencies.</li><li>Include a configuration file within the module that defines a default configuration, making the module easier to use.</li><li>Remain cognizant of thus tradeoff between increased reuse and decreased usability. In other words, maximizing reuse complicates use.</li></ul><h3>Default Implementation</h3><p pid=\"73\">Provide modules with a default implementation.</p><p pid=\"74\"><img alt=\"defaultimplementation\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13453-thumb.png\"></p><p pid=\"75\"><strong>Description</strong></p><p pid=\"76\">To maximize reuse, a module must be flexible enough so that it can function in a variety of different operating environments. Yet, making a module easier to use leads us to incorporate more functionality into a module so developers are required to do less when using the module. A default implementation with well-defined extension points helps address this tension.</p><p pid=\"77\"><strong>Implementation Guidance</strong></p><ul><li>When defining a Default Implementation, depend upon the abstract elements of a module (see Abstract Modules or Separate Abstractions).</li><li>Include a default configuration in the module, but make the module externally configurable, as well.</li><li>Always create a Test Module to test the default implementation.</li></ul><h3>Module Faade</h3><p pid=\"78\">Create a faade serving as a coarse-grained entry point to another finegrained module's underlying implementation.</p><p pid=\"79\"><img alt=\"modulefacade\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13454-thumb.png\"></p><p pid=\"80\"><strong>Description</strong></p><p pid=\"81\">Fine-grained and lightweight modules are inherently more reusable. But fine-grained modules are also typically dependent on several other modules. A Module Faade defines a higher level API that coordinates the work of a set of fine-grained modules. The faade emphasizes ease of use while the finer-grained modules emphasize reuse.</p><p pid=\"82\"><strong>Implementation Guidance</strong></p><ul><li>Don't emphasize reuse of the faade. Use it to wire together and configure multiple fine-grained modules.</li><li>Place context and environmental dependencies in the faade.</li><li>Use the faade as an entry point for your integration tests.</li></ul><h2>Extensibility Patterns</h2><p pid=\"83\">We want software that is easy to extend without modifying the existing codebase. We also want to deploy this new functionality without affecting other areas of the system. The extensibility patterns help us achieve this goal.</p><h3>Abstract Modules</h3><p pid=\"84\">Depend upon the abstract elements of a module.</p><p pid=\"85\"><img alt=\"abstractmodules\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13455-thumb.png\"></p><p pid=\"86\"><strong>Description</strong></p><p pid=\"87\">Depending on the abstract elements of a module gives you greater opportunities to extend the system by defining new modules with classes that implement or extend the abstraction. Any clients of the module also have the ability to define their own implementations and plug them into the module.</p><p pid=\"88\"><strong>Implementation Guidance</strong></p><ul><li>Use an Implementation Factory to create a module's underlying implementation.</li><li>Use Abstract Modules when you have many incoming module dependencies and you want the flexibility to swap out underlying implementations.</li><li>Strive to make the abstraction within a module as stable as possible. That is, avoid changes since it will have many many other modules are dependent upon it.</li></ul><h3>Implementation Factory</h3><p pid=\"89\">Use factories to create a module's implementation classes.</p><p pid=\"90\"><img alt=\"implementation factory\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13456-thumb.png\"></p><p pid=\"91\"><strong>Description</strong></p><p pid=\"92\">Any module whose classes depend upon the abstract elements of another module should avoid referencing any implementation classes. Doing so will compromise your module design. Consider the following rule.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13457-thumb.png\"></p><p>If a class depending on an abstraction must be changed in order to instantiate a new implementation of the abstraction, the design is flawed.</p></div><p pid=\"93\">Furthermore, if a module must be changed to accommodate the instantiation, the module design is compromised.</p><p pid=\"94\"><strong>Implementation Guidance</strong></p><ul><li>The factory must be separated from the module containing the class instances it creates as well as the module dependent upon the abstractions.</li><li>Externalize the creation of a module's implementation to a configuration file.</li><li>Consider using a dependency injection framework like Spring, OSGi Blueprint, or OSGi Declarative Services. These will serve as your factory to wire together the appropriate implementations at runtime.</li></ul><h3>Separate Abstractions</h3><p pid=\"95\">Place abstractions and the classes that implement them in separate modules.</p><p pid=\"96\"><img alt=\"separate abstractions\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13458-thumb.png\"></p><p pid=\"97\"><strong>Description</strong></p><p pid=\"98\">Separating abstractions from their implementation offers the greatest flexibility to provide new implementations that completely replace existing implementations. With Separate Abstractions, you can define new behavior and plug it into your system without affecting existing system modules. Separate Abstractions can be used to develop a plug-in architecture. As a general guideline, apply the following rule.</p><div class=\"hot_tip\"><p><img alt=\"Hot Tip\" class=\"hot_tip_icon fr-dii fr-fil\" src=\"/storage/rc-covers/13459-thumb.png\"></p><p>Keep the abstraction closer to the classes that depend upon it and further from the classes that extend or implement it.</p></div><p pid=\"99\"><strong>Implementation Guidance</strong></p><ul><li>If all classes that depend upon an abstraction live in a single module, then place the classes and the abstraction in the same module.</li><li>If the classes dependent upon an abstraction live in separate modules, place the abstraction in a module separate from the classes that depend upon it.</li><li>Separating abstractions lends the ultimately flexibility to extend your system, but also increases it's complexity.</li></ul><h2>Utility Patterns</h2><p pid=\"100\">The utility patterns are additional tools and techniques that aid modular development. They help you enforce your modular design and ensure quality.</p><h3>Colocate Exceptions</h3><p pid=\"101\">Exceptions should be close to the class or interface that throws them.</p><p pid=\"102\"><img alt=\"colocate\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13460-thumb.png\"></p><p pid=\"103\"><strong>Description</strong></p><p pid=\"104\">Allocation of exceptions to modules has implications on module dependencies. Putting exceptions close to the classes that catch them creates a dependency from the module that throws the exception to the module containing the exception. Because invoking a method can introduce a module dependency, exceptions should be in the same module as the class containing the method that throws the exception.</p><p pid=\"105\"><strong>Implementation Guidance</strong></p><ul><li>Throw the exception on the interface or abstract class you're bound to and place the exception in the same module as the interface or abstract class.</li><li>If abstractions across several modules throw the same exception, demote the exception to a completely separate module at a lower level.</li></ul><h3>Levelize Build</h3><p pid=\"106\">Execute the build in accordance with module levelization.</p><p pid=\"107\"><img alt=\"levelizebuild\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13461-thumb.png\"></p><p pid=\"108\"><strong>Description</strong></p><p pid=\"109\">Enforcing module relationships is difficult. Though conceptually you may believe you have an acyclic module structure and fully comprehend the module relationships, a single build target with everything on the classpath allows undesirable cycles and dependencies to creep in. A levelized build helps you enforce your module dependencies. Any dependencies that violate your defined module structure will result in a build failure.</p><p pid=\"110\"><strong>Implementation Guidance</strong></p><ul><li>Avoid a full classpath build, where all classes are built using a single compile target.</li><li>Define separate build targets for modules in different levels. Level 1 modules can be built with only external level 0 modules. At higher levels, include only the modules from lower levels that are required for a successful build.</li><li>Defining new module dependencies will require modifying the build for that module. This is not necessarily undesirable.</li></ul><h3>Test Module</h3><p pid=\"111\">Each module should have a corresponding test module.</p><p pid=\"112\"><img alt=\"testmodule\" class=\"fr-fil fr-dib\" src=\"/storage/rc-covers/13462-thumb.png\"></p><p pid=\"113\"><strong>Description</strong></p><p pid=\"114\">Test modules contain all of the tests for the classes in a specific module. They allow you to test a module's underlying implementation. A Test Module may contain unit tests that test a module's classes, as well as integration tests that test the entire module's functionality.</p><p pid=\"115\"><strong>Implementation Guidance</strong></p><ul><li>Depending on Abstract Modules make it easier to define mocks and stubs for testing a module independently.</li><li>For larger tests suites, or situations where performance is paramount, separate different types of tests (i.e., unit tests, integration tests, performance tests, etc.) out into separate test modules.</li><li>Ideally, you'll only include the test module and the module under test in the classpath when executing the tests. Pragmatically, some modules may require other dependent modules.</li></ul>","section":"Integration","title":"Patterns of Modular Architecture","authorId":975993,"creationDate":1354103774000,"url":"/refcardz/patterns-modular-architecture","tags":["patterns of modular architecture","java","devops"],"cover":"//dz2cdn2.dzone.com/storage/rc-covers/4225-dzone_refcard_166.png","publishYear":"2018","pdf":"/asset/download/38831","topicNames":["devops","java","patterns of modular architecture"],"subtitle":"18 Patterns for the Java Platform","authorUrl":"/users/975993/egenesky.html","publishMonth":"04","id":520282,"nComments":0,"portal":{"id":7,"code":"integration","title":"Integration","shortTitle":"enterprise-integration-training-tools-news","blurb":"Enterprise Integration news, design patterns and training resources from DZone, the trusted source for advanced software design and devops best practices."},"views":114698,"authors":[{"name":"kirkk","reputation":61,"id":238461}]};
        WMODEL_DATA.daysOldTitle = "Heads up...this #type is old!";
        WMODEL_DATA.OPTIONS = {};
        TH.installWidgetController('assets.content.chapters', 'assetsContentChapters5', WMODEL_DATA, typeof controller == 'function' ? controller : null, null, ' oUhbcgvMlhqMSsfboUhM', null);
        })();
        (function() {
            
            var WMODEL_DATA = {};
            WMODEL_DATA.authenticated = false;
        WMODEL_DATA.OPTIONS = {};
        TH.installWidgetController('footer.footerV2', 'footerFooterV28', WMODEL_DATA, typeof controller == 'function' ? controller : null, null, ' oUhbdrfPmhwBdrfXM', null);
        })();
        (function() {
            function controller($scope,  shareThis, TH$Dialog, TH$Service, $location) {
    $scope.getEditUrl = function(id, type) {
        if (!type || type == 'article') {
            return '/content/' + id + '/edit.html';
        } else {
            return '/dzone/staff/' + type + (type == 'refcard' ? 'z' : 's') + '/' + id + '/edit.html';
        }
    };

    $scope.share = function(socialNet, url, title){
        shareThis.shareThis(socialNet, url, title);
    };

    $scope.canDelete = function(article) {
        return article.canDelete;
    };

    $scope.canPublish = function(article) {
        return article.canPublish;
    };

    $scope.canEdit = function(article) {
        return article.canEdit;
    };

    $scope.toggleComments = function(article) {
        if(!article.isLocked) {
            TH$Service.action('articles.lockNode', {type: 'node', id: article.id}).then(function(result) {
                if(result){
                    article.isLocked = true;
                    TH$Dialog.success('You have disabled all comments for this Article');
                }else{
                    TH$Dialog.error('error','Your requested was denied')
                }
            });
        }else {
            TH$Service.action('articles.unlockNode', {type: 'node', id: article.id}).then(function(result) {
                if(result){
                    article.isLocked = false;
                    TH$Dialog.success('You have enabled all comments for this Article');
                }else{
                    TH$Dialog.error('error','Your requested was denied')
                }
            });
        }
    };

    $scope.toggleLimitComments = function (article) {
        if (!article.isLimited) {
            TH$Service.action('articles.limitNode', {type: 'node', id: article.id}).then(function (result) {
                if (result) {
                    article.isLimited = true;
                    TH$Dialog.success('You have limited comments for this Article. Now all comments will go through moderation.');
                } else {
                    TH$Dialog.error('error', 'Your requested was denied')
                }
            });
        } else {
            TH$Service.action('articles.unlimitNode', {type: 'node', id: article.id}).then(function (result) {
                if (result) {
                    article.isLimited = false;
                    TH$Dialog.success('You removed the limits for comments on this Article');
                } else {
                    TH$Dialog.error('error', 'Your requested was denied')
                }
            });
        }
    };

    $scope.shareTwitter = function($event, title, url){

        $event.preventDefault();
        $event.stopPropagation();
        var twitter = 'https://twitter.com/intent/tweet';
        var link = $location.protocol() + '://' + location.host + url;
        var ref = location.host;
        var params = '?text=' + encodeURIComponent(title) + '&url=' + link + '&ref=dzone.com&via=DZoneInc';
        var win = window.open(twitter + params, '_blank');
        win.focus();
    };

    $scope.edit = function(link) {
        TH$Dialog.open({
            loadWidget: 'links.postPreview',
            widgetArgs: {
                edit: link.id
            },
            size: 'xbig'
        }).then(function (result) {
            $scope.link.title = result.title;
            $scope.link.linkDescription = result.content;
            $scope.link.thumb = result.thumb;
            $scope.link.tags = result.topics;
        });
    };

    $scope.deleteLink = function(article) {
        var title = article.title;
        var type = 'link';
        if(article.header){
            title = (article.header.type == 'article') ? article.header.title : article.title;
            type = (article.header.type == 'article') ? 'article' : 'link';
        }
        TH$Dialog.confirm('Do you want to delete "' + title + '"?').then(function() {
            return TH$Service.action('delete', {type: type, id: article.id});
        }).then(function() {
            article.deleted = true;
        });
    };
}


            var WMODEL_DATA = {};
            WMODEL_DATA.OPTIONS = {};
        TH.installWidgetController('content.commentsSlider', 'contentCommentsSlider7', WMODEL_DATA, typeof controller == 'function' ? controller : null, null, ' oUhbaqbcaibvnWffWVcC', null);
        })();
        (function() {
            
            var WMODEL_DATA = {};
            WMODEL_DATA.name = "commentsSlider";
        WMODEL_DATA.slot = null;
        WMODEL_DATA.OPTIONS = {"name":"commentsSlider"};
        TH.installWidgetController('components.slider', 'componentsSlider6', WMODEL_DATA, typeof controller == 'function' ? controller : null, null, ' oUhballbvbdSaoUhM', null);
        })();
        </script>
    <script type="text/javascript">

        TH.installWidgetDirective('users.profile.mini', 'usersProfileMini', {"service":{"user":"="},"extra":null}, 'widget.html', '/widgets/users/profile/mini/widget.js', [{name: 'DEFAULT', data: true}], ' oUhbwfbqddOeffWVcC', null, ['widget.less']);
        
        TH.installWidgetDirective('header.sections', 'headerSections', {"service":null,"extra":null}, 'widget.html', '/widgets/header/sections/widget.js', null, ' oUhbWOfbRllbgfgpM', null, ['sections.less']);
        
        TH.installWidgetDirective('loading', 'loading', {"service":null,"extra":null}, 'widget.html', '/widgets/loading/widget.js', null, ' oUhbjOfQoUhM', null, ['widget.less']);
        
        TH.installWidgetDirective('refcardz.mini', 'refcardzMini', {"service":{"asset":"="},"extra":null}, 'widget.html', '', [{name: 'DEFAULT', data: true}], ' oUhbfSbmWfSoUhM', null, ['widget.less']);
        
        TH.installWidgetDirective('users.registration', 'usersRegistration', {"service":null,"extra":null}, 'widget.html', '/widgets/users/registration/widget.js', [{name: 'validateMail', data: false},{name: 'validateUsername', data: false}], ' oUhbwfbfZvbllfWVcC', ['/scripts/utilities/tools.js'], ['widget.less']);
        
        TH.installWidgetDirective('links.listV2', 'linksListV2', {"service":null,"extra":null}, 'widget.ftl', '/widgets/links/listV2/widget.js', [{name: 'linkData', data: true},{name: 'parseLink', data: true},{name: 'list', data: true}], ' oUhbdhbdvXVkyBC', ['directives.js','filters.js'], ['listV2.less']);
        
        TH.installWidgetDirective('errors.recaptcha', 'errorsRecaptcha', {"service":null,"extra":null}, 'widget.html', '/widgets/errors/recaptcha/widget.js', null, ' oUhbfptaR_fSfWVcC', null, ['widget.less']);
        
        TH.installWidgetDirective('users.uiPrefs', 'usersUiPrefs', {"service":null,"extra":null}, 'widget.html', '/widgets/users/uiPrefs/widget.js', null, '', null, null);
        
        TH.installWidgetDirective('users.loginForm', 'usersLoginForm', {"service":null,"extra":null}, 'widget.html', '/widgets/users/loginForm/widget.js', null, ' oUhbwfbjZcpWoUhM', null, ['widget.less']);
        
        TH.installWidgetDirective('links.sources.mini', 'linksSourcesMini', {"service":{"link":"="},"extra":null}, 'widget.html', '', [{name: 'DEFAULT', data: true}], ' oUhbdhbqvRbefWfSC', null, ['mini.less']);
        
        TH.installWidgetDirective('users.noMembership', 'usersNoMembership', {"service":null,"extra":null}, 'widget.html', '/widgets/users/noMembership/widget.js', null, ' oUhbwfblaYfjhfWVcC', null, ['widget.less']);
        
        TH.installWidgetDirective('errors.general', 'errorsGeneral', {"service":null,"extra":null}, 'widget.html', '/widgets/errors/general/widget.js', null, ' oUhbfptQbfWfWVcC', null, ['widget.less']);
        
        TH.installWidgetDirective('manage.customNotifications.preview', 'manageCustomNotificationsPreview', {"service":null,"extra":null}, 'widget.html', '/widgets/manage/customNotifications/preview/widget.js', null, ' oUhbXYVMwrjrYVdgpZfnkZfnkM dLgZWBLPpWkKeXB', null, ['preview.less','/lib/froala-2/css/froala_style.min.css']);
        
        TH.installWidgetDirective('assets.mini', 'assetsMini', {"service":{"asset":"="},"extra":null}, 'widget.html', '', [{name: 'DEFAULT', data: true}], ' oUhbcgvWfSoUhM', null, ['widget.less']);
        
        TH.installWidgetDirective('links.postPreview', 'linksPostPreview', {"service":{"url":"=","edit":"="},"extra":null}, 'widget.html', '/widgets/links/postPreview/widget.js', [{name: 'topics', data: true},{name: 'DEFAULT', data: true}], ' oUhbdhbnvqjXfoUhM', null, ['widget.less']);
        
        TH.installWidgetDirective('header.zonesDropdown', 'headerZonesDropdown', {"service":{"portal":"="},"extra":{"hover":"="}}, 'widget.html', '/widgets/header/zonesDropdown/widget.js', [{name: 'DEFAULT', data: true}], '', null, null);
        
        TH.installWidgetDirective('manage.customNotifications.test', 'manageCustomNotificationsTest', {"service":{"customNotification":"="},"extra":null}, 'widget.html', '/widgets/manage/customNotifications/test/widget.js', [{name: 'searchGroups', data: true},{name: 'DEFAULT', data: true},{name: 'searchUsers', data: true}], ' oUhbXYVMwrjrYVdgpcgcoUhM', null, ['widget.less']);
        
        TH.installWidgetDirective('manage.revisions', 'manageRevisions', {"service":{"node":"=","body":"=","masterTemplate":"=","format":"=","mode":"="},"extra":null}, 'widget.html', '/widgets/manage/revisions/widget.js', [{name: 'DEFAULT', data: true},{name: 'revision', data: true}], ' oUhbXYVajkgpfWVcC', null, ['widget.less']);
        
        TH.installWidgetDirective('content.commentBox', 'contentCommentBox', {"service":{"parent":"="},"extra":{"count":"=","limited":"="}}, 'widget.html', '/widgets/content/commentBox/widget.js', [{name: 'post', data: false},{name: 'edit', data: false},{name: 'DEFAULT', data: true}], ' oUhbaqbcaibevMkaqbC', null, ['comments.less']);
        
        TH.installWidgetDirective('article.listV2', 'articleListV2', {"service":null,"extra":null}, 'widget.html', '/widgets/article/listV2/widget.js', [{name: 'list', data: true},{name: 'sortCount', data: true}], ' oUhbblYOdvXKuV_VkcC', ['directives.js'], ['article-list.less']);
        
        TH.installWidgetDirective('leads.addCRM', 'leadsAddCRM', {"service":null,"extra":null}, 'widget.html', '/widgets/leads/addCRM/widget.js', [{name: 'DEFAULT', data: true}], ' oUhb_ObOQnKRMnM oUhbcgvKRcgcONfPC', ['/scripts/utilities/tools.js'], ['add-crm.less','add-ref.less']);
        
        TH.installWidgetDirective('users.questionForm', 'usersQuestionForm', {"service":null,"extra":null}, 'widget.html', '/widgets/users/questionForm/widget.js', null, ' oUhbwfbuglldnfWVcC', null, ['widget.less']);
            </script>
</body>